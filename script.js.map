{"version":3,"file":"script.js","mappings":"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","sources":["webpack://cam-3d-animation/external var \"THREE\"","webpack://cam-3d-animation/./src/config.ts","webpack://cam-3d-animation/./src/scene.ts","webpack://cam-3d-animation/./src/camera.ts","webpack://cam-3d-animation/./src/materials.ts","webpack://cam-3d-animation/./src/objects.ts","webpack://cam-3d-animation/./src/paths.ts","webpack://cam-3d-animation/./src/animation-system.ts","webpack://cam-3d-animation/./src/main.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = THREE;","import * as THREE from \"three\";\n\n// Camera Configuration\nexport const CAMERA_CONFIG = {\n  originalFOV: 50,\n  wideFOV: 80,\n  near: 0.001,\n  far: 1000,\n};\n\n// Mobile Detection\nexport const isMobile = window.innerWidth < 768;\n\n// Camera Positions\nexport const CAMERA_POSITIONS = {\n  startMobile: new THREE.Vector3(0.5, 2.5, 2.5),\n  startDesktop: new THREE.Vector3(-2, 2.5, 2),\n  secondMobile: new THREE.Vector3(0.5, 2.5, 2),\n  secondDesktop: new THREE.Vector3(-1.5, 3, 2),\n  mobileLookAt: new THREE.Vector3(0.5, 0.5, -1.5),\n  desktopLookAt: new THREE.Vector3(-1.25, 0.5, 0.25),\n};\n\n// Get correct positions based on device\nexport const startPosition = isMobile\n  ? CAMERA_POSITIONS.startMobile\n  : CAMERA_POSITIONS.startDesktop;\nexport const secondPosition = isMobile\n  ? CAMERA_POSITIONS.secondMobile\n  : CAMERA_POSITIONS.secondDesktop;\nexport const lookAtPosition = isMobile\n  ? CAMERA_POSITIONS.mobileLookAt\n  : CAMERA_POSITIONS.desktopLookAt;\n\n// Maze Center Position for Bezier Curves\nexport const MAZE_CENTER = new THREE.Vector3(0.45175, 0.5, 0.55675);\n\n// Asset URLs\nexport const ASSETS = {\n  mazeTexture: \"https://c-am.b-cdn.net/CAM/matcap24.png\",\n  mazeModel: \"https://c-am.b-cdn.net/CAM/c-am-assets-3.glb\",\n};\n\n// DOM Selectors\nexport const SELECTORS = {\n  mazeContainer: \".el--home-maze.el\",\n  scrollComponent: \".cmp--scroll\",\n  introSection: \".sc--intro\",\n  homeSection: \".sc--home\",\n  povSection: \".sc--pov\",\n  finalSection: \".sc--final.sc\",\n  parentElements: \".cmp--pov.cmp\",\n};\n\n// POV Positions for Ghosts\nexport const POV_POSITIONS = {\n  ghost1: new THREE.Vector3(0.65725, 0.55, 0.75325),\n  ghost2: new THREE.Vector3(0.9085, 0.55, 0.8035),\n  ghost3: new THREE.Vector3(0.75775, 0.55, 1.05475),\n  ghost4: new THREE.Vector3(0.65725, 0.55, 1.0045),\n  ghost5: new THREE.Vector3(0.15475, 0.55, 1.15525),\n};\n\n// Shader Configuration\nexport const SHADER_CONFIG = {\n  vertexShader: `\n    varying vec3 vPosition;\n    void main() {\n      vPosition = position;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  `,\n  fragmentShader: `\n    varying vec3 vPosition;\n    uniform float mixValue;\n    void main() {\n      float factor = (vPosition.y + 1.0) / 2.0;\n      vec3 colorA = vec3(0.0, 0.0, 1.0);\n      vec3 colorB = vec3(0.0, 1.0, 1.0);\n      vec3 colorC = vec3(1.0, 0.0, 0.0);\n      vec3 colorD = vec3(1.0, 1.0, 0.0);\n      \n      vec3 gradientA = mix(colorA, colorB, factor);\n      vec3 gradientB = mix(colorC, colorD, factor);\n      \n      vec3 finalColor = mix(gradientA, gradientB, mixValue);\n      gl_FragColor = vec4(finalColor, 1.0);\n    }\n  `,\n};\n","import * as THREE from \"three\";\nimport { SELECTORS, isMobile } from \"./config\";\n\n// Scene Setup\nexport const scene = new THREE.Scene();\n\n// Renderer Setup\nexport const renderer = new THREE.WebGLRenderer({\n  antialias: true,\n  alpha: true,\n  powerPreference: \"high-performance\",\n  precision: \"highp\",\n});\n\n// Container\nconst container = document.querySelector(\".el--home-maze.el\") as HTMLElement;\nif (!container) {\n  console.error(\"Container .el--home-maze.el not found!\");\n}\n\n// Clock for animations\nexport const clock = new THREE.Clock();\n\n// Anti-aliasing Enhancement\nfunction enhanceAntiAliasing(): void {\n  if (isMobile) {\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  } else {\n    renderer.setPixelRatio(window.devicePixelRatio);\n  }\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n}\n\n// Pixel Ratio Setup - ADDED to match backup.js\nfunction setPixelRatio(): void {\n  const pixelRatio = Math.min(window.devicePixelRatio, isMobile ? 2 : 3);\n  renderer.setPixelRatio(pixelRatio);\n  renderer.setSize(container.clientWidth, container.clientHeight);\n}\n\n// Initialize Renderer - FIXED to match backup.js\nexport function initRenderer(): void {\n  enhanceAntiAliasing();\n\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n  if (container) {\n    renderer.setSize(container.clientWidth, container.clientHeight);\n    container.appendChild(renderer.domElement);\n  } else {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n  }\n\n  console.log(\"Renderer initialized\");\n\n  // ADD these event listeners to match backup.js:\n  window.addEventListener(\"load\", setPixelRatio);\n  window.addEventListener(\"resize\", setPixelRatio);\n}\n\n// Lighting Setup\nexport function setupLighting(): void {\n  const ambientLight = new THREE.AmbientLight(0xffffff);\n  scene.add(ambientLight);\n\n  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n  scene.add(directionalLight);\n  directionalLight.position.set(-5, 15, 10);\n  directionalLight.shadow.mapSize.width = 4096;\n  directionalLight.shadow.mapSize.height = 4096;\n  directionalLight.shadow.camera.left = -20;\n  directionalLight.shadow.camera.right = 20;\n  directionalLight.shadow.camera.top = 20;\n  directionalLight.shadow.camera.bottom = -20;\n  directionalLight.shadow.camera.near = 0.1;\n  directionalLight.shadow.camera.far = 50;\n  directionalLight.shadow.bias = -0.001;\n  directionalLight.shadow.radius = 3;\n  directionalLight.castShadow = true;\n\n  console.log(\"Lighting setup complete\");\n}\n\n// Canvas and DOM Elements\nexport const canvas = document.querySelector(\"canvas\") as HTMLCanvasElement;\nexport const finalSection = document.querySelector(\n  SELECTORS.finalSection\n) as HTMLElement;\nexport const finalContainer = finalSection?.querySelector(\n  \".cr--final.cr\"\n) as HTMLElement;\nexport const parentElements = document.querySelectorAll(\n  SELECTORS.parentElements\n) as NodeListOf<Element>;\n","import * as THREE from \"three\";\nimport {\n  CAMERA_CONFIG,\n  startPosition,\n  secondPosition,\n  lookAtPosition,\n} from \"./config\";\n\n// Camera Setup\nexport const camera = new THREE.PerspectiveCamera(\n  CAMERA_CONFIG.originalFOV,\n  window.innerWidth / window.innerHeight,\n  CAMERA_CONFIG.near,\n  CAMERA_CONFIG.far\n);\n\n// Initialize Camera\nexport function initCamera(): void {\n  console.log(\"Camera start position:\", startPosition);\n  console.log(\"Camera look at position:\", lookAtPosition);\n\n  camera.position.copy(startPosition);\n  camera.lookAt(lookAtPosition);\n\n  console.log(\"Camera initialized at position:\", camera.position);\n  console.log(\"Camera looking at:\", lookAtPosition);\n}\n\n// Camera Quaternions\nexport const startQuaternion = camera.quaternion.clone();\nexport const endQuaternion = new THREE.Quaternion().setFromEuler(\n  new THREE.Euler(-1.5708, 0, 0)\n);\n\n// Camera Utility Functions\nexport function getCameraLookAtPoint(): THREE.Vector3 {\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  const lookAtPoint = new THREE.Vector3();\n  lookAtPoint.copy(camera.position).add(direction.multiplyScalar(10));\n  return lookAtPoint;\n}\n\n// Global camera setter for debugging\n(window as any).setCamera = function (lookAt: string | THREE.Vector3): void {\n  if (typeof lookAt === \"string\") {\n    const [x, y, z] = lookAt.split(\",\").map(Number);\n    lookAt = new THREE.Vector3(x, y, z);\n  }\n  camera.lookAt(lookAt);\n  camera.updateProjectionMatrix();\n  camera.updateMatrix();\n  camera.updateMatrixWorld();\n};\n\n// Setup Camera Resize\nexport function setupCameraResize(): void {\n  const updateCamera = () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n  };\n\n  window.addEventListener(\"resize\", updateCamera);\n}\n","import * as THREE from \"three\";\nimport { ASSETS } from \"./config\";\n\n// Texture Loader\nconst textureLoader = new THREE.TextureLoader();\n\n// Load maze texture like in backup.js\nexport const mazeTexture = textureLoader.load(ASSETS.mazeTexture);\n\n// Materials exactly like backup.js\nexport const mazeMaterial = new THREE.MeshMatcapMaterial({\n  matcap: mazeTexture,\n});\n\nexport const topMaterial = new THREE.MeshStandardMaterial({\n  color: 0xf2f9f9,\n  metalness: 0.4,\n  roughness: 0,\n  envMapIntensity: 10,\n});\n\nexport const ghostMaterial = new THREE.MeshPhysicalMaterial({\n  color: 0xffffff,\n  opacity: 1,\n  transparent: true,\n  depthWrite: false,\n  depthTest: true,\n  blending: THREE.NormalBlending,\n  side: THREE.DoubleSide,\n  roughness: 0.75,\n  metalness: 0.2,\n  transmission: 0.5,\n});\n\nexport const floorMaterial = new THREE.MeshStandardMaterial({\n  color: 0xffffff,\n  opacity: 0.8,\n  transparent: true,\n  roughness: 0.5,\n  metalness: 0.1,\n});\n\n// Pacman materials with transparency for opacity changes\nconst pacmanMaterials = {\n  blue: new THREE.MeshBasicMaterial({\n    color: 0x1469d3,\n    transparent: true,\n    opacity: 1,\n  }),\n  white: new THREE.MeshBasicMaterial({\n    color: 0xffffff,\n    transparent: true,\n    opacity: 1,\n  }),\n  default: new THREE.MeshBasicMaterial({\n    color: 0x1469d3,\n    transparent: true,\n    opacity: 1,\n  }),\n};\n\nexport const materialMap = {\n  CAM_Pacman_Backframe: pacmanMaterials.blue,\n  \"CAM-Pacman_Bitcoin_1\": pacmanMaterials.white,\n  \"CAM-Pacman_Bitcoin_2\": pacmanMaterials.white,\n  \"CAM-Pacman_Bottom\": pacmanMaterials.blue,\n  \"CAM-Pacman_Top\": pacmanMaterials.blue,\n  \"CAM-Pacman_Eye\": pacmanMaterials.white,\n  CAM_Pacman_Logo_1: pacmanMaterials.white,\n  CAM_Pacman_Logo_2: pacmanMaterials.white,\n  \"CAM-Pacman_Shell_Boolean\": pacmanMaterials.blue,\n  \"CAM-Pacman_Shell\": pacmanMaterials.blue,\n  \"CAM-Pacman_Bottom_electronic\": pacmanMaterials.white,\n  \"CAM-Pacman_Top_electronic\": pacmanMaterials.white,\n  \"CAM-Pacman_Bottom_Text\": pacmanMaterials.white,\n  \"CAM-Pacman_Top_Text\": pacmanMaterials.white,\n  default: pacmanMaterials.blue,\n};\n\n// Ghost Cover Materials\nexport const ghostCoverMaterials = Array(5).fill(ghostMaterial);\n","import * as THREE from \"three\";\nimport { ASSETS } from \"./config\";\nimport { GhostContainer } from \"./types\";\nimport { scene, clock } from \"./scene\";\nimport {\n  mazeMaterial,\n  topMaterial,\n  ghostMaterial,\n  floorMaterial,\n  materialMap,\n} from \"./materials\";\n\n// Export clock for animation system\nexport { clock };\n\n// GLB Loader - use directly like in backup.js\nconst loader = new THREE.GLTFLoader();\n\n// Animation Mixer\nexport let pacmanMixer: THREE.AnimationMixer;\n\n// Pacman Group\nexport const pacman = new THREE.Group();\nscene.add(pacman);\n\n// Ghost Objects\nexport const ghosts: GhostContainer = {\n  pacman: pacman,\n  ghost1: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost2: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost3: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost4: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost5: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n};\n\n// Ghost containers mapping (like in backup.js)\nconst ghostContainers = {\n  Ghost_EUR: ghosts.ghost1,\n  Ghost_CHF: ghosts.ghost2,\n  Ghost_YEN: ghosts.ghost3,\n  Ghost_USD: ghosts.ghost4,\n  Ghost_GBP: ghosts.ghost5,\n};\n\n// Add ghosts to scene\nObject.values(ghosts).forEach((ghost) => scene.add(ghost));\n\n// Model Loading Function\nexport async function loadModel(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    console.log(\"Loading model from:\", ASSETS.mazeModel);\n\n    loader.load(\n      ASSETS.mazeModel,\n      function (gltf) {\n        console.log(\"GLTF model loaded successfully\");\n        const model = gltf.scene;\n\n        model.traverse((child: THREE.Object3D) => {\n          if (child.name === \"CAM-Pacman\") {\n            const children: THREE.Object3D[] = [];\n            child.traverse((subChild: THREE.Object3D) => {\n              if (\n                (subChild as any).isMesh &&\n                subChild.name !== \"CAM-Pacman_Shell\" &&\n                subChild.name !== \"CAM-Pacman_Shell_Boolean\"\n              ) {\n                const material =\n                  materialMap[subChild.name as keyof typeof materialMap] ||\n                  materialMap.default;\n                (subChild as THREE.Mesh).material = material;\n                children.push(subChild);\n              } else if (\n                subChild.name === \"CAM-Pacman_Shell\" ||\n                subChild.name === \"CAM-Pacman_Shell_Boolean\"\n              ) {\n                subChild.visible = false;\n              }\n            });\n\n            children.forEach((item) => ghosts.pacman.add(item));\n            ghosts.pacman.scale.set(0.05, 0.05, 0.05);\n            ghosts.pacman.rotation.set(Math.PI / 2, Math.PI / 2, Math.PI / 4);\n\n            // Setup Pacman mixer\n            pacmanMixer = new THREE.AnimationMixer(ghosts.pacman);\n            const pacmanActions: { [key: string]: THREE.AnimationAction } = {};\n\n            gltf.animations.forEach((clip: THREE.AnimationClip) => {\n              const action = pacmanMixer.clipAction(clip);\n              pacmanActions[clip.name] = action;\n              action.setEffectiveWeight(1);\n              action.play();\n            });\n          } else if (\n            child.name &&\n            ghostContainers[child.name as keyof typeof ghostContainers]\n          ) {\n            const ghostContainer =\n              ghostContainers[child.name as keyof typeof ghostContainers];\n            const ghostGroup = new THREE.Group();\n\n            child.rotation.z = Math.PI;\n            child.rotation.x = Math.PI / 2;\n            child.scale.set(0.75, 0.75, 0.75);\n\n            const children: THREE.Object3D[] = [];\n            child.traverse((subChild: THREE.Object3D) => {\n              if ((subChild as any).isMesh) {\n                if (subChild.name && subChild.name.startsWith(\"Ghost_Mesh\")) {\n                  (subChild as THREE.Mesh).material = ghostMaterial;\n                } else if (\n                  subChild.name &&\n                  [\"EUR\", \"CHF\", \"YEN\", \"USD\", \"GBP\"].includes(subChild.name)\n                ) {\n                  subChild.visible = false;\n                }\n                children.push(subChild);\n              }\n            });\n\n            children.forEach((item) => {\n              if (\n                item.name &&\n                (item.name.includes(\"EUR\") ||\n                  item.name.startsWith(\"Ghost_Mesh\"))\n              ) {\n                item.rotation.z = Math.PI;\n                item.rotation.x = Math.PI / 2;\n              } else {\n                item.rotation.set(0, 0, 0);\n              }\n              ghostGroup.add(item);\n            });\n\n            ghostContainer.add(ghostGroup);\n          }\n\n          if ((child as any).isMesh) {\n            if (child.name === \"CAM-Arena_LowRes_Top\") {\n              console.log(\"Found maze top mesh:\", child.name);\n              (child as THREE.Mesh).material = topMaterial;\n              child.castShadow = true;\n            } else if (child.name === \"CAM-Arena_LowRes_Bottom\") {\n              console.log(\"Found maze bottom mesh:\", child.name);\n              (child as THREE.Mesh).material = mazeMaterial;\n              child.castShadow = true;\n            } else if (child.name === \"CAM-Floor\") {\n              const clonedChild = child.clone();\n              child.position.y = -0.1;\n              child.position.x = 0;\n              child.position.z = 0;\n              (child as THREE.Mesh).material = new THREE.MeshBasicMaterial({\n                color: 0xffffff,\n                opacity: 1,\n                transparent: false,\n                depthWrite: true,\n                depthTest: true,\n                side: THREE.FrontSide,\n              });\n              child.receiveShadow = false;\n              child.castShadow = true;\n              child.scale.set(0.5, 0.5, 0.5);\n\n              (clonedChild as THREE.Mesh).material = floorMaterial;\n              clonedChild.position.y = -0.5;\n              clonedChild.receiveShadow = true;\n              scene.add(clonedChild);\n            }\n          }\n        });\n\n        // Add shadows to all meshes\n        model.traverse(function (node: THREE.Object3D) {\n          if ((node as any).isMesh) {\n            node.castShadow = true;\n            node.receiveShadow = true;\n          }\n        });\n\n        // Add model to scene and position it like in backup.js\n        scene.add(model);\n        model.position.set(0.5, 0.5, 0.5);\n\n        console.log(\n          \"Model added to scene with\",\n          scene.children.length,\n          \"total children\"\n        );\n        resolve();\n      },\n      function (progress) {\n        console.log(\"Loading progress:\", progress);\n      },\n      function (error) {\n        console.error(\"Error loading 3D model:\", error);\n        reject(error);\n      }\n    );\n  });\n}\n","import * as THREE from \"three\";\nimport { PathPoint, PathData, PathMapping } from \"./types\";\nimport { CAMERA_POSITIONS, isMobile } from \"./config\";\n\n// Path Creation Utility\nexport function createPath(\n  pathPoints: PathPoint[]\n): THREE.CurvePath<THREE.Vector3> {\n  const path = new THREE.CurvePath<THREE.Vector3>();\n\n  for (let i = 0; i < pathPoints.length - 1; i++) {\n    const current = pathPoints[i];\n    const next = pathPoints[i + 1];\n\n    if (current.type === \"straight\") {\n      const line = new THREE.LineCurve3(current.pos, next.pos);\n      path.add(line);\n    } else if (current.type === \"curve\") {\n      let midPoint: THREE.Vector3;\n      if (current.curveType === \"upperArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      } else if (current.curveType === \"lowerArc\") {\n        midPoint = new THREE.Vector3(next.pos.x, current.pos.y, current.pos.z);\n      } else if (current.curveType === \"forwardDownArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, next.pos.y, current.pos.z);\n      } else {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      }\n      const curve = new THREE.QuadraticBezierCurve3(\n        current.pos,\n        midPoint,\n        next.pos\n      );\n      path.add(curve);\n    }\n  }\n  return path;\n}\n\n// Path Points Definitions (shortened as requested)\nconst pacmanHomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.6025), type: \"straight\" },\n];\n\nconst ghost1HomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.502), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.0965, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.703), type: \"straight\" },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.502), type: \"straight\" },\n];\n\nconst ghost2HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.502), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.0965, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n];\n\nconst ghost3HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.55675, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n];\n\nconst ghost4HomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.65725, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.15975, 0.55, 0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.6025), type: \"straight\" },\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.4015), type: \"straight\" },\n];\n\nconst ghost5HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.04975),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, -0.101), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.04975),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n];\n\nconst cameraPOVPathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.55675, 0.5, 0.45175),\n    type: \"curve\",\n    curveType: \"forwardDownArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.607, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.85375), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.9085, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.15525), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.205, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.05475), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.5065, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.306),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 1, 2.0095), type: \"straight\" },\n];\n\nconst ghost1POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.009, 0.55, 0.8035), type: \"straight\" },\n  { pos: new THREE.Vector3(0.9085, 0.55, 0.8035), type: \"straight\" },\n];\n\nconst ghost2POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.15525), type: \"straight\" },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.05475), type: \"straight\" },\n];\n\nconst ghost3POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.95425),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.0045), type: \"straight\" },\n];\n\nconst ghost4POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.3055, 0.55, 1.0045), type: \"straight\" },\n];\n\nconst ghost5POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.55675, 0.55, 1.306), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.25575),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.2055), type: \"straight\" },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.2055), type: \"straight\" },\n];\n\n// Camera Home Path - ensure it uses the correct positions based on device\nconst cameraStartPosition = isMobile\n  ? CAMERA_POSITIONS.startMobile\n  : CAMERA_POSITIONS.startDesktop;\nconst cameraSecondPosition = isMobile\n  ? CAMERA_POSITIONS.secondMobile\n  : CAMERA_POSITIONS.secondDesktop;\n\nexport const cameraHomePath = new THREE.CubicBezierCurve3(\n  cameraStartPosition,\n  cameraSecondPosition,\n  new THREE.Vector3(0.55675, 3, 0.45175),\n  new THREE.Vector3(0.55675, 0.5, 0.45175)\n);\n\n// Path Data Configuration\nexport const pathsData: { [key: string]: PathData } = {\n  pacmanHomePath: {\n    points: pacmanHomePathPoints,\n    color: 0xffff00,\n  },\n  ghost1HomePath: {\n    points: ghost1HomePathPoints,\n    color: 0xff0000,\n  },\n  ghost2HomePath: {\n    points: ghost2HomePathPoints,\n    color: 0xffa500,\n  },\n  ghost3HomePath: {\n    points: ghost3HomePathPoints,\n    color: 0xff69b4,\n  },\n  ghost4HomePath: {\n    points: ghost4HomePathPoints,\n    color: 0x32cd32,\n  },\n  ghost5HomePath: {\n    points: ghost5HomePathPoints,\n    color: 0xffdab9,\n  },\n  cameraPOVPath: {\n    points: cameraPOVPathPoints,\n    color: 0xffffff,\n  },\n  ghost1POVPath: {\n    points: ghost1POVPathPoints,\n    color: 0xff0000,\n  },\n  ghost2POVPath: {\n    points: ghost2POVPathPoints,\n    color: 0xffa500,\n  },\n  ghost3POVPath: {\n    points: ghost3POVPathPoints,\n    color: 0xff69b4,\n  },\n  ghost4POVPath: {\n    points: ghost4POVPathPoints,\n    color: 0x32cd32,\n  },\n  ghost5POVPath: {\n    points: ghost5POVPathPoints,\n    color: 0xffdab9,\n  },\n};\n\n// Path Mapping Functions\nexport function getPathsForSection(section: string): PathMapping {\n  const mapping: PathMapping = {};\n\n  if (section === \"home\") {\n    mapping.pacman = \"pacmanHomePath\";\n    mapping.ghost1 = \"ghost1HomePath\";\n    mapping.ghost2 = \"ghost2HomePath\";\n    mapping.ghost3 = \"ghost3HomePath\";\n    mapping.ghost4 = \"ghost4HomePath\";\n    mapping.ghost5 = \"ghost5HomePath\";\n  } else if (section === \"pov\") {\n    mapping.pacman = \"cameraPOVPath\";\n    mapping.ghost1 = \"ghost1POVPath\";\n    mapping.ghost2 = \"ghost2POVPath\";\n    mapping.ghost3 = \"ghost3POVPath\";\n    mapping.ghost4 = \"ghost4POVPath\";\n    mapping.ghost5 = \"ghost5POVPath\";\n  }\n  return mapping;\n}\n\n// Create all paths\nexport const paths: { [key: string]: THREE.CurvePath<THREE.Vector3> } = {};\n\n// Initialize paths\nObject.entries(pathsData).forEach(([key, data]) => {\n  paths[key] = createPath(data.points);\n});\n\n// Create pathsMap for ghost animation system\nexport const pathsMap: { [key: string]: THREE.CurvePath<THREE.Vector3> } = {\n  pacman: paths.pacmanHomePath,\n  ghost1: paths.ghost1HomePath,\n  ghost2: paths.ghost2HomePath,\n  ghost3: paths.ghost3HomePath,\n  ghost4: paths.ghost4HomePath,\n  ghost5: paths.ghost5HomePath,\n};\n","import * as THREE from \"three\";\nimport { ghosts, pacmanMixer, clock } from \"./objects\";\nimport { pathsMap } from \"./paths\";\nimport { renderer, scene } from \"./scene\";\nimport { camera, startQuaternion, endQuaternion } from \"./camera\";\n\n// 1. STATE MANAGEMENT\ntype AnimationState = \"HOME\" | \"SCROLL_ANIMATION\";\nlet currentAnimationState: AnimationState = \"HOME\";\nlet isFirstScroll = true;\n\n// Debug info for window\ndeclare global {\n  interface Window {\n    animationDebugInfo: {\n      state: AnimationState;\n      isFirstScroll: boolean;\n      capturedPositions: any;\n      bezierCurves: any;\n      scrollProgress?: number;\n    };\n  }\n}\n\n// Constants\nconst MAZE_CENTER = new THREE.Vector3(0.45175, 0.5, 0.55675);\nconst OPACITY_FADE_START = 0.8; // Last 20% for opacity fade\n\n// Rotation constants (easily changeable)\nconst ROTATION_AXIS_X: \"x\" | \"y\" | \"z\" = \"x\"; // Primary rotation axis (e.g., to lay down)\nconst ROTATION_AXIS_Y: \"x\" | \"y\" | \"z\" = \"y\"; // Secondary rotation axis (to next 90° step)\nconst ROTATION_AMOUNT_X = Math.PI / 2; // 90 degrees for X-axis\nconst USE_SMART_Y_ROTATION = true; // Whether to snap to nearest straight orientation (0° or 180°) on Y-axis\n\n// Helper function to find the nearest 0° or 180° step\nfunction getNearestStraightOrientation(currentRadians: number): number {\n  // Convert to degrees for easier calculation\n  const currentDegrees = (currentRadians * 180) / Math.PI;\n\n  // Normalize to 0-360 range\n  const normalizedDegrees = ((currentDegrees % 360) + 360) % 360;\n\n  // Find distance to 0° and 180°\n  const distanceTo0 = Math.min(normalizedDegrees, 360 - normalizedDegrees);\n  const distanceTo180 = Math.abs(normalizedDegrees - 180);\n\n  // Choose the nearer one\n  let targetDegrees;\n  if (distanceTo0 <= distanceTo180) {\n    // Nearer to 0° (could be 0° or 360°)\n    targetDegrees = normalizedDegrees <= 180 ? 0 : 360;\n  } else {\n    // Nearer to 180°\n    targetDegrees = 180;\n  }\n\n  // Convert back to radians\n  return (targetDegrees * Math.PI) / 180;\n}\n\n// 2. POSITION & BEZIER SYSTEM\nconst capturedPositions: { [key: string]: THREE.Vector3 } = {};\nconst capturedRotations: { [key: string]: THREE.Euler } = {};\nconst bezierCurves: { [key: string]: THREE.QuadraticBezierCurve3 } = {};\nlet timeOffset = 0;\nlet pauseTime = 0;\n\nfunction captureGhostPositions() {\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (ghosts[ghostKey]) {\n      capturedPositions[ghostKey] = ghosts[ghostKey].position.clone();\n      capturedRotations[ghostKey] = ghosts[ghostKey].rotation.clone();\n      console.log(\n        `Captured ${ghostKey} at position:`,\n        ghosts[ghostKey].position,\n        \"rotation:\",\n        ghosts[ghostKey].rotation\n      );\n    }\n  });\n  console.log(\"All ghost positions captured:\", capturedPositions);\n  console.log(\"All ghost rotations captured:\", capturedRotations);\n}\n\nfunction createBezierCurves() {\n  const mazeCenter = new THREE.Vector3(0.45175, 0.5, 0.55675);\n\n  Object.keys(capturedPositions).forEach((ghostKey) => {\n    const startPos = capturedPositions[ghostKey].clone(); // Aktuelle Position der Geister\n    const endPos = mazeCenter.clone(); // Maze-Mitte als Endpunkt\n\n    // Control point: Mittelpunkt zwischen Start und Ende in x/z, aber hoch oben bei y=1\n    const controlPoint = new THREE.Vector3(\n      (startPos.x + endPos.x) / 2, // Mittelpunkt x zwischen Start und Maze-Mitte\n      2, // Hoch oben bei y=1\n      (startPos.z + endPos.z) / 2 // Mittelpunkt z zwischen Start und Maze-Mitte\n    );\n\n    bezierCurves[ghostKey] = new THREE.QuadraticBezierCurve3(\n      startPos, // Wo Geist ist wenn Animation stoppt\n      controlPoint, // Hoher Bogen-Punkt\n      endPos // Maze-Mitte\n    );\n\n    console.log(`Created bezier curve for ${ghostKey}:`, {\n      start: startPos,\n      control: controlPoint,\n      end: endPos,\n    });\n  });\n}\n\nfunction moveGhostOnCurve(ghostKey: string, scrollProgress: number) {\n  if (\n    !bezierCurves[ghostKey] ||\n    !ghosts[ghostKey] ||\n    !capturedPositions[ghostKey] ||\n    !capturedRotations[ghostKey]\n  )\n    return;\n\n  const ghost = ghosts[ghostKey];\n\n  // Always use bezier curve for smooth interpolation\n  const position = bezierCurves[ghostKey].getPoint(scrollProgress);\n  ghost.position.copy(position);\n\n  // Interpolate rotation: Start with original rotation, end with target rotation\n  const originalRotation = capturedRotations[ghostKey];\n  const targetRotation = originalRotation.clone();\n\n  // X-axis rotation (e.g., to lay down) - always add specified amount\n  if (ROTATION_AXIS_X === \"x\") {\n    targetRotation.x += ROTATION_AMOUNT_X * scrollProgress;\n  } else if (ROTATION_AXIS_X === \"y\") {\n    targetRotation.y += ROTATION_AMOUNT_X * scrollProgress;\n  } else if (ROTATION_AXIS_X === \"z\") {\n    targetRotation.z += ROTATION_AMOUNT_X * scrollProgress;\n  }\n\n  // Y-axis rotation (smart rotation to nearest 0° or 180°)\n  if (USE_SMART_Y_ROTATION) {\n    const currentYRotation = originalRotation.y;\n    const targetYRotation = getNearestStraightOrientation(currentYRotation);\n    const yDifference = targetYRotation - currentYRotation;\n\n    // Debug logging for the first ghost\n    if (ghostKey === \"ghost1\" && scrollProgress > 0.1 && scrollProgress < 0.2) {\n      console.log(\n        `${ghostKey} Y-rotation: current=${(\n          (currentYRotation * 180) /\n          Math.PI\n        ).toFixed(1)}°, target=${((targetYRotation * 180) / Math.PI).toFixed(\n          1\n        )}°, difference=${((yDifference * 180) / Math.PI).toFixed(1)}°`\n      );\n    }\n\n    if (ROTATION_AXIS_Y === \"y\") {\n      targetRotation.y = originalRotation.y + yDifference * scrollProgress;\n    } else if (ROTATION_AXIS_Y === \"x\") {\n      targetRotation.x = originalRotation.x + yDifference * scrollProgress;\n    } else if (ROTATION_AXIS_Y === \"z\") {\n      targetRotation.z = originalRotation.z + yDifference * scrollProgress;\n    }\n  }\n\n  ghost.rotation.copy(targetRotation);\n\n  // Handle opacity fade in last 20%\n  let opacity = 1;\n  if (scrollProgress >= OPACITY_FADE_START) {\n    const fadeProgress =\n      (scrollProgress - OPACITY_FADE_START) / (1 - OPACITY_FADE_START);\n    opacity = 1 - fadeProgress;\n    opacity = Math.max(0.1, opacity); // Keep minimum visibility\n  }\n\n  // Set opacity for both Mesh and Group\n  if (ghost instanceof THREE.Mesh && ghost.material) {\n    if (Array.isArray(ghost.material)) {\n      ghost.material.forEach((mat) => {\n        if (\"opacity\" in mat) mat.opacity = opacity;\n      });\n    } else {\n      if (\"opacity\" in ghost.material) ghost.material.opacity = opacity;\n    }\n  } else if (ghost instanceof THREE.Group) {\n    ghost.traverse((child) => {\n      if (child instanceof THREE.Mesh && child.material) {\n        if (Array.isArray(child.material)) {\n          child.material.forEach((mat) => {\n            if (\"opacity\" in mat) mat.opacity = opacity;\n          });\n        } else {\n          if (\"opacity\" in child.material) child.material.opacity = opacity;\n        }\n      }\n    });\n  }\n}\n\n// Create camera path exactly like backup.js but starting from current position\nfunction createCameraPath() {\n  // Use current camera position as start (don't jump)\n  const startPosition = initialCameraPosition.clone();\n\n  // Calculate a smooth second position towards backup.js path\n  const isMobile = window.innerWidth < 768;\n  const targetSecondPositionMobile = new THREE.Vector3(0.5, 2.5, 2);\n  const targetSecondPositionDesktop = new THREE.Vector3(-1.5, 3, 2);\n  const targetSecondPosition = isMobile\n    ? targetSecondPositionMobile\n    : targetSecondPositionDesktop;\n\n  // Create a second position between current and target\n  const secondPosition = new THREE.Vector3().lerpVectors(\n    startPosition,\n    targetSecondPosition,\n    0.3\n  );\n\n  // Exact same control and end points as backup.js\n  cameraHomePath = new THREE.CubicBezierCurve3(\n    startPosition, // Current position (no jump)\n    secondPosition, // Interpolated second position\n    new THREE.Vector3(0.55675, 3, 0.45175), // High control point\n    new THREE.Vector3(0.55675, 0.5, 0.45175) // End point (maze center)\n  );\n\n  console.log(\n    `Camera path created starting from current position:`,\n    `${startPosition.x.toFixed(2)}, ${startPosition.y.toFixed(\n      2\n    )}, ${startPosition.z.toFixed(2)}`,\n    \"to maze center (0.55675, 0.5, 0.45175)\"\n  );\n}\n\n// 3. SCROLL MANAGEMENT\nlet initialCameraPosition = new THREE.Vector3();\nlet initialCameraTarget = new THREE.Vector3();\nlet initialCameraQuaternion = new THREE.Quaternion();\nlet cameraHomePath: THREE.CubicBezierCurve3;\n\nfunction onFirstScroll() {\n  if (!isFirstScroll) return;\n\n  console.log(\"onFirstScroll called - stopping all animations immediately\");\n\n  isFirstScroll = false;\n  pauseTime = Date.now();\n\n  // IMMEDIATELY stop the home animation by changing state first\n  currentAnimationState = \"SCROLL_ANIMATION\";\n\n  // Use the CURRENT camera position and rotation as start point (don't jump!)\n  const currentCameraPosition = camera.position.clone();\n  const currentCameraQuaternion = camera.quaternion.clone();\n  const currentDirection = new THREE.Vector3(0, 0, -1);\n  currentDirection.applyQuaternion(camera.quaternion);\n  const currentCameraTarget = camera.position\n    .clone()\n    .add(currentDirection.multiplyScalar(5));\n\n  console.log(\"Using current camera position for path:\", currentCameraPosition);\n  console.log(\n    \"Using current camera rotation (quaternion):\",\n    currentCameraQuaternion\n  );\n  console.log(\"Using current camera look-at target:\", currentCameraTarget);\n\n  // Update the camera start position and rotation for smooth transition\n  initialCameraPosition.copy(currentCameraPosition);\n  initialCameraTarget.copy(currentCameraTarget);\n  initialCameraQuaternion.copy(currentCameraQuaternion);\n\n  // Capture ghost positions AFTER stopping animation\n  captureGhostPositions();\n  createBezierCurves();\n\n  // Create camera path starting from CURRENT position (not jump)\n  createCameraPath();\n\n  // Update debug info\n  if (window.animationDebugInfo) {\n    window.animationDebugInfo.state = currentAnimationState;\n    window.animationDebugInfo.isFirstScroll = isFirstScroll;\n  }\n\n  console.log(\n    \"First scroll detected - animation STOPPED immediately, bezier curves created\"\n  );\n}\n\n// 4. ANIMATION LOOP\nlet animationStartTime = Date.now();\n\nfunction animationLoop() {\n  // Only run home animation if we're in HOME state\n  if (currentAnimationState !== \"HOME\") return;\n\n  const currentTime = Date.now();\n  const elapsedTime = (currentTime - animationStartTime - timeOffset) / 1000; // Convert to seconds\n  const t = (elapsedTime * 0.1) % 1; // Speed control (0.1 = slower, 0.2 = faster)\n\n  // Animate ghosts on their home paths only during HOME state\n  Object.entries(ghosts).forEach(([key, ghost]) => {\n    if (!pathsMap[key]) {\n      // Don't spam warnings, just return\n      return;\n    }\n\n    if (key === \"pacman\") {\n      // Pacman animation\n      const position = pathsMap[key].getPointAt(t);\n      ghost.position.copy(position);\n      const tangent = pathsMap[key].getTangentAt(t).normalize();\n      ghost.lookAt(position.clone().add(tangent));\n\n      // Handle pacman rotation smoothing\n      const zRotation = Math.atan2(tangent.x, tangent.z);\n      if ((ghost as any).previousZRotation === undefined) {\n        (ghost as any).previousZRotation = zRotation;\n      }\n\n      let rotationDiff = zRotation - (ghost as any).previousZRotation;\n      if (rotationDiff > Math.PI) rotationDiff -= 2 * Math.PI;\n      else if (rotationDiff < -Math.PI) rotationDiff += 2 * Math.PI;\n\n      const smoothFactor = 0.1;\n      const smoothedRotation =\n        (ghost as any).previousZRotation + rotationDiff * smoothFactor;\n      (ghost as any).previousZRotation = smoothedRotation;\n\n      ghost.rotation.set(Math.PI / 2, Math.PI, smoothedRotation + Math.PI / 2);\n    } else {\n      // Ghost animation\n      const position = pathsMap[key].getPointAt(t);\n      ghost.position.copy(position);\n      const tangent = pathsMap[key].getTangentAt(t).normalize();\n      ghost.lookAt(position.clone().add(tangent));\n\n      // Ensure full opacity\n      if (\n        ghost instanceof THREE.Mesh &&\n        ghost.material &&\n        \"opacity\" in ghost.material\n      ) {\n        ghost.material.opacity = 1;\n      }\n    }\n  });\n}\n\n// Reset to home state helper\nfunction resetToHomeState() {\n  currentAnimationState = \"HOME\";\n  isFirstScroll = true;\n\n  if (pauseTime) {\n    timeOffset += Date.now() - pauseTime;\n    pauseTime = 0;\n  }\n\n  // Reset camera to initial position and rotation\n  camera.position.copy(initialCameraPosition);\n  camera.quaternion.copy(initialCameraQuaternion);\n\n  // Reset all ghosts to their captured positions, rotations and full opacity\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (\n      capturedPositions[ghostKey] &&\n      capturedRotations[ghostKey] &&\n      ghosts[ghostKey]\n    ) {\n      console.log(\n        `Resetting ${ghostKey} to captured position:`,\n        capturedPositions[ghostKey]\n      );\n      ghosts[ghostKey].position.copy(capturedPositions[ghostKey]);\n      ghosts[ghostKey].rotation.copy(capturedRotations[ghostKey]);\n\n      // Reset opacity to full\n      const ghost = ghosts[ghostKey];\n      if (ghost instanceof THREE.Mesh && ghost.material) {\n        if (Array.isArray(ghost.material)) {\n          ghost.material.forEach((mat) => {\n            if (\"opacity\" in mat) mat.opacity = 1;\n          });\n        } else {\n          if (\"opacity\" in ghost.material) ghost.material.opacity = 1;\n        }\n      } else if (ghost instanceof THREE.Group) {\n        ghost.traverse((child) => {\n          if (child instanceof THREE.Mesh && child.material) {\n            if (Array.isArray(child.material)) {\n              child.material.forEach((mat) => {\n                if (\"opacity\" in mat) mat.opacity = 1;\n              });\n            } else {\n              if (\"opacity\" in child.material) child.material.opacity = 1;\n            }\n          }\n        });\n      }\n    }\n  });\n\n  // Update debug info\n  if (window.animationDebugInfo) {\n    window.animationDebugInfo.state = currentAnimationState;\n    window.animationDebugInfo.isFirstScroll = isFirstScroll;\n    window.animationDebugInfo.scrollProgress = 0;\n  }\n}\n\n// Camera animation helper - smooth transition from current rotation (ONLY FOV FIX)\nfunction animateCamera(progress: number) {\n  if (!cameraHomePath) {\n    console.warn(\"Camera path not created yet\");\n    return;\n  }\n\n  // Keep original FOV (50°) - don't jump to wide FOV immediately!\n  // Only change FOV if backup.js specifically does it\n  camera.fov = 50; // Keep originalFOV, don't jump to 80°!\n  camera.updateProjectionMatrix();\n\n  // Get position on the backup.js curve\n  const position = cameraHomePath.getPointAt(progress);\n  camera.position.copy(position);\n\n  // Calculate target look-at direction (towards maze center)\n  const mazeCenter = new THREE.Vector3(0.55675, 0.5, 0.45175);\n  const targetLookAt = mazeCenter.clone();\n\n  // EXACT backup.js logic: interpolate between startQuaternion and endQuaternion\n  if (progress === 0) {\n    // At progress 0: keep the EXACT current rotation (no jump!)\n    camera.quaternion.copy(initialCameraQuaternion);\n  } else {\n    // Backup.js logic: slerp between startQuaternion and endQuaternion\n    // endQuaternion = looking straight down (-90° on X-axis)\n    const currentQuaternion = new THREE.Quaternion();\n    currentQuaternion.slerpQuaternions(\n      initialCameraQuaternion,\n      endQuaternion,\n      progress\n    );\n    camera.quaternion.copy(currentQuaternion);\n  }\n\n  console.log(\n    `Camera at progress ${progress.toFixed(2)}: position=${position.x.toFixed(\n      2\n    )}, ${position.y.toFixed(2)}, ${position.z.toFixed(2)}`\n  );\n}\n\n// Smooth step function from backup.js\nfunction smoothStep(x: number): number {\n  return x * x * (3 - 2 * x);\n}\n\n// Scroll event handler\nfunction handleScroll() {\n  const homeSection = document.querySelector(\".sc--home\") as HTMLElement;\n  if (!homeSection) {\n    console.warn(\".sc--home element not found\");\n    return;\n  }\n\n  const rect = homeSection.getBoundingClientRect();\n  const windowHeight = window.innerHeight;\n\n  // Check if we're scrolling through the home section\n  const isInHomeSection = rect.top < windowHeight && rect.bottom > 0;\n\n  if (!isInHomeSection) {\n    // If we're not in home section and currently in scroll animation, reset\n    if (currentAnimationState === \"SCROLL_ANIMATION\") {\n      resetToHomeState();\n      console.log(\"Left home section - resuming home animation\");\n    }\n    return;\n  }\n\n  // Calculate scroll progress within the home section\n  const sectionHeight = homeSection.offsetHeight;\n\n  // Korrekte Berechnung: Wie weit sind wir IN die Section gescrollt (von oben)\n  // Wenn rect.top = 0, sind wir am Anfang der Section (scrollProgress = 0)\n  // Wenn rect.top = -sectionHeight, sind wir am Ende der Section (scrollProgress = 1)\n  const scrolledIntoSection = Math.max(0, -rect.top);\n  const scrollProgress = Math.min(scrolledIntoSection / sectionHeight, 1);\n\n  console.log(\n    `Scroll Debug: rect.top=${rect.top}, windowHeight=${windowHeight}, scrolledIntoSection=${scrolledIntoSection}, sectionHeight=${sectionHeight}, scrollProgress=${scrollProgress}`\n  );\n\n  // Start scroll animation IMMEDIATELY when we begin scrolling through home section\n  if (scrollProgress > 0 && currentAnimationState === \"HOME\") {\n    console.log(\"Starting scroll animation...\");\n    onFirstScroll();\n  }\n\n  if (currentAnimationState === \"SCROLL_ANIMATION\") {\n    // If we're back at the very top (scrollProgress = 0), reset everything\n    if (scrollProgress === 0) {\n      console.log(\"Scroll progress at 0, resetting to home state\");\n      resetToHomeState();\n      return;\n    }\n\n    console.log(`Animating with scrollProgress: ${scrollProgress}`);\n\n    // Animate ghosts along bezier curves\n    Object.keys(ghosts).forEach((ghostKey) => {\n      if (bezierCurves[ghostKey]) {\n        moveGhostOnCurve(ghostKey, scrollProgress);\n      }\n    });\n\n    // Animate camera towards maze center (starts immediately)\n    animateCamera(scrollProgress);\n\n    // Update debug info\n    if (window.animationDebugInfo) {\n      window.animationDebugInfo.scrollProgress = scrollProgress;\n    }\n  }\n}\n\n// 5. GSAP INTEGRATION - To be called by GSAP ScrollTriggers\nexport function setupScrollTriggers() {\n  // This will be implemented when GSAP is available\n  // For now, we use basic scroll events\n  window.addEventListener(\"scroll\", handleScroll);\n  console.log(\"Scroll triggers setup complete\");\n}\n\n// Main animation loop\nfunction animate() {\n  // Update pacman mixer\n  if (pacmanMixer) {\n    const delta = clock.getDelta();\n    pacmanMixer.update(delta);\n  }\n\n  // Run animation loop if in HOME state\n  animationLoop();\n\n  // Render the scene\n  renderer.render(scene, camera);\n\n  requestAnimationFrame(animate);\n}\n\n// Initialize animation system\nexport function initAnimationSystem() {\n  console.log(\"Initializing animation system...\");\n\n  // FIRST THING: Capture the initial camera state before any animations start\n  initialCameraPosition = camera.position.clone();\n  initialCameraQuaternion = camera.quaternion.clone();\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  initialCameraTarget = camera.position\n    .clone()\n    .add(direction.multiplyScalar(5));\n\n  console.log(\"Captured initial camera position:\", initialCameraPosition);\n  console.log(\"Captured initial camera quaternion:\", initialCameraQuaternion);\n  console.log(\"Captured initial camera look-at target:\", initialCameraTarget);\n\n  // Setup debug info\n  window.animationDebugInfo = {\n    state: currentAnimationState,\n    isFirstScroll: isFirstScroll,\n    capturedPositions: capturedPositions,\n    bezierCurves: bezierCurves,\n  };\n\n  // Ensure all ghosts are visible and have full opacity\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (ghosts[ghostKey]) {\n      ghosts[ghostKey].visible = true;\n      console.log(\n        `Ghost ${ghostKey} set to visible:`,\n        ghosts[ghostKey].visible\n      );\n\n      const ghost = ghosts[ghostKey];\n      if (\n        ghost instanceof THREE.Mesh &&\n        ghost.material &&\n        \"opacity\" in ghost.material\n      ) {\n        ghost.material.opacity = 1;\n      } else if (ghost instanceof THREE.Group) {\n        ghost.traverse((child) => {\n          if (\n            child instanceof THREE.Mesh &&\n            child.material &&\n            \"opacity\" in child.material\n          ) {\n            child.material.opacity = 1;\n          }\n        });\n      }\n    }\n  });\n\n  // Debug: Check if pathsMap is available\n  console.log(\"Available paths:\", Object.keys(pathsMap));\n  console.log(\"Ghosts:\", Object.keys(ghosts));\n\n  setupScrollTriggers();\n  animate();\n\n  console.log(\"Animation system initialized\");\n}\n\n// Export functions for GSAP integration\nexport { moveGhostOnCurve, captureGhostPositions, createBezierCurves };\n","import { initRenderer, setupLighting, renderer, scene } from \"./scene\";\nimport { initCamera, setupCameraResize, camera } from \"./camera\";\nimport { loadModel } from \"./objects\";\nimport { initAnimationSystem } from \"./animation-system\";\n\n// Initialize everything\nasync function init() {\n  console.log(\"Starting CAM 3D Animation...\");\n\n  try {\n    initRenderer();\n    console.log(\"Renderer initialized\");\n\n    setupLighting();\n    console.log(\"Lighting setup complete\");\n\n    initCamera();\n    console.log(\"Camera initialized\");\n\n    setupCameraResize();\n    console.log(\"Camera resize setup complete\");\n\n    console.log(\"Loading 3D model...\");\n    await loadModel();\n    console.log(\"Model loading complete\");\n\n    // Initialize animation system (handles rendering and animations)\n    console.log(\"Initializing animation system...\");\n    initAnimationSystem();\n    console.log(\"Animation system initialized\");\n\n    // Debug scene contents\n    console.log(\"Scene children count:\", scene.children.length);\n    scene.children.forEach((child, index) => {\n      console.log(`Child ${index}:`, child.type, child.name || \"unnamed\");\n    });\n  } catch (error) {\n    console.error(\"Initialization error:\", error);\n  }\n}\n\n// Start when DOM is ready\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", init);\n} else {\n  init();\n}\n"],"names":["THREE","isMobile","window","innerWidth","CAMERA_POSITIONS","startMobile","startDesktop","secondMobile","secondDesktop","mobileLookAt","desktopLookAt","startPosition","lookAtPosition","ASSETS","scene","renderer","antialias","alpha","powerPreference","precision","container","document","querySelector","console","error","clock","setPixelRatio","pixelRatio","Math","min","devicePixelRatio","setSize","clientWidth","clientHeight","finalSection","camera","querySelectorAll","innerHeight","quaternion","clone","endQuaternion","setFromEuler","setCamera","lookAt","x","y","z","split","map","Number","updateProjectionMatrix","updateMatrix","updateMatrixWorld","mazeTexture","load","mazeMaterial","matcap","topMaterial","color","metalness","roughness","envMapIntensity","ghostMaterial","opacity","transparent","depthWrite","depthTest","blending","side","transmission","floorMaterial","pacmanMaterials","blue","white","default","materialMap","CAM_Pacman_Backframe","CAM_Pacman_Logo_1","CAM_Pacman_Logo_2","loader","Array","fill","pacmanMixer","pacman","add","ghosts","ghost1","ghost2","ghost3","ghost4","ghost5","ghostContainers","Ghost_EUR","Ghost_CHF","Ghost_YEN","Ghost_USD","Ghost_GBP","Object","values","forEach","ghost","pacmanHomePathPoints","pos","type","curveType","ghost1HomePathPoints","ghost2HomePathPoints","ghost3HomePathPoints","ghost4HomePathPoints","ghost5HomePathPoints","cameraPOVPathPoints","ghost1POVPathPoints","ghost2POVPathPoints","ghost3POVPathPoints","ghost4POVPathPoints","ghost5POVPathPoints","cameraStartPosition","cameraSecondPosition","pathsData","pacmanHomePath","points","ghost1HomePath","ghost2HomePath","ghost3HomePath","ghost4HomePath","ghost5HomePath","cameraPOVPath","ghost1POVPath","ghost2POVPath","ghost3POVPath","ghost4POVPath","ghost5POVPath","paths","entries","key","data","pathPoints","path","i","length","current","next","line","midPoint","curve","createPath","pathsMap","currentAnimationState","isFirstScroll","ROTATION_AMOUNT_X","PI","capturedPositions","capturedRotations","bezierCurves","timeOffset","pauseTime","initialCameraPosition","initialCameraTarget","initialCameraQuaternion","animationStartTime","Date","now","resetToHomeState","position","copy","keys","ghostKey","log","rotation","material","isArray","mat","traverse","child","animationDebugInfo","state","scrollProgress","handleScroll","homeSection","warn","rect","getBoundingClientRect","windowHeight","top","bottom","sectionHeight","offsetHeight","scrolledIntoSection","max","currentCameraPosition","currentCameraQuaternion","currentDirection","applyQuaternion","currentCameraTarget","multiplyScalar","mazeCenter","startPos","endPos","controlPoint","start","control","end","createBezierCurves","targetSecondPositionMobile","targetSecondPositionDesktop","targetSecondPosition","secondPosition","lerpVectors","toFixed","createCameraPath","onFirstScroll","getPoint","originalRotation","targetRotation","currentYRotation","targetYRotation","currentRadians","normalizedDegrees","targetDegrees","abs","getNearestStraightOrientation","yDifference","moveGhostOnCurve","progress","fov","getPointAt","currentQuaternion","slerpQuaternions","animateCamera","animate","delta","getDelta","update","t","tangent","getTangentAt","normalize","zRotation","atan2","undefined","previousZRotation","rotationDiff","smoothFactor","smoothedRotation","set","animationLoop","render","requestAnimationFrame","async","init","shadowMap","enabled","appendChild","domElement","body","addEventListener","ambientLight","directionalLight","shadow","mapSize","width","height","left","right","near","far","bias","radius","castShadow","setupLighting","aspect","Promise","resolve","reject","gltf","model","name","children","subChild","isMesh","push","visible","item","scale","pacmanActions","animations","clip","action","clipAction","setEffectiveWeight","play","ghostContainer","ghostGroup","startsWith","includes","clonedChild","receiveShadow","node","loadModel","direction","initAnimationSystem","index","readyState"],"sourceRoot":""}