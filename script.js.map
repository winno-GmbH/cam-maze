{"version":3,"file":"script.js","mappings":"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","sources":["webpack://cam-3d-animation/webpack/runtime/create fake namespace object","webpack://cam-3d-animation/external var \"gsap\"","webpack://cam-3d-animation/external var \"ScrollTrigger\"","webpack://cam-3d-animation/webpack/bootstrap","webpack://cam-3d-animation/webpack/runtime/define property getters","webpack://cam-3d-animation/webpack/runtime/hasOwnProperty shorthand","webpack://cam-3d-animation/webpack/runtime/make namespace object","webpack://cam-3d-animation/external var \"THREE\"","webpack://cam-3d-animation/./src/config.ts","webpack://cam-3d-animation/./src/scene.ts","webpack://cam-3d-animation/./src/camera.ts","webpack://cam-3d-animation/./src/materials.ts","webpack://cam-3d-animation/./src/objects.ts","webpack://cam-3d-animation/./src/paths.ts","webpack://cam-3d-animation/./src/animation-system.ts","webpack://cam-3d-animation/./src/main.ts"],"sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","if(typeof gsap === 'undefined') { var e = new Error(\"Cannot find module 'gsap'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = gsap;","if(typeof ScrollTrigger === 'undefined') { var e = new Error(\"Cannot find module 'ScrollTrigger'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = ScrollTrigger;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = THREE;","import * as THREE from \"three\";\n\n// Camera Configuration\nexport const CAMERA_CONFIG = {\n  originalFOV: 50,\n  wideFOV: 80,\n  near: 0.001,\n  far: 1000,\n};\n\n// Mobile Detection\nexport const isMobile = window.innerWidth < 768;\n\n// Camera Positions\nexport const CAMERA_POSITIONS = {\n  startMobile: new THREE.Vector3(0.5, 2.5, 2.5),\n  startDesktop: new THREE.Vector3(-2, 2.5, 2),\n  secondMobile: new THREE.Vector3(0.5, 2.5, 2),\n  secondDesktop: new THREE.Vector3(-1.5, 3, 2),\n  mobileLookAt: new THREE.Vector3(0.5, 0.5, -1.5),\n  desktopLookAt: new THREE.Vector3(-1.25, 0.5, 0.25),\n};\n\n// Get correct positions based on device\nexport const startPosition = isMobile\n  ? CAMERA_POSITIONS.startMobile\n  : CAMERA_POSITIONS.startDesktop;\nexport const secondPosition = isMobile\n  ? CAMERA_POSITIONS.secondMobile\n  : CAMERA_POSITIONS.secondDesktop;\nexport const lookAtPosition = isMobile\n  ? CAMERA_POSITIONS.mobileLookAt\n  : CAMERA_POSITIONS.desktopLookAt;\n\n// Maze Center Position for Bezier Curves\nexport const MAZE_CENTER = new THREE.Vector3(0.45175, 0.5, 0.55675);\n\n// Asset URLs\nexport const ASSETS = {\n  mazeTexture: \"https://c-am.b-cdn.net/CAM/matcap24.png\",\n  mazeModel: \"https://c-am.b-cdn.net/CAM/c-am-assets-3.glb\",\n};\n\n// DOM Selectors\nexport const SELECTORS = {\n  mazeContainer: \".el--home-maze.el\",\n  scrollComponent: \".cmp--scroll\",\n  introSection: \".sc--intro\",\n  homeSection: \".sc--home\",\n  povSection: \".sc--pov\",\n  finalSection: \".sc--final.sc\",\n  parentElements: \".cmp--pov.cmp\",\n};\n\n// POV Positions for Ghosts\nexport const POV_POSITIONS = {\n  ghost1: new THREE.Vector3(0.65725, 0.55, 0.75325),\n  ghost2: new THREE.Vector3(0.9085, 0.55, 0.8035),\n  ghost3: new THREE.Vector3(0.75775, 0.55, 1.05475),\n  ghost4: new THREE.Vector3(0.65725, 0.55, 1.0045),\n  ghost5: new THREE.Vector3(0.15475, 0.55, 1.15525),\n};\n\n// Shader Configuration\nexport const SHADER_CONFIG = {\n  vertexShader: `\n    varying vec3 vPosition;\n    void main() {\n      vPosition = position;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  `,\n  fragmentShader: `\n    varying vec3 vPosition;\n    uniform float mixValue;\n    void main() {\n      float factor = (vPosition.y + 1.0) / 2.0;\n      vec3 colorA = vec3(0.0, 0.0, 1.0);\n      vec3 colorB = vec3(0.0, 1.0, 1.0);\n      vec3 colorC = vec3(1.0, 0.0, 0.0);\n      vec3 colorD = vec3(1.0, 1.0, 0.0);\n      \n      vec3 gradientA = mix(colorA, colorB, factor);\n      vec3 gradientB = mix(colorC, colorD, factor);\n      \n      vec3 finalColor = mix(gradientA, gradientB, mixValue);\n      gl_FragColor = vec4(finalColor, 1.0);\n    }\n  `,\n};\n","import * as THREE from \"three\";\nimport { SELECTORS, isMobile } from \"./config\";\n\n// Scene Setup\nexport const scene = new THREE.Scene();\n\n// Renderer Setup\nexport const renderer = new THREE.WebGLRenderer({\n  antialias: true,\n  alpha: true,\n  powerPreference: \"high-performance\",\n  precision: \"highp\",\n});\n\n// Container\nconst container = document.querySelector(\".el--home-maze.el\") as HTMLElement;\nif (!container) {\n  console.error(\"Container .el--home-maze.el not found!\");\n}\n\n// Clock for animations\nexport const clock = new THREE.Clock();\n\n// Anti-aliasing Enhancement\nfunction enhanceAntiAliasing(): void {\n  if (isMobile) {\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  } else {\n    renderer.setPixelRatio(window.devicePixelRatio);\n  }\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n}\n\n// Pixel Ratio Setup - ADDED to match backup.js\nfunction setPixelRatio(): void {\n  const pixelRatio = Math.min(window.devicePixelRatio, isMobile ? 2 : 3);\n  renderer.setPixelRatio(pixelRatio);\n  renderer.setSize(container.clientWidth, container.clientHeight);\n}\n\n// Initialize Renderer - FIXED to match backup.js\nexport function initRenderer(): void {\n  enhanceAntiAliasing();\n\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n  if (container) {\n    renderer.setSize(container.clientWidth, container.clientHeight);\n    container.appendChild(renderer.domElement);\n  } else {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n  }\n\n  // ADD these event listeners to match backup.js:\n  window.addEventListener(\"load\", setPixelRatio);\n  window.addEventListener(\"resize\", setPixelRatio);\n}\n\n// Lighting Setup\nexport function setupLighting(): void {\n  const ambientLight = new THREE.AmbientLight(0xffffff);\n  scene.add(ambientLight);\n\n  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n  scene.add(directionalLight);\n  directionalLight.position.set(-5, 15, 10);\n  directionalLight.shadow.mapSize.width = 4096;\n  directionalLight.shadow.mapSize.height = 4096;\n  directionalLight.shadow.camera.left = -20;\n  directionalLight.shadow.camera.right = 20;\n  directionalLight.shadow.camera.top = 20;\n  directionalLight.shadow.camera.bottom = -20;\n  directionalLight.shadow.camera.near = 0.1;\n  directionalLight.shadow.camera.far = 50;\n  directionalLight.shadow.bias = -0.001;\n  directionalLight.shadow.radius = 3;\n  directionalLight.castShadow = true;\n}\n\n// Canvas and DOM Elements\nexport const canvas = document.querySelector(\"canvas\") as HTMLCanvasElement;\nexport const finalSection = document.querySelector(\n  SELECTORS.finalSection\n) as HTMLElement;\nexport const finalContainer = finalSection?.querySelector(\n  \".cr--final.cr\"\n) as HTMLElement;\nexport const parentElements = document.querySelectorAll(\n  SELECTORS.parentElements\n) as NodeListOf<Element>;\n","import * as THREE from \"three\";\nimport {\n  CAMERA_CONFIG,\n  startPosition,\n  secondPosition,\n  lookAtPosition,\n} from \"./config\";\n\n// Camera Setup\nexport const camera = new THREE.PerspectiveCamera(\n  CAMERA_CONFIG.originalFOV,\n  window.innerWidth / window.innerHeight,\n  CAMERA_CONFIG.near,\n  CAMERA_CONFIG.far\n);\n\n// Initialize Camera\nexport function initCamera(): void {\n  camera.position.copy(startPosition);\n  camera.lookAt(lookAtPosition);\n}\n\n// Camera Quaternions\nexport const startQuaternion = camera.quaternion.clone();\nexport const endQuaternion = new THREE.Quaternion().setFromEuler(\n  new THREE.Euler(-1.5708, 0, 0)\n);\n\n// Camera Utility Functions\nexport function getCameraLookAtPoint(): THREE.Vector3 {\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  const lookAtPoint = new THREE.Vector3();\n  lookAtPoint.copy(camera.position).add(direction.multiplyScalar(10));\n  return lookAtPoint;\n}\n\n// Global camera setter for debugging\n(window as any).setCamera = function (lookAt: string | THREE.Vector3): void {\n  if (typeof lookAt === \"string\") {\n    const [x, y, z] = lookAt.split(\",\").map(Number);\n    lookAt = new THREE.Vector3(x, y, z);\n  }\n  camera.lookAt(lookAt);\n  camera.updateProjectionMatrix();\n  camera.updateMatrix();\n  camera.updateMatrixWorld();\n};\n\n// Setup Camera Resize\nexport function setupCameraResize(): void {\n  const updateCamera = () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n  };\n\n  window.addEventListener(\"resize\", updateCamera);\n}\n","import * as THREE from \"three\";\nimport { ASSETS } from \"./config\";\n\n// Texture Loader\nconst textureLoader = new THREE.TextureLoader();\n\n// Load maze texture like in backup.js\nexport const mazeTexture = textureLoader.load(ASSETS.mazeTexture);\n\n// Materials exactly like backup.js\nexport const mazeMaterial = new THREE.MeshMatcapMaterial({\n  matcap: mazeTexture,\n});\n\nexport const topMaterial = new THREE.MeshStandardMaterial({\n  color: 0xf2f9f9,\n  metalness: 0.4,\n  roughness: 0,\n  envMapIntensity: 10,\n});\n\n// Glass Transmission Material for Ghosts - inspired by MeshTransmissionMaterial\nexport const ghostMaterial = new THREE.MeshPhysicalMaterial({\n  // Base properties\n  color: 0xffffff,\n  transparent: true,\n  opacity: 0.8,\n\n  // Glass properties\n  transmission: 0.9, // High transmission for glass effect\n  roughness: 0.1, // Very smooth surface\n  metalness: 0.0, // No metallic properties for pure glass\n\n  // Index of refraction (glass-like)\n  ior: 1.5, // Glass-like refraction\n\n  // Advanced glass effects\n  clearcoat: 1.0, // Clear coating on surface\n  clearcoatRoughness: 0.1, // Slightly rough clear coat\n\n  // Rendering properties\n  side: THREE.DoubleSide, // Render both sides\n  depthWrite: false, // Allow transparency sorting\n  depthTest: true,\n\n  // Environment interaction\n  envMapIntensity: 1.5, // Strong environment reflections\n});\n\nexport const floorMaterial = new THREE.MeshStandardMaterial({\n  color: 0xffffff,\n  opacity: 0.8,\n  transparent: true,\n  roughness: 0.5,\n  metalness: 0.1,\n});\n\n// Pacman materials with transparency for opacity changes\nconst pacmanMaterials = {\n  blue: new THREE.MeshBasicMaterial({\n    color: 0x1469d3,\n    transparent: true,\n    opacity: 1,\n  }),\n  white: new THREE.MeshBasicMaterial({\n    color: 0xffffff,\n    transparent: true,\n    opacity: 1,\n  }),\n  default: new THREE.MeshBasicMaterial({\n    color: 0x1469d3,\n    transparent: true,\n    opacity: 1,\n  }),\n};\n\nexport const materialMap = {\n  CAM_Pacman_Backframe: pacmanMaterials.blue,\n  \"CAM-Pacman_Bitcoin_1\": pacmanMaterials.white,\n  \"CAM-Pacman_Bitcoin_2\": pacmanMaterials.white,\n  \"CAM-Pacman_Bottom\": pacmanMaterials.blue,\n  \"CAM-Pacman_Top\": pacmanMaterials.blue,\n  \"CAM-Pacman_Eye\": pacmanMaterials.white,\n  CAM_Pacman_Logo_1: pacmanMaterials.white,\n  CAM_Pacman_Logo_2: pacmanMaterials.white,\n  \"CAM-Pacman_Shell_Boolean\": pacmanMaterials.blue,\n  \"CAM-Pacman_Shell\": pacmanMaterials.blue,\n  \"CAM-Pacman_Bottom_electronic\": pacmanMaterials.white,\n  \"CAM-Pacman_Top_electronic\": pacmanMaterials.white,\n  \"CAM-Pacman_Bottom_Text\": pacmanMaterials.white,\n  \"CAM-Pacman_Top_Text\": pacmanMaterials.white,\n  default: pacmanMaterials.blue,\n};\n\n// Glass Transmission Material Variations for different ghost types\nexport const createGlassGhostMaterial = (\n  options: {\n    color?: number;\n    transmission?: number;\n    roughness?: number;\n    ior?: number;\n    opacity?: number;\n  } = {}\n) => {\n  return new THREE.MeshPhysicalMaterial({\n    // Base properties\n    color: options.color || 0xffffff,\n    transparent: true,\n    opacity: options.opacity || 0.8,\n\n    // Glass properties\n    transmission: options.transmission || 0.9,\n    roughness: options.roughness || 0.1,\n    metalness: 0.0,\n\n    // Index of refraction\n    ior: options.ior || 1.5,\n\n    // Advanced glass effects\n    clearcoat: 1.0,\n    clearcoatRoughness: 0.1,\n\n    // Rendering properties\n    side: THREE.DoubleSide,\n    depthWrite: false,\n    depthTest: true,\n\n    // Environment interaction\n    envMapIntensity: 1.5,\n  });\n};\n\n// Different ghost material variations\nexport const ghostMaterials = {\n  ghost1: createGlassGhostMaterial({ color: 0xffffff, opacity: 0.85 }), // Pure glass\n  ghost2: createGlassGhostMaterial({ color: 0xf0f8ff, opacity: 0.8 }), // Slight blue tint\n  ghost3: createGlassGhostMaterial({ color: 0xf8f8ff, opacity: 0.75 }), // Slight purple tint\n  ghost4: createGlassGhostMaterial({ color: 0xfffafa, opacity: 0.82 }), // Slight pink tint\n  ghost5: createGlassGhostMaterial({ color: 0xf5fffa, opacity: 0.78 }), // Slight green tint\n};\n\n// Ghost Cover Materials - keep backwards compatibility\nexport const ghostCoverMaterials = Array(5).fill(ghostMaterial);\n","import * as THREE from \"three\";\nimport { ASSETS } from \"./config\";\nimport { GhostContainer } from \"./types\";\nimport { scene, clock } from \"./scene\";\nimport {\n  mazeMaterial,\n  topMaterial,\n  ghostMaterial,\n  ghostMaterials,\n  floorMaterial,\n  materialMap,\n} from \"./materials\";\n\n// Export clock for animation system\nexport { clock };\n\n// GLB Loader - use directly like in backup.js\nconst loader = new THREE.GLTFLoader();\n\n// Animation Mixer\nexport let pacmanMixer: THREE.AnimationMixer;\n\n// Pacman Group\nexport const pacman = new THREE.Group();\nscene.add(pacman);\n\n// Ghost Objects with individual glass materials\nexport const ghosts: GhostContainer = {\n  pacman: pacman,\n  ghost1: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterials.ghost1),\n  ghost2: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterials.ghost2),\n  ghost3: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterials.ghost3),\n  ghost4: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterials.ghost4),\n  ghost5: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterials.ghost5),\n};\n\n// Ghost containers mapping with materials (like in backup.js)\nconst ghostContainers = {\n  Ghost_EUR: { container: ghosts.ghost1, material: ghostMaterials.ghost1 },\n  Ghost_CHF: { container: ghosts.ghost2, material: ghostMaterials.ghost2 },\n  Ghost_YEN: { container: ghosts.ghost3, material: ghostMaterials.ghost3 },\n  Ghost_USD: { container: ghosts.ghost4, material: ghostMaterials.ghost4 },\n  Ghost_GBP: { container: ghosts.ghost5, material: ghostMaterials.ghost5 },\n};\n\n// Add ghosts to scene\nObject.values(ghosts).forEach((ghost) => scene.add(ghost));\n\n// Model Loading Function\nexport async function loadModel(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    loader.load(\n      ASSETS.mazeModel,\n      function (gltf) {\n        const model = gltf.scene;\n\n        model.traverse((child: THREE.Object3D) => {\n          if (child.name === \"CAM-Pacman\") {\n            const children: THREE.Object3D[] = [];\n            child.traverse((subChild: THREE.Object3D) => {\n              if (\n                (subChild as any).isMesh &&\n                subChild.name !== \"CAM-Pacman_Shell\" &&\n                subChild.name !== \"CAM-Pacman_Shell_Boolean\"\n              ) {\n                const material =\n                  materialMap[subChild.name as keyof typeof materialMap] ||\n                  materialMap.default;\n                (subChild as THREE.Mesh).material = material;\n                children.push(subChild);\n              } else if (\n                subChild.name === \"CAM-Pacman_Shell\" ||\n                subChild.name === \"CAM-Pacman_Shell_Boolean\"\n              ) {\n                subChild.visible = false;\n              }\n            });\n\n            children.forEach((item) => ghosts.pacman.add(item));\n            ghosts.pacman.scale.set(0.05, 0.05, 0.05);\n            ghosts.pacman.rotation.set(Math.PI / 2, Math.PI / 2, Math.PI / 4);\n\n            // Setup Pacman mixer\n            pacmanMixer = new THREE.AnimationMixer(ghosts.pacman);\n            const pacmanActions: { [key: string]: THREE.AnimationAction } = {};\n\n            gltf.animations.forEach((clip: THREE.AnimationClip) => {\n              const action = pacmanMixer.clipAction(clip);\n              pacmanActions[clip.name] = action;\n              action.setEffectiveWeight(1);\n              action.play();\n            });\n          } else if (\n            child.name &&\n            ghostContainers[child.name as keyof typeof ghostContainers]\n          ) {\n            const ghostData =\n              ghostContainers[child.name as keyof typeof ghostContainers];\n            const ghostContainer = ghostData.container;\n            const ghostMaterial = ghostData.material;\n            const ghostGroup = new THREE.Group();\n\n            child.rotation.z = Math.PI;\n            child.rotation.x = Math.PI / 2;\n            child.scale.set(0.75, 0.75, 0.75);\n\n            const children: THREE.Object3D[] = [];\n            child.traverse((subChild: THREE.Object3D) => {\n              if ((subChild as any).isMesh) {\n                if (subChild.name && subChild.name.startsWith(\"Ghost_Mesh\")) {\n                  // Apply the specific glass material for this ghost\n                  (subChild as THREE.Mesh).material = ghostMaterial;\n                } else if (\n                  subChild.name &&\n                  [\"EUR\", \"CHF\", \"YEN\", \"USD\", \"GBP\"].includes(subChild.name)\n                ) {\n                  subChild.visible = false;\n                }\n                children.push(subChild);\n              }\n            });\n\n            children.forEach((item) => {\n              if (\n                item.name &&\n                (item.name.includes(\"EUR\") ||\n                  item.name.startsWith(\"Ghost_Mesh\"))\n              ) {\n                item.rotation.z = Math.PI;\n                item.rotation.x = Math.PI / 2;\n              } else {\n                item.rotation.set(0, 0, 0);\n              }\n              ghostGroup.add(item);\n            });\n\n            ghostContainer.add(ghostGroup);\n          }\n\n          if ((child as any).isMesh) {\n            if (child.name === \"CAM-Arena_LowRes_Top\") {\n              (child as THREE.Mesh).material = topMaterial;\n              child.castShadow = true;\n            } else if (child.name === \"CAM-Arena_LowRes_Bottom\") {\n              (child as THREE.Mesh).material = mazeMaterial;\n              child.castShadow = true;\n            } else if (child.name === \"CAM-Floor\") {\n              const clonedChild = child.clone();\n              child.position.y = -0.1;\n              child.position.x = 0;\n              child.position.z = 0;\n              (child as THREE.Mesh).material = new THREE.MeshBasicMaterial({\n                color: 0xffffff,\n                opacity: 1,\n                transparent: false,\n                depthWrite: true,\n                depthTest: true,\n                side: THREE.FrontSide,\n              });\n              child.receiveShadow = false;\n              child.castShadow = true;\n              child.scale.set(0.5, 0.5, 0.5);\n\n              (clonedChild as THREE.Mesh).material = floorMaterial;\n              clonedChild.position.y = -0.5;\n              clonedChild.receiveShadow = true;\n              scene.add(clonedChild);\n            }\n          }\n        });\n\n        // Add shadows to all meshes\n        model.traverse(function (node: THREE.Object3D) {\n          if ((node as any).isMesh) {\n            node.castShadow = true;\n            node.receiveShadow = true;\n          }\n        });\n\n        // Add model to scene and position it like in backup.js\n        scene.add(model);\n        model.position.set(0.5, 0.5, 0.5);\n\n        resolve();\n      },\n      function (progress) {},\n      function (error) {\n        reject(error);\n      }\n    );\n  });\n}\n","import * as THREE from \"three\";\nimport { PathPoint, PathData, PathMapping } from \"./types\";\nimport { CAMERA_POSITIONS, isMobile } from \"./config\";\n\n// Path Creation Utility\nexport function createPath(\n  pathPoints: PathPoint[]\n): THREE.CurvePath<THREE.Vector3> {\n  const path = new THREE.CurvePath<THREE.Vector3>();\n\n  for (let i = 0; i < pathPoints.length - 1; i++) {\n    const current = pathPoints[i];\n    const next = pathPoints[i + 1];\n\n    if (current.type === \"straight\") {\n      const line = new THREE.LineCurve3(current.pos, next.pos);\n      path.add(line);\n    } else if (current.type === \"curve\") {\n      let midPoint: THREE.Vector3;\n      if (current.curveType === \"upperArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      } else if (current.curveType === \"lowerArc\") {\n        midPoint = new THREE.Vector3(next.pos.x, current.pos.y, current.pos.z);\n      } else if (current.curveType === \"forwardDownArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, next.pos.y, current.pos.z);\n      } else {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      }\n      const curve = new THREE.QuadraticBezierCurve3(\n        current.pos,\n        midPoint,\n        next.pos\n      );\n      path.add(curve);\n    }\n  }\n  return path;\n}\n\n// Path Points Definitions (shortened as requested)\nconst pacmanHomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.6025), type: \"straight\" },\n];\n\nconst ghost1HomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.502), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.0965, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.703), type: \"straight\" },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.502), type: \"straight\" },\n];\n\nconst ghost2HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.502), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.0965, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n];\n\nconst ghost3HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.55675, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n];\n\nconst ghost4HomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.65725, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.15975, 0.55, 0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.6025), type: \"straight\" },\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.4015), type: \"straight\" },\n];\n\nconst ghost5HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.04975),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, -0.101), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.04975),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n];\n\nconst cameraPOVPathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.55675, 0.5, 0.45175),\n    type: \"curve\",\n    curveType: \"forwardDownArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.607, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.85375), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.9085, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.15525), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.205, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.05475), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.5065, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.306),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 1, 2.0095), type: \"straight\" },\n];\n\nconst ghost1POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.009, 0.55, 0.8035), type: \"straight\" },\n  { pos: new THREE.Vector3(0.9085, 0.55, 0.8035), type: \"straight\" },\n];\n\nconst ghost2POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.15525), type: \"straight\" },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.05475), type: \"straight\" },\n];\n\nconst ghost3POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.95425),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.0045), type: \"straight\" },\n];\n\nconst ghost4POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.3055, 0.55, 1.0045), type: \"straight\" },\n];\n\nconst ghost5POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.55675, 0.55, 1.306), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.25575),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.2055), type: \"straight\" },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.2055), type: \"straight\" },\n];\n\n// Camera Home Path - ensure it uses the correct positions based on device\nconst cameraStartPosition = isMobile\n  ? CAMERA_POSITIONS.startMobile\n  : CAMERA_POSITIONS.startDesktop;\nconst cameraSecondPosition = isMobile\n  ? CAMERA_POSITIONS.secondMobile\n  : CAMERA_POSITIONS.secondDesktop;\n\nexport const cameraHomePath = new THREE.CubicBezierCurve3(\n  cameraStartPosition,\n  cameraSecondPosition,\n  new THREE.Vector3(0.55675, 3, 0.45175),\n  new THREE.Vector3(0.55675, 0.5, 0.45175)\n);\n\n// Path Data Configuration\nexport const pathsData: { [key: string]: PathData } = {\n  pacmanHomePath: {\n    points: pacmanHomePathPoints,\n    color: 0xffff00,\n  },\n  ghost1HomePath: {\n    points: ghost1HomePathPoints,\n    color: 0xff0000,\n  },\n  ghost2HomePath: {\n    points: ghost2HomePathPoints,\n    color: 0xffa500,\n  },\n  ghost3HomePath: {\n    points: ghost3HomePathPoints,\n    color: 0xff69b4,\n  },\n  ghost4HomePath: {\n    points: ghost4HomePathPoints,\n    color: 0x32cd32,\n  },\n  ghost5HomePath: {\n    points: ghost5HomePathPoints,\n    color: 0xffdab9,\n  },\n  cameraPOVPath: {\n    points: cameraPOVPathPoints,\n    color: 0xffffff,\n  },\n  ghost1POVPath: {\n    points: ghost1POVPathPoints,\n    color: 0xff0000,\n  },\n  ghost2POVPath: {\n    points: ghost2POVPathPoints,\n    color: 0xffa500,\n  },\n  ghost3POVPath: {\n    points: ghost3POVPathPoints,\n    color: 0xff69b4,\n  },\n  ghost4POVPath: {\n    points: ghost4POVPathPoints,\n    color: 0x32cd32,\n  },\n  ghost5POVPath: {\n    points: ghost5POVPathPoints,\n    color: 0xffdab9,\n  },\n};\n\n// Path Mapping Functions\nexport function getPathsForSection(section: string): PathMapping {\n  const mapping: PathMapping = {};\n\n  if (section === \"home\") {\n    mapping.pacman = \"pacmanHomePath\";\n    mapping.ghost1 = \"ghost1HomePath\";\n    mapping.ghost2 = \"ghost2HomePath\";\n    mapping.ghost3 = \"ghost3HomePath\";\n    mapping.ghost4 = \"ghost4HomePath\";\n    mapping.ghost5 = \"ghost5HomePath\";\n  } else if (section === \"pov\") {\n    mapping.pacman = \"cameraPOVPath\";\n    mapping.ghost1 = \"ghost1POVPath\";\n    mapping.ghost2 = \"ghost2POVPath\";\n    mapping.ghost3 = \"ghost3POVPath\";\n    mapping.ghost4 = \"ghost4POVPath\";\n    mapping.ghost5 = \"ghost5POVPath\";\n  }\n  return mapping;\n}\n\n// Create all paths\nexport const paths: { [key: string]: THREE.CurvePath<THREE.Vector3> } = {};\n\n// Initialize paths\nObject.entries(pathsData).forEach(([key, data]) => {\n  paths[key] = createPath(data.points);\n});\n\n// Create pathsMap for ghost animation system\nexport const pathsMap: { [key: string]: THREE.CurvePath<THREE.Vector3> } = {\n  pacman: paths.pacmanHomePath,\n  ghost1: paths.ghost1HomePath,\n  ghost2: paths.ghost2HomePath,\n  ghost3: paths.ghost3HomePath,\n  ghost4: paths.ghost4HomePath,\n  ghost5: paths.ghost5HomePath,\n};\n","import * as THREE from \"three\";\nimport { ghosts, pacmanMixer, clock } from \"./objects\";\nimport { pathsMap } from \"./paths\";\nimport { renderer, scene } from \"./scene\";\nimport { camera, startQuaternion, endQuaternion } from \"./camera\";\n// Removed redundant smooth scroll system - using direct progress for precise control\n\n// 1. STATE MANAGEMENT\ntype AnimationState = \"HOME\" | \"SCROLL_ANIMATION\" | \"POV_ANIMATION\";\nlet currentAnimationState: AnimationState = \"HOME\";\n\n// Debug info for window\ndeclare global {\n  interface Window {\n    animationDebugInfo: {\n      state: AnimationState;\n      capturedPositions: any;\n      bezierCurves: any;\n      scrollProgress?: number;\n      povAnimationActive: boolean;\n    };\n  }\n}\n\n// Constants\nconst MAZE_CENTER = new THREE.Vector3(0.55675, 0.5, 0.45175);\nconst GHOSTS_END_AT = 0.8; // Ghosts finish their animation at 80% scroll\nconst GHOST_OPACITY_FADE_START = 0.8; // Last 20% of GHOST animation (ghostProgress 0.8-1.0)\n\n// FOV Constants (from backup.js)\nconst ORIGINAL_FOV = 50; // Used in HOME state\nconst WIDE_FOV = 80; // Used in POV animation\nconst END_SEQUENCE_FOV = WIDE_FOV / 4; // 20 - Used in end sequence\n\n// 2. POSITION & BEZIER SYSTEM\nconst capturedPositions: { [key: string]: THREE.Vector3 } = {};\nconst capturedRotations: { [key: string]: THREE.Euler } = {};\nconst originalHomePositions: { [key: string]: THREE.Vector3 } = {}; // ORIGINAL home positions captured at start\nconst originalHomeRotations: { [key: string]: THREE.Euler } = {}; // ORIGINAL home rotations captured at start\nconst originalHomeScales: { [key: string]: THREE.Vector3 } = {}; // ORIGINAL home scales captured at start\nlet homePositionsCaptured = false; // Flag to ensure we only capture home positions once\nconst bezierCurves: { [key: string]: THREE.QuadraticBezierCurve3 } = {};\nlet timeOffset = 0;\nlet pauseTime = 0;\nlet savedAnimationProgress = 0; // Store the home animation progress when pausing\n\n// HOME ANIMATION SPEED - Keep this consistent everywhere!\nconst HOME_ANIMATION_SPEED = 0.03; // 3x slower than original (was 0.1)\n\n// GLOBAL MOMENTUM SMOOTHING for all scroll animations\ninterface GlobalSmoothingState {\n  smoothedProgress: number;\n  targetProgress: number;\n  velocity: number;\n  lastTargetProgress: number;\n  lastTime: number;\n}\n\nconst globalSmoothing: GlobalSmoothingState = {\n  smoothedProgress: 0,\n  targetProgress: 0,\n  velocity: 0,\n  lastTargetProgress: 0,\n  lastTime: 0,\n};\n\n// Apply momentum smoothing to ANY scroll progress\nfunction applyGlobalMomentumSmoothing(targetProgress: number): number {\n  const currentTime = performance.now() / 1000;\n\n  // Initialize on first run\n  if (globalSmoothing.lastTime === 0) {\n    globalSmoothing.lastTime = currentTime;\n    globalSmoothing.lastTargetProgress = targetProgress;\n    globalSmoothing.smoothedProgress = targetProgress;\n    return targetProgress;\n  }\n\n  const deltaTime = Math.max(currentTime - globalSmoothing.lastTime, 0.001);\n\n  // Calculate input velocity (how fast user is scrolling)\n  const inputVelocity =\n    (targetProgress - globalSmoothing.lastTargetProgress) / deltaTime;\n\n  // SMOOTH SETTINGS:\n  const friction = 0.88; // Higher = more momentum\n  const responsiveness = 0.2; // Higher = more direct response\n  const maxVelocity = 3.0; // Max velocity cap\n\n  // Apply friction\n  globalSmoothing.velocity *= friction;\n\n  // Add input influence\n  const progressDiff = targetProgress - globalSmoothing.smoothedProgress;\n  const velocityInfluence = inputVelocity * 0.15;\n\n  globalSmoothing.velocity += progressDiff * responsiveness + velocityInfluence;\n  globalSmoothing.velocity = Math.max(\n    -maxVelocity,\n    Math.min(maxVelocity, globalSmoothing.velocity)\n  );\n\n  // Apply velocity\n  globalSmoothing.smoothedProgress += globalSmoothing.velocity * deltaTime;\n  globalSmoothing.smoothedProgress = Math.max(\n    0,\n    Math.min(1, globalSmoothing.smoothedProgress)\n  );\n\n  // Update tracking\n  globalSmoothing.lastTargetProgress = targetProgress;\n  globalSmoothing.lastTime = currentTime;\n\n  const lag = targetProgress - globalSmoothing.smoothedProgress;\n\n  return globalSmoothing.smoothedProgress;\n}\n\n// Capture ORIGINAL home positions (called only once at start)\nfunction captureOriginalHomePositions() {\n  if (homePositionsCaptured) return; // Already captured\n\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (ghosts[ghostKey]) {\n      originalHomePositions[ghostKey] = ghosts[ghostKey].position.clone();\n      originalHomeRotations[ghostKey] = ghosts[ghostKey].rotation.clone();\n      originalHomeScales[ghostKey] = ghosts[ghostKey].scale.clone();\n    }\n  });\n  homePositionsCaptured = true;\n}\n\n// Capture current positions for scroll animation (may be called multiple times)\nfunction captureGhostPositions() {\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (ghosts[ghostKey]) {\n      capturedPositions[ghostKey] = ghosts[ghostKey].position.clone();\n      capturedRotations[ghostKey] = ghosts[ghostKey].rotation.clone();\n    }\n  });\n}\n\nfunction createBezierCurves() {\n  // Use the global MAZE_CENTER constant so it can be changed easily\n  Object.keys(capturedPositions).forEach((ghostKey) => {\n    const startPos = capturedPositions[ghostKey].clone(); // Aktuelle Position der Geister\n    const endPos = MAZE_CENTER.clone(); // Use global MAZE_CENTER constant\n\n    // Control point: Mittelpunkt zwischen Start und Ende in x/z, aber hoch oben bei y=1\n    const controlPoint = new THREE.Vector3(\n      (startPos.x + endPos.x) / 2, // Mittelpunkt x zwischen Start und Maze-Mitte\n      2, // Hoch oben bei y=1\n      (startPos.z + endPos.z) / 2 // Mittelpunkt z zwischen Start und Maze-Mitte\n    );\n\n    bezierCurves[ghostKey] = new THREE.QuadraticBezierCurve3(\n      startPos, // Wo Geist ist wenn Animation stoppt\n      controlPoint, // Hoher Bogen-Punkt\n      endPos // Maze-Mitte\n    );\n  });\n}\n\nfunction moveGhostOnCurve(ghostKey: string, ghostProgress: number) {\n  if (\n    !bezierCurves[ghostKey] ||\n    !ghosts[ghostKey] ||\n    !capturedPositions[ghostKey] ||\n    !capturedRotations[ghostKey]\n  )\n    return;\n\n  const ghost = ghosts[ghostKey];\n\n  // Always use bezier curve for smooth interpolation\n  const position = bezierCurves[ghostKey].getPoint(ghostProgress);\n  ghost.position.copy(position);\n\n  // Simple rotation: interpolate from start rotation to (90°, 0°, 0°)\n  const originalRotation = capturedRotations[ghostKey];\n  const targetRotation = new THREE.Euler(Math.PI / -2, 0, 0); // Target: (90°, 0°, 0°)\n\n  // Interpolate between original and target rotation\n  const currentRotation = new THREE.Euler(\n    originalRotation.x +\n      (targetRotation.x - originalRotation.x) * ghostProgress,\n    originalRotation.y +\n      (targetRotation.y - originalRotation.y) * ghostProgress,\n    originalRotation.z + (targetRotation.z - originalRotation.z) * ghostProgress\n  );\n\n  ghost.rotation.copy(currentRotation);\n\n  // Handle opacity fade in last 20% of GHOST animation (not scroll progress!)\n  let opacity = 1;\n  if (ghostProgress >= GHOST_OPACITY_FADE_START) {\n    const fadeProgress =\n      (ghostProgress - GHOST_OPACITY_FADE_START) /\n      (1 - GHOST_OPACITY_FADE_START);\n    opacity = 1 - fadeProgress;\n    opacity = Math.max(0, opacity); // Allow complete invisibility\n  }\n\n  // Set opacity for both Mesh and Group\n  if (ghost instanceof THREE.Mesh && ghost.material) {\n    if (Array.isArray(ghost.material)) {\n      ghost.material.forEach((mat) => {\n        if (\"opacity\" in mat) mat.opacity = opacity;\n      });\n    } else {\n      if (\"opacity\" in ghost.material) ghost.material.opacity = opacity;\n    }\n  } else if (ghost instanceof THREE.Group) {\n    ghost.traverse((child) => {\n      if (child instanceof THREE.Mesh && child.material) {\n        if (Array.isArray(child.material)) {\n          child.material.forEach((mat) => {\n            if (\"opacity\" in mat) mat.opacity = opacity;\n          });\n        } else {\n          if (\"opacity\" in child.material) child.material.opacity = opacity;\n        }\n      }\n    });\n  }\n}\n\n// Create camera path exactly like backup.js but starting from current position\nfunction createCameraPath() {\n  // Use current camera position as start (don't jump) - capture it NOW\n  const startPosition = camera.position.clone();\n\n  // Update the initial camera state to current state for smooth transitions\n  initialCameraPosition.copy(camera.position);\n  initialCameraQuaternion.copy(camera.quaternion);\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  initialCameraTarget = camera.position\n    .clone()\n    .add(direction.multiplyScalar(5));\n\n  // Calculate a smooth second position towards backup.js path\n  const isMobile = window.innerWidth < 768;\n  const targetSecondPositionMobile = new THREE.Vector3(0.5, 2.5, 2);\n  const targetSecondPositionDesktop = new THREE.Vector3(-1.5, 3, 2);\n  const targetSecondPosition = isMobile\n    ? targetSecondPositionMobile\n    : targetSecondPositionDesktop;\n\n  // Create a second position between current and target\n  const secondPosition = new THREE.Vector3().lerpVectors(\n    startPosition,\n    targetSecondPosition,\n    0.3\n  );\n\n  // Exact same control and end points as backup.js\n  cameraHomePath = new THREE.CubicBezierCurve3(\n    startPosition, // Current position (no jump)\n    secondPosition, // Interpolated second position\n    new THREE.Vector3(0.55675, 3, 0.45175), // High control point\n    new THREE.Vector3(0.55675, 0.5, 0.45175) // End point (maze center)\n  );\n}\n\n// 3. SCROLL MANAGEMENT\nlet initialCameraPosition = new THREE.Vector3();\nlet initialCameraTarget = new THREE.Vector3();\nlet initialCameraQuaternion = new THREE.Quaternion();\nlet cameraHomePath: THREE.CubicBezierCurve3;\n\n// 4. ANIMATION LOOP\nlet animationStartTime = Date.now();\n\nfunction animationLoop() {\n  // Only run home animation if we're in HOME state\n  if (currentAnimationState !== \"HOME\") return;\n\n  const currentTime = Date.now();\n  const elapsedTime = (currentTime - animationStartTime - timeOffset) / 1000; // Convert to seconds\n  const t = (savedAnimationProgress + elapsedTime * HOME_ANIMATION_SPEED) % 1; // Use consistent speed\n\n  // Animate ghosts on their home paths only during HOME state\n  Object.entries(ghosts).forEach(([key, ghost]) => {\n    if (!pathsMap[key]) {\n      // Don't spam warnings, just return\n      return;\n    }\n\n    if (key === \"pacman\") {\n      // Pacman animation\n      const position = pathsMap[key].getPointAt(t);\n      ghost.position.copy(position);\n      const tangent = pathsMap[key].getTangentAt(t).normalize();\n      ghost.lookAt(position.clone().add(tangent));\n\n      // Handle pacman rotation smoothing\n      const zRotation = Math.atan2(tangent.x, tangent.z);\n      if ((ghost as any).previousZRotation === undefined) {\n        (ghost as any).previousZRotation = zRotation;\n      }\n\n      let rotationDiff = zRotation - (ghost as any).previousZRotation;\n      if (rotationDiff > Math.PI) rotationDiff -= 2 * Math.PI;\n      else if (rotationDiff < -Math.PI) rotationDiff += 2 * Math.PI;\n\n      const smoothFactor = 0.1;\n      const smoothedRotation =\n        (ghost as any).previousZRotation + rotationDiff * smoothFactor;\n      (ghost as any).previousZRotation = smoothedRotation;\n\n      ghost.rotation.set(Math.PI / 2, Math.PI, smoothedRotation + Math.PI / 2);\n    } else {\n      // Ghost animation\n      const position = pathsMap[key].getPointAt(t);\n      ghost.position.copy(position);\n      const tangent = pathsMap[key].getTangentAt(t).normalize();\n      ghost.lookAt(position.clone().add(tangent));\n\n      // Ensure full opacity\n      if (\n        ghost instanceof THREE.Mesh &&\n        ghost.material &&\n        \"opacity\" in ghost.material\n      ) {\n        ghost.material.opacity = 1;\n      }\n    }\n  });\n}\n\n// Reset to home state helper\nfunction resetToHomeState() {\n  currentAnimationState = \"HOME\";\n\n  // CRITICAL FIX: Reset animation timing to continue from saved progress\n  animationStartTime = Date.now();\n  timeOffset = 0;\n  pauseTime = 0;\n\n  // Reset camera to initial position and rotation\n  camera.position.copy(initialCameraPosition);\n  camera.quaternion.copy(initialCameraQuaternion);\n\n  // Reset all ghosts to their ORIGINAL home positions, rotations, scales and full opacity\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (\n      originalHomePositions[ghostKey] &&\n      originalHomeRotations[ghostKey] &&\n      originalHomeScales[ghostKey] &&\n      ghosts[ghostKey]\n    ) {\n      ghosts[ghostKey].position.copy(originalHomePositions[ghostKey]);\n      ghosts[ghostKey].rotation.copy(originalHomeRotations[ghostKey]);\n      ghosts[ghostKey].scale.copy(originalHomeScales[ghostKey]); // CRITICAL: Restore original scale\n\n      // Reset opacity to full\n      const ghost = ghosts[ghostKey];\n      if (ghost instanceof THREE.Mesh && ghost.material) {\n        if (Array.isArray(ghost.material)) {\n          ghost.material.forEach((mat) => {\n            if (\"opacity\" in mat) mat.opacity = 1;\n          });\n        } else {\n          if (\"opacity\" in ghost.material) ghost.material.opacity = 1;\n        }\n      } else if (ghost instanceof THREE.Group) {\n        ghost.traverse((child) => {\n          if (child instanceof THREE.Mesh && child.material) {\n            if (Array.isArray(child.material)) {\n              child.material.forEach((mat) => {\n                if (\"opacity\" in mat) mat.opacity = 1;\n              });\n            } else {\n              if (\"opacity\" in child.material) child.material.opacity = 1;\n            }\n          }\n        });\n      }\n    }\n  });\n\n  // Update debug info\n  if (window.animationDebugInfo) {\n    window.animationDebugInfo.state = currentAnimationState;\n    window.animationDebugInfo.scrollProgress = 0;\n  }\n}\n\n// Camera animation helper - smooth transition from current rotation (ONLY FOV FIX)\nfunction animateCamera(progress: number) {\n  if (!cameraHomePath) {\n    return;\n  }\n\n  // Keep original FOV (50°) - don't jump to wide FOV immediately!\n  // Only change FOV if backup.js specifically does it\n  camera.fov = 50; // Keep originalFOV, don't jump to 80°!\n  camera.updateProjectionMatrix();\n\n  // Get position on the backup.js curve\n  const position = cameraHomePath.getPointAt(progress);\n  camera.position.copy(position);\n\n  // Calculate target look-at direction (towards maze center)\n  const mazeCenter = new THREE.Vector3(0.55675, 0.5, 0.45175);\n  const targetLookAt = mazeCenter.clone();\n\n  // EXACT backup.js logic: interpolate between startQuaternion and endQuaternion\n  if (progress === 0) {\n    // At progress 0: keep the EXACT current rotation (no jump!)\n    camera.quaternion.copy(initialCameraQuaternion);\n  } else {\n    // Backup.js logic: slerp between startQuaternion and endQuaternion\n    // endQuaternion = looking straight down (-90° on X-axis)\n    const currentQuaternion = new THREE.Quaternion();\n    currentQuaternion.slerpQuaternions(\n      initialCameraQuaternion,\n      endQuaternion,\n      progress\n    );\n    camera.quaternion.copy(currentQuaternion);\n  }\n}\n\n// Smooth step function from backup.js\nfunction smoothStep(x: number): number {\n  return x * x * (3 - 2 * x);\n}\n\n// Scroll event handler\nfunction handleScroll() {\n  // CRITICAL: Don't update HOME ghosts when POV animation is active!\n  if (povAnimationState.isActive) {\n    return; // POV system handles everything\n  }\n\n  const homeSection = document.querySelector(\".sc--home\") as HTMLElement;\n  if (!homeSection) {\n    return;\n  }\n\n  const rect = homeSection.getBoundingClientRect();\n  const windowHeight = window.innerHeight;\n\n  // Check if we're in or approaching the home section animation range\n  const isInHomeSection =\n    rect.top <= windowHeight && rect.bottom > -windowHeight;\n\n  // Calculate scroll progress: LIMITED to \"top top\" -> \"bottom top\" (like backup.js)\n  // Animation starts when section top hits viewport top (rect.top = 0)\n  // Animation ends when section bottom hits viewport top (rect.bottom = 0)\n\n  let scrollProgress = 0;\n\n  if (rect.top <= 0 && rect.bottom >= 0) {\n    // We're in the animation range: section is crossing the viewport\n    const sectionHeight = rect.height;\n    const scrolledDistance = Math.abs(rect.top); // How far the section has scrolled past viewport top\n    scrollProgress = Math.min(1, scrolledDistance / sectionHeight); // 0 to 1\n  } else if (rect.bottom < 0) {\n    // Past the animation range - section completely scrolled out, animation complete\n    scrollProgress = 1;\n  }\n  // else scrollProgress stays 0 (before animation range)\n\n  if (isInHomeSection) {\n    // We're in the home section or buffer zone - handle scroll animation\n\n    if (scrollProgress > 0) {\n      // Always animate when scrollProgress > 0, regardless of state\n      // Switch to SCROLL_ANIMATION state if not already\n      if (currentAnimationState === \"HOME\") {\n        // Capture current animation progress before switching states\n        const currentTime = Date.now();\n        const elapsedTime =\n          (currentTime - animationStartTime - timeOffset) / 1000;\n        savedAnimationProgress =\n          (savedAnimationProgress + elapsedTime * HOME_ANIMATION_SPEED) % 1;\n        currentAnimationState = \"SCROLL_ANIMATION\";\n\n        // Capture positions immediately when starting scroll animation\n        captureGhostPositions();\n        createBezierCurves();\n        createCameraPath();\n      }\n\n      // BACK TO ORIGINAL: No smoothing in home section (it was working fine)\n\n      // Animate ghosts along bezier curves (they finish at 80% scroll)\n      Object.keys(ghosts).forEach((ghostKey) => {\n        if (bezierCurves[ghostKey]) {\n          // Compress ghost animation into 0-80% range\n          const ghostProgress = Math.min(scrollProgress / GHOSTS_END_AT, 1);\n          moveGhostOnCurve(ghostKey, ghostProgress);\n        }\n      });\n\n      // Animate camera normally (0% to 100%)\n      animateCamera(scrollProgress);\n\n      // Update debug info\n      if (window.animationDebugInfo) {\n        window.animationDebugInfo.scrollProgress = scrollProgress;\n      }\n    } else if (scrollProgress === 0) {\n      // Back at the beginning of home section - reset to home state\n      if (currentAnimationState !== \"HOME\") {\n        resetToHomeState();\n      }\n    }\n  } else {\n    // We're outside the home section and buffer zone\n\n    // Check if we're at the very top of the page (above home section)\n    if (window.scrollY <= 10) {\n      resetToHomeState();\n    }\n  }\n}\n\n// 5. GSAP INTEGRATION - To be called by GSAP ScrollTriggers\n// 6. INTRO TEXT ANIMATIONS (after arriving at maze)\nfunction setupIntroAnimations() {\n  // Setup intro header animation (.sc_h--intro) - CORRECTED initial states\n  const introHeader = document.querySelector(\".sc_h--intro\");\n  if (introHeader) {\n    // Set initial state - VISIBLE but transparent\n    (introHeader as HTMLElement).style.transform = \"scale(0)\";\n    (introHeader as HTMLElement).style.opacity = \"0\";\n    (introHeader as HTMLElement).style.display = \"block\"; // VISIBLE for animations\n  }\n\n  // Setup intro body animation (.sc_b--intro) - CORRECTED initial states\n  const introBody = document.querySelector(\".sc_b--intro\");\n  if (introBody) {\n    // Set initial state - transparent but no display manipulation\n    (introBody as HTMLElement).style.transform = \"scale(0.5)\";\n    (introBody as HTMLElement).style.opacity = \"0\";\n    // Removed display: block - let CSS handle positioning\n  }\n\n  // INJECT CSS FOR FIXED POSITIONING - Override any sticky behavior\n  if (!document.getElementById(\"intro-fixed-styles\")) {\n    const style = document.createElement(\"style\");\n    style.id = \"intro-fixed-styles\";\n    style.textContent = `\n      .intro-text-fixed {\n        position: fixed !important;\n        top: 50% !important;\n        left: 50% !important;\n        z-index: 1000 !important;\n        pointer-events: none !important;\n      }\n    `;\n    document.head.appendChild(style);\n  }\n}\n\n// Handle intro section scroll animations (like backup.js)\nfunction handleIntroScroll() {\n  const introSection = document.querySelector(\".sc--intro\") as HTMLElement;\n  if (!introSection) return;\n\n  const rect = introSection.getBoundingClientRect();\n  const windowHeight = window.innerHeight;\n\n  // Calculate if intro section is in view - NO BUFFER ZONE for precise \"bottom bottom\" timing\n  const sectionTop = rect.top;\n  const sectionBottom = rect.bottom;\n  const sectionHeight = rect.height;\n\n  // Simplified GSAP logic: Just use section scrolling from top to bottom\n  if (sectionTop <= 0 && sectionBottom >= 0) {\n    // Section is crossing the viewport\n    const progress = Math.min(1, Math.abs(sectionTop) / sectionHeight);\n\n    // Calculate when \"center center\" is reached\n    // \"center center\" = when section center aligns with viewport center\n    const centerProgress = 0.5; // This happens halfway through the section\n\n    // Header: \"top top\" to \"center center\" (0% to 50%)\n    if (progress <= centerProgress) {\n      const headerProgress = progress / centerProgress; // 0-0.5 maps to 0-1\n      animateIntroHeaderDirect(headerProgress);\n      animateIntroBodyDirect(0); // Body not started yet\n    } else {\n      // Body: \"center center\" to \"bottom bottom\" (50% to 100%)\n      const bodyProgress = (progress - centerProgress) / (1 - centerProgress); // 0.5-1 maps to 0-1\n      animateIntroHeaderDirect(1); // Header finished\n      animateIntroBodyDirect(bodyProgress);\n    }\n  } else {\n    // CORRECTED: Reset to invisible but keep display block for future animations\n    const introHeader = document.querySelector(\".sc_h--intro\") as HTMLElement;\n    const introBody = document.querySelector(\".sc_b--intro\") as HTMLElement;\n\n    if (introHeader) {\n      introHeader.style.opacity = \"0\";\n      introHeader.style.transform = \"scale(0)\";\n    }\n    if (introBody) {\n      introBody.style.opacity = \"0\";\n      introBody.style.transform = \"scale(0.5)\";\n    }\n  }\n}\n\n// FIXED intro scroll handler with corrected backup.js timing\nfunction handleIntroScrollFixed() {\n  const introSection = document.querySelector(\".sc--intro\") as HTMLElement;\n  if (!introSection) {\n    return;\n  }\n\n  const rect = introSection.getBoundingClientRect();\n  const windowHeight = window.innerHeight;\n  const sectionTop = rect.top;\n  const sectionBottom = rect.bottom;\n  const sectionHeight = rect.height;\n\n  // CORRECTED backup.js timing:\n  // Header: \"top top\" to \"center center\"\n  // Body: \"center center\" to \"bottom bottom\"\n\n  if (sectionTop <= 0 && sectionBottom >= 0) {\n    // Section is visible - calculate overall progress\n    const scrolledDistance = Math.abs(sectionTop);\n    const overallProgress = Math.min(1, scrolledDistance / sectionHeight);\n\n    // HEADER: Animate from 0% to 50% (top top -> center center)\n    if (overallProgress <= 0.5) {\n      const headerProgress = overallProgress / 0.5; // Map 0-0.5 to 0-1\n      animateIntroHeaderDirect(headerProgress);\n      animateIntroBodyDirect(0); // Body stays hidden\n    } else {\n      // BODY: Animate from 50% to 100% (center center -> bottom bottom)\n      const bodyProgress = (overallProgress - 0.5) / 0.5; // Map 0.5-1 to 0-1\n      animateIntroHeaderDirect(1); // Header finished\n      animateIntroBodyDirect(bodyProgress);\n    }\n  } else {\n    // Section not visible - reset elements\n    animateIntroHeaderDirect(0);\n    animateIntroBodyDirect(0);\n  }\n}\n\n// State tracking to prevent conflicts\nlet isHeaderAnimating = false;\nlet isBodyAnimating = false;\n\n// Smooth easing function for opacity transitions\nfunction easeInOutCubic(t: number): number {\n  return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\n}\n\nfunction animateIntroHeaderDirect(directProgress: number) {\n  const introHeader = document.querySelector(\".sc_h--intro\") as HTMLElement;\n  if (!introHeader) {\n    return;\n  }\n\n  // Header animation: directProgress goes from 0-1 for the full header animation\n  let scale = 0;\n  let opacity = 0;\n\n  if (directProgress > 0 && directProgress < 1) {\n    if (directProgress <= 0.2) {\n      // 0% - 20%: scale 0->0.8, opacity 0->1 (RESTORED: Back to original behavior)\n      const keyframeProgress = directProgress / 0.2;\n      const easedProgress = easeInOutCubic(keyframeProgress);\n      scale = easedProgress * 0.8;\n      opacity = easedProgress; // 0.0 -> 1.0\n    } else if (directProgress <= 0.8) {\n      // 20% - 80%: scale 0.8->1.2, opacity stays 1 (LÄNGER sichtbar)\n      const keyframeProgress = (directProgress - 0.2) / 0.6;\n      scale = 0.8 + keyframeProgress * 0.4; // 0.8 -> 1.2\n      opacity = 1;\n    } else {\n      // 80% - 100%: scale 1.2->1.5, opacity 1->0 (RESTORED: Back to original behavior)\n      const keyframeProgress = (directProgress - 0.8) / 0.2;\n      scale = 1.2 + keyframeProgress * 0.3; // 1.2 -> 1.5\n      opacity = 1 - keyframeProgress; // 1 -> 0.0\n    }\n  } else if (directProgress >= 1) {\n    // Header finished\n    scale = 1.5;\n    opacity = 0; // RESTORED: Back to original behavior\n  } else {\n    // Header not started\n    scale = 0;\n    opacity = 0; // RESTORED: Back to original behavior\n  }\n\n  // ROBUST STATE-TRACKED POSITIONING\n  const shouldBeFixed = directProgress > 0 && directProgress < 1;\n\n  if (shouldBeFixed && !isHeaderAnimating) {\n    // Start animation - add fixed class once\n    isHeaderAnimating = true;\n    introHeader.classList.add(\"intro-text-fixed\");\n    console.log(\"🎬 Header: Fixed positioning ON\");\n  } else if (!shouldBeFixed && isHeaderAnimating) {\n    // End animation - remove fixed class once\n    isHeaderAnimating = false;\n    introHeader.classList.remove(\"intro-text-fixed\");\n    console.log(\"🎬 Header: Fixed positioning OFF\");\n  }\n\n  // Always update transform and opacity based on current state\n  if (isHeaderAnimating) {\n    introHeader.style.setProperty(\n      \"transform\",\n      `translate(-50%, -50%) scale(${scale})`,\n      \"important\"\n    );\n  } else {\n    introHeader.style.setProperty(\"transform\", `scale(${scale})`, \"important\");\n  }\n  introHeader.style.opacity = opacity.toString();\n}\n\nfunction animateIntroBodyDirect(directProgress: number) {\n  const introBody = document.querySelector(\".sc_b--intro\") as HTMLElement;\n  if (!introBody) {\n    return;\n  }\n\n  // Body animation: directProgress goes from 0-1 for the full body animation\n  let scale = 0.5;\n  let opacity = 0;\n\n  if (directProgress > 0 && directProgress < 1) {\n    if (directProgress <= 0.2) {\n      // 0% - 20%: scale 0.5->0.8, opacity 0->1 (RESTORED: Back to original behavior)\n      const keyframeProgress = directProgress / 0.2;\n      const easedProgress = easeInOutCubic(keyframeProgress);\n      scale = 0.5 + easedProgress * 0.3; // 0.5 -> 0.8\n      opacity = easedProgress; // 0.0 -> 1.0\n    } else if (directProgress <= 0.8) {\n      // 20% - 80%: scale 0.8->1.2, opacity stays 1 (LÄNGER sichtbar)\n      const keyframeProgress = (directProgress - 0.2) / 0.6;\n      scale = 0.8 + keyframeProgress * 0.4; // 0.8 -> 1.2\n      opacity = 1;\n    } else {\n      // 80% - 100%: scale 1.2->1.5, opacity 1->0 (RESTORED: Back to original behavior)\n      const keyframeProgress = (directProgress - 0.8) / 0.2;\n      scale = 1.2 + keyframeProgress * 0.3; // 1.2 -> 1.5\n      opacity = 1 - keyframeProgress; // 1 -> 0.0\n    }\n  } else if (directProgress >= 1) {\n    // Body finished\n    scale = 1.5;\n    opacity = 0; // RESTORED: Back to original behavior\n  } else {\n    // Body not started yet\n    scale = 0.5;\n    opacity = 0; // RESTORED: Back to original behavior\n  }\n\n  // ROBUST STATE-TRACKED POSITIONING\n  const shouldBeFixed = directProgress > 0 && directProgress < 1;\n\n  if (shouldBeFixed && !isBodyAnimating) {\n    // Start animation - add fixed class once\n    isBodyAnimating = true;\n    introBody.classList.add(\"intro-text-fixed\");\n    console.log(\"🎬 Body: Fixed positioning ON\");\n  } else if (!shouldBeFixed && isBodyAnimating) {\n    // End animation - remove fixed class once\n    isBodyAnimating = false;\n    introBody.classList.remove(\"intro-text-fixed\");\n    console.log(\"🎬 Body: Fixed positioning OFF\");\n  }\n\n  // Always update transform and opacity based on current state\n  if (isBodyAnimating) {\n    introBody.style.setProperty(\n      \"transform\",\n      `translate(-50%, -50%) scale(${scale})`,\n      \"important\"\n    );\n  } else {\n    introBody.style.setProperty(\"transform\", `scale(${scale})`, \"important\");\n  }\n  introBody.style.opacity = opacity.toString();\n}\n\n// GSAP-based intro animations (exact backup.js timing)\nasync function setupGSAPIntroAnimations() {\n  try {\n    // Dynamic import GSAP with validation\n    const gsapModule = await import(\"gsap\");\n    const scrollTriggerModule = await import(\"gsap/ScrollTrigger\");\n\n    const gsap = gsapModule.gsap || gsapModule.default;\n    const ScrollTrigger =\n      scrollTriggerModule.ScrollTrigger || scrollTriggerModule.default;\n\n    if (!gsap || !ScrollTrigger) {\n      throw new Error(\"GSAP modules not loaded properly\");\n    }\n\n    gsap.registerPlugin(ScrollTrigger);\n\n    // SMOOTH GSAP settings to prevent flickering + fast scroll issues\n    gsap.config({\n      force3D: true, // Hardware acceleration\n      nullTargetWarn: false,\n      autoSleep: 60, // Keep animations responsive\n    });\n\n    // Optimize ScrollTrigger for smooth performance + fast scroll handling\n    ScrollTrigger.config({\n      autoRefreshEvents: \"visibilitychange,DOMContentLoaded,load\", // Reduce refresh triggers\n      limitCallbacks: true, // Prevent callback overload during fast scrolling\n    });\n\n    console.log(\n      \"🎬 Setting up GSAP intro animations with exact backup.js timing\"\n    );\n\n    // EXACT backup.js setupIntroHeader() timing - ROBUST FIXED POSITIONING\n    gsap.fromTo(\n      \".sc_h--intro\",\n      {\n        scale: 0,\n        opacity: 0,\n        className: \"+=intro-text-fixed\", // Add CSS class for fixed positioning\n        x: \"-50%\",\n        y: \"-50%\",\n      },\n      {\n        scale: 1.5,\n        opacity: 0,\n        scrollTrigger: {\n          trigger: \".sc--intro\",\n          start: \"top top\", // BACKUP.JS: Exact same as original\n          end: \"center center\", // BACKUP.JS: Exact same as original\n          scrub: 0.3, // OPTIMIZED: Faster response for fast scrolling\n          invalidateOnRefresh: true, // Ensure proper recalculation\n        },\n        onComplete: () => {\n          // Reset positioning after animation\n          document\n            .querySelector(\".sc_h--intro\")\n            ?.classList.remove(\"intro-text-fixed\");\n        },\n        ease: \"none\",\n        keyframes: [\n          { scale: 0, opacity: 0, duration: 0 },\n          { scale: 0.8, opacity: 1, duration: 0.3 },\n          { scale: 1.2, opacity: 1, duration: 0.4 },\n          { scale: 1.5, opacity: 0, duration: 0.3 },\n        ],\n      }\n    );\n\n    gsap\n      .timeline({\n        scrollTrigger: {\n          trigger: \".sc--intro\",\n          start: \"center center\", // BACKUP.JS: Exact same as original\n          end: \"bottom bottom\", // BACKUP.JS: Exact same as original\n          scrub: 0.3, // OPTIMIZED: Faster response for fast scrolling\n          invalidateOnRefresh: true, // Ensure proper recalculation\n        },\n      })\n      .fromTo(\n        \".sc_b--intro\",\n        {\n          scale: 0.5,\n          opacity: 0,\n          className: \"+=intro-text-fixed\", // Add CSS class for fixed positioning\n          x: \"-50%\",\n          y: \"-50%\",\n        },\n        {\n          keyframes: [\n            { scale: 0.5, opacity: 0, duration: 0 },\n            { scale: 0.8, opacity: 1, duration: 0.3 },\n            { scale: 1.2, opacity: 1, duration: 0.4 },\n            { scale: 1.5, opacity: 0, duration: 0.3 },\n          ],\n          onComplete: () => {\n            // Reset positioning after animation\n            document\n              .querySelector(\".sc_b--intro\")\n              ?.classList.remove(\"intro-text-fixed\");\n          },\n        }\n      );\n\n    console.log(\"✅ GSAP intro animations successfully setup\");\n  } catch (error) {\n    console.error(\"❌ GSAP setup failed:\", error);\n    throw error; // Re-throw to trigger the catch in setupScrollTriggers\n  }\n}\n\nexport function setupScrollTriggers() {\n  console.log(\"🚀 setupScrollTriggers called!\");\n\n  // Setup intro animations (set initial states correctly)\n  setupIntroAnimations();\n\n  // TRY GSAP FIRST, fallback to manual on failure\n  console.log(\"🎬 Attempting to setup GSAP intro animations...\");\n\n  // DISABLE GSAP FOR NOW - Use reliable manual system only\n  console.log(\"🔧 Using manual intro animations for maximum reliability\");\n\n  // MANUAL SYSTEM ONLY: Skip GSAP, go straight to manual fallback\n  {\n    console.log(\"🎬 Setting up reliable manual intro animations\");\n\n    // Manual scroll handler\n    let scrollCount = 0;\n    window.addEventListener(\"scroll\", () => {\n      scrollCount++;\n      if (scrollCount % 10 === 0) {\n        // Only log every 10th scroll to avoid spam\n        console.log(`📜 SCROLL #${scrollCount} - Y: ${window.scrollY}`);\n      }\n\n      // Test if we can find intro elements\n      const intro = document.querySelector(\".sc--intro\");\n      const header = document.querySelector(\".sc_h--intro\");\n      const body = document.querySelector(\".sc_b--intro\");\n\n      if (scrollCount === 1) {\n        // Log once on first scroll\n        console.log(\"🔍 Elements found:\", {\n          intro: !!intro,\n          header: !!header,\n          body: !!body,\n        });\n      }\n\n      // WORKING INTRO ANIMATION: Use the exact backup.js timing\n      if (intro && header && body) {\n        const rect = intro.getBoundingClientRect();\n\n        if (rect.top <= 0 && rect.bottom >= 0) {\n          // Section is visible - calculate progress\n          const scrolledDistance = Math.abs(rect.top);\n          const overallProgress = Math.min(1, scrolledDistance / rect.height);\n\n          // HEADER: 0% to 50% (backup.js: \"top top\" to \"center center\")\n          if (overallProgress <= 0.5) {\n            const headerProgress = overallProgress / 0.5;\n            animateIntroHeaderDirect(headerProgress);\n            animateIntroBodyDirect(0);\n          } else {\n            // BODY: 50% to 100% (backup.js: \"center center\" to \"bottom bottom\")\n            const bodyProgress = (overallProgress - 0.5) / 0.5;\n            animateIntroHeaderDirect(1);\n            animateIntroBodyDirect(bodyProgress);\n          }\n\n          if (scrollCount % 20 === 0) {\n            console.log(\n              `🎬 Intro: ${(overallProgress * 100).toFixed(0)}% - Header: ${\n                overallProgress <= 0.5\n                  ? ((overallProgress / 0.5) * 100).toFixed(0)\n                  : 100\n              }% - Body: ${\n                overallProgress > 0.5\n                  ? (((overallProgress - 0.5) / 0.5) * 100).toFixed(0)\n                  : 0\n              }%`\n            );\n          }\n        } else {\n          // Section not visible - reset\n          animateIntroHeaderDirect(0);\n          animateIntroBodyDirect(0);\n        }\n      }\n    });\n  } // End of manual intro animations block\n\n  // Setup scroll event listeners for home section\n  window.addEventListener(\"scroll\", handleScroll);\n\n  // Animation loop for smooth scrolling in POV\n  function smoothScrollLoop() {\n    // ALWAYS check POV section - handle activation/deactivation + smooth scrolling\n    const povSection = document.querySelector(\".sc--pov\") as HTMLElement;\n    if (povSection) {\n      const rect = povSection.getBoundingClientRect();\n      const windowHeight = window.innerHeight;\n      const sectionTop = rect.top;\n      const sectionHeight = rect.height;\n\n      // Calculate progress within POV section\n      const animationBuffer = windowHeight * 0.3;\n      const totalAnimationHeight = sectionHeight + animationBuffer;\n\n      if (\n        sectionTop <= windowHeight &&\n        sectionTop + sectionHeight >= -animationBuffer\n      ) {\n        // POV section is in view - calculate progress\n        const scrolledIntoSection = Math.max(0, -sectionTop);\n        const rawProgress = Math.min(\n          1,\n          scrolledIntoSection / totalAnimationHeight\n        );\n\n        // Start POV animation if not already active and we're in correct state\n        if (\n          !povAnimationState.isActive &&\n          rawProgress > 0 &&\n          (currentAnimationState === \"SCROLL_ANIMATION\" ||\n            currentAnimationState === \"HOME\")\n        ) {\n          povAnimationState.isActive = true;\n          onPOVAnimationStart();\n        }\n\n        // Update POV animation with SMOOTH progress\n        if (povAnimationState.isActive) {\n          // Use direct progress for precise trigger control\n          updatePOVAnimation(rawProgress);\n        }\n      } else {\n        // POV section is out of view - end animation\n        if (povAnimationState.isActive) {\n          povAnimationState.isActive = false;\n          onPOVAnimationEnd();\n        }\n      }\n    }\n\n    requestAnimationFrame(smoothScrollLoop);\n  }\n\n  // Start the animation loop\n  smoothScrollLoop();\n}\n\n// Fallback scroll handler for POV if GSAP fails\nfunction setupFallbackPOVScroll() {\n  window.addEventListener(\"scroll\", handlePOVScroll);\n}\n\n// Main animation loop\nfunction animate() {\n  // Update FOV based on current animation state\n  updateCameraFOV();\n\n  // Update pacman mixer\n  if (pacmanMixer) {\n    const delta = clock.getDelta();\n    pacmanMixer.update(delta);\n  }\n\n  // Run animation loop if in HOME state\n  animationLoop();\n\n  // Render the scene\n  renderer.render(scene, camera);\n\n  requestAnimationFrame(animate);\n}\n\n// Initialize animation system\nexport function initAnimationSystem() {\n  // FIRST THING: Capture the initial camera state before any animations start\n  initialCameraPosition = camera.position.clone();\n  initialCameraQuaternion = camera.quaternion.clone();\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  initialCameraTarget = camera.position\n    .clone()\n    .add(direction.multiplyScalar(5));\n\n  // CRITICAL: Capture ORIGINAL home positions before any animations start\n  captureOriginalHomePositions();\n\n  // Setup debug info\n  window.animationDebugInfo = {\n    state: currentAnimationState,\n    capturedPositions: capturedPositions,\n    bezierCurves: bezierCurves,\n    povAnimationActive: false,\n  };\n\n  // Ensure all ghosts are visible and have full opacity\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (ghosts[ghostKey]) {\n      ghosts[ghostKey].visible = true;\n\n      const ghost = ghosts[ghostKey];\n      if (\n        ghost instanceof THREE.Mesh &&\n        ghost.material &&\n        \"opacity\" in ghost.material\n      ) {\n        ghost.material.opacity = 1;\n      } else if (ghost instanceof THREE.Group) {\n        ghost.traverse((child) => {\n          if (\n            child instanceof THREE.Mesh &&\n            child.material &&\n            \"opacity\" in child.material\n          ) {\n            child.material.opacity = 1;\n          }\n        });\n      }\n    }\n  });\n\n  // Setup scroll triggers\n  setupScrollTriggers();\n\n  animate();\n\n  // Initialize POV Animation System\n  initializePOVAnimation();\n}\n\n// Export functions for external use\nexport {\n  moveGhostOnCurve,\n  captureGhostPositions,\n  createBezierCurves,\n  captureOriginalHomePositions,\n};\n\n/*------------------\nPOV Animation System\n------------------*/\n\n// POV Path Points (from backup.js)\nconst cameraPOVPathPoints = [\n  {\n    pos: new THREE.Vector3(0.55675, 0.8, 0.45175),\n    type: \"curve\",\n    curveType: \"forwardDownArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.607, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.85375), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.9085, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.15525), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.205, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.05475), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.5065, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.306),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 1, 2.0095), type: \"straight\" },\n];\n\nconst ghost1POVPathPoints = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.009, 0.55, 0.8035), type: \"straight\" },\n  { pos: new THREE.Vector3(0.9085, 0.55, 0.8035), type: \"straight\" },\n];\n\nconst ghost2POVPathPoints = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.15525), type: \"straight\" },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.05475), type: \"straight\" },\n];\n\nconst ghost3POVPathPoints = [\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.95425),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.0045), type: \"straight\" },\n];\n\nconst ghost4POVPathPoints = [\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.3055, 0.55, 1.0045), type: \"straight\" },\n];\n\nconst ghost5POVPathPoints = [\n  { pos: new THREE.Vector3(0.55675, 0.55, 1.306), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.25575),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.2055), type: \"straight\" },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.2055), type: \"straight\" },\n];\n\n// POV Path creation function\nfunction createPOVPath(pathPoints: any[]): THREE.CurvePath<THREE.Vector3> {\n  const path = new THREE.CurvePath<THREE.Vector3>();\n\n  for (let i = 0; i < pathPoints.length - 1; i++) {\n    const current = pathPoints[i];\n    const next = pathPoints[i + 1];\n\n    if (current.type === \"straight\") {\n      const line = new THREE.LineCurve3(current.pos, next.pos);\n      path.add(line);\n    } else if (current.type === \"curve\") {\n      let midPoint: THREE.Vector3;\n      if (current.curveType === \"upperArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      } else if (current.curveType === \"lowerArc\") {\n        midPoint = new THREE.Vector3(next.pos.x, current.pos.y, current.pos.z);\n      } else if (current.curveType === \"forwardDownArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, next.pos.y, current.pos.z);\n      } else {\n        midPoint = new THREE.Vector3(\n          (current.pos.x + next.pos.x) / 2,\n          (current.pos.y + next.pos.y) / 2,\n          (current.pos.z + next.pos.z) / 2\n        );\n      }\n      const curve = new THREE.QuadraticBezierCurve3(\n        current.pos,\n        midPoint,\n        next.pos\n      );\n      path.add(curve);\n    }\n  }\n  return path;\n}\n\n// POV Animation State\ninterface POVAnimationState {\n  isActive: boolean;\n  cameraPOVPath: THREE.CurvePath<THREE.Vector3> | null;\n  ghostPOVPaths: { [key: string]: THREE.CurvePath<THREE.Vector3> };\n  triggerPositions: { [key: string]: any };\n  previousCameraPosition: THREE.Vector3 | null;\n  startRotationPoint: THREE.Vector3;\n  endRotationPoint: THREE.Vector3;\n  targetLookAt: THREE.Vector3;\n  finalLookAt: THREE.Vector3;\n  rotationStarted: boolean;\n  cachedStartYAngle: number | null;\n  // MOMENTUM-BASED SCRUBBING\n  smoothedProgress: number;\n  targetProgress: number;\n  velocity: number;\n  lastTargetProgress: number;\n  lastTime: number;\n}\n\nconst povAnimationState: POVAnimationState = {\n  isActive: false,\n  cameraPOVPath: null,\n  ghostPOVPaths: {},\n  triggerPositions: {},\n  previousCameraPosition: null,\n  startRotationPoint: new THREE.Vector3(0.55675, 0.55, 1.306),\n  endRotationPoint: new THREE.Vector3(-0.14675, 1, 1.8085),\n  targetLookAt: new THREE.Vector3(0.55675, 1, 1.306), // Look straight up\n  finalLookAt: new THREE.Vector3(-0.14675, 0, 1.8085),\n  rotationStarted: false,\n  cachedStartYAngle: null,\n  // MOMENTUM-BASED SCRUBBING\n  smoothedProgress: 0,\n  targetProgress: 0,\n  velocity: 0,\n  lastTargetProgress: 0,\n  lastTime: 0,\n};\n\n// ==========================================\n// 🎛️ SMOOTHING CONTROLS - UNIFIED SYSTEM:\n// ==========================================\n// Alle auf 0.2 (20% Smoothing) für gleichmäßiges Gefühl:\n// 1. Kamera-Rotation: Zeile ~1359 \"CAMERA_ROTATION_SMOOTHING\" = 0.2\n// 2. Kamera-Position: Zeile ~1619 \"smoothingFactor\" = 0.2\n// 3. Scroll-Input: Zeile ~2277 \"lightSmoothingFactor\" = 0.8 (=20%)\n// 4. Tangenten-Smoothing: Zeile ~1745 für Hin-und-Her-Reduzierung\n// ==========================================\n\n// POV Camera Smoothing State - GENTLER SETTINGS\nlet previousCameraRotation: THREE.Quaternion | null = null;\nconst CAMERA_ROTATION_SMOOTHING = 0.2; // Light smoothing to match position smoothing (was 0.08)\nconst MAX_ROTATION_SPEED = Math.PI / 12; // Slower max rotation (15° per frame, was 30°)\nconst LOOK_AHEAD_DISTANCE = 0.01; // Smaller look-ahead for less jitter (was 0.02)\n\n// POV Text Animation Constants - Faster fade in/out, more time at full opacity\nconst GHOST_TEXT_START = 0.1; // Faster fade in (was 0.2)\nconst CAM_TEXT_START = 0.15; // Faster fade in (was 0.3)\nconst FADE_OUT_START = 0.85; // Later fade out for more full opacity time (was 0.8)\nconst FADE_IN_DURATION = 0.1; // Quick fade in over 10% of range\nconst FADE_OUT_DURATION = 0.15; // Quick fade out over 15% of range\nconst TRIGGER_DISTANCE = 0.02;\n\n// Get parent elements for POV triggers\nconst parentElements = document.querySelectorAll(\".cmp--pov.cmp\");\n\nconst backupTriggerPositions = {\n  ghost1: {\n    triggerPos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    ghostTextPos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    camTextPos: new THREE.Vector3(0.75775, 0.55, 0.8035),\n    endPosition: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    parent: parentElements[0] || null,\n    active: false,\n  },\n  ghost2: {\n    triggerPos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n    ghostTextPos: new THREE.Vector3(0.95875, 0.55, 0.85375),\n    camTextPos: new THREE.Vector3(0.95875, 0.55, 0.904),\n    endPosition: new THREE.Vector3(0.95875, 0.55, 1.0045),\n    parent: parentElements[1] || null,\n    active: false,\n  },\n  ghost3: {\n    triggerPos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n    ghostTextPos: new THREE.Vector3(0.7075, 0.55, 1.0045),\n    camTextPos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    endPosition: new THREE.Vector3(0.55675, 0.55, 1.0045),\n    parent: parentElements[2] || null,\n    active: false,\n  },\n  ghost4: {\n    triggerPos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    ghostTextPos: new THREE.Vector3(0.5065, 0.55, 1.0045),\n    camTextPos: new THREE.Vector3(0.45625, 0.55, 1.0045),\n    endPosition: new THREE.Vector3(0.35575, 0.55, 1.0045),\n    parent: parentElements[3] || null,\n    active: false,\n  },\n  ghost5: {\n    triggerPos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n    ghostTextPos: new THREE.Vector3(0.205, 0.55, 1.2055),\n    camTextPos: new THREE.Vector3(0.25525, 0.55, 1.2055),\n    endPosition: new THREE.Vector3(0.35575, 0.55, 1.2055),\n    parent: parentElements[4] || null,\n    active: false,\n  },\n};\n\n// Initialize POV Animation System\nfunction initializePOVAnimation() {\n  // Create camera POV path\n  povAnimationState.cameraPOVPath = createPOVPath(cameraPOVPathPoints);\n\n  // Create ghost POV paths\n  povAnimationState.ghostPOVPaths = {\n    ghost1: createPOVPath(ghost1POVPathPoints),\n    ghost2: createPOVPath(ghost2POVPathPoints),\n    ghost3: createPOVPath(ghost3POVPathPoints),\n    ghost4: createPOVPath(ghost4POVPathPoints),\n    ghost5: createPOVPath(ghost5POVPathPoints),\n  };\n\n  // Initialize trigger positions\n  povAnimationState.triggerPositions = {\n    ghost1: {\n      triggerPos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n      ghostTextPos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n      camTextPos: new THREE.Vector3(0.75775, 0.55, 0.8035),\n      endPosition: new THREE.Vector3(0.85825, 0.55, 0.8035),\n      parent: parentElements[0],\n      active: false,\n    },\n    ghost2: {\n      triggerPos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n      ghostTextPos: new THREE.Vector3(0.95875, 0.55, 0.85375),\n      camTextPos: new THREE.Vector3(0.95875, 0.55, 0.904),\n      endPosition: new THREE.Vector3(0.95875, 0.55, 1.0045),\n      parent: parentElements[1],\n      active: false,\n    },\n    ghost3: {\n      triggerPos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n      ghostTextPos: new THREE.Vector3(0.7075, 0.55, 1.0045),\n      camTextPos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n      endPosition: new THREE.Vector3(0.55675, 0.55, 1.0045),\n      parent: parentElements[2],\n      active: false,\n    },\n    ghost4: {\n      triggerPos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n      ghostTextPos: new THREE.Vector3(0.5065, 0.55, 1.0045),\n      camTextPos: new THREE.Vector3(0.45625, 0.55, 1.0045),\n      endPosition: new THREE.Vector3(0.35575, 0.55, 1.0045),\n      parent: parentElements[3],\n      active: false,\n    },\n    ghost5: {\n      triggerPos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n      ghostTextPos: new THREE.Vector3(0.205, 0.55, 1.2055),\n      camTextPos: new THREE.Vector3(0.25525, 0.55, 1.2055),\n      endPosition: new THREE.Vector3(0.35575, 0.55, 1.2055),\n      parent: parentElements[4],\n      active: false,\n    },\n  };\n\n  // POV animation will be handled by handlePOVScroll in setupScrollTriggers\n}\n\n// POV animation is now handled by handlePOVScroll function in setupScrollTriggers\n\n// POV Animation Start Handler\nfunction onPOVAnimationStart() {\n  // Switch to POV state\n  currentAnimationState = \"POV_ANIMATION\";\n\n  // Initialize previous camera position\n  if (povAnimationState.cameraPOVPath) {\n    povAnimationState.previousCameraPosition =\n      povAnimationState.cameraPOVPath.getPointAt(0);\n  }\n\n  // Reset rotation state\n  povAnimationState.rotationStarted = false;\n  povAnimationState.cachedStartYAngle = null;\n\n  // Reset smooth camera rotation state\n  previousCameraRotation = null;\n\n  // CRITICAL: Set camera to look straight up at POV start\n  if (povAnimationState.cameraPOVPath && camera) {\n    const startPosition = povAnimationState.cameraPOVPath.getPointAt(0);\n    camera.position.copy(startPosition);\n\n    // Create 45° forward-up look direction (sanfter als direkt nach oben)\n    const forwardVector = new THREE.Vector3(0, 0, 1); // Forward (positive Z)\n    const upVector = new THREE.Vector3(0, 1, 0); // Up\n    const forwardUpDirection = new THREE.Vector3()\n      .addVectors(forwardVector, upVector)\n      .normalize();\n\n    const lookAtPoint = startPosition.clone().add(forwardUpDirection);\n    camera.lookAt(lookAtPoint);\n  }\n\n  // Make sure pacman is visible\n  if (ghosts.pacman) {\n    ghosts.pacman.visible = true;\n  }\n\n  // Make sure all ghosts are visible for POV animation\n  Object.entries(ghosts).forEach(([ghostKey, ghost]) => {\n    if (ghostKey !== \"pacman\") {\n      ghost.visible = true;\n    }\n  });\n\n  // Update debug info\n  if (window.animationDebugInfo) {\n    window.animationDebugInfo.povAnimationActive = true;\n  }\n}\n\n// DEPRECATED: GSAP handles all smoothing now\nfunction applyMomentumScrubbing_DEPRECATED(targetProgress: number): number {\n  const currentTime = performance.now() / 1000; // Current time in seconds\n\n  // Initialize on first run\n  if (povAnimationState.lastTime === 0) {\n    povAnimationState.lastTime = currentTime;\n    povAnimationState.lastTargetProgress = targetProgress;\n    povAnimationState.smoothedProgress = targetProgress;\n    return targetProgress;\n  }\n\n  const deltaTime = currentTime - povAnimationState.lastTime;\n\n  // Calculate input velocity (how fast user is scrolling)\n  const inputVelocity =\n    (targetProgress - povAnimationState.lastTargetProgress) /\n    Math.max(deltaTime, 0.001);\n\n  // SCRUB SETTINGS - Adjust these for different feels:\n  const friction = 0.85; // Higher = more momentum (0.8-0.95)\n  const responsiveness = 0.15; // Higher = more responsive (0.05-0.3)\n  const maxVelocity = 2.0; // Maximum velocity cap\n\n  // Apply friction to current velocity\n  povAnimationState.velocity *= friction;\n\n  // Add input influence based on difference and input velocity\n  const progressDiff = targetProgress - povAnimationState.smoothedProgress;\n  const velocityInfluence = inputVelocity * 0.1; // How much input velocity affects our velocity\n\n  // Update velocity with responsiveness and input influence\n  povAnimationState.velocity +=\n    progressDiff * responsiveness + velocityInfluence;\n\n  // Cap velocity to prevent overshoot\n  povAnimationState.velocity = Math.max(\n    -maxVelocity,\n    Math.min(maxVelocity, povAnimationState.velocity)\n  );\n\n  // Apply velocity to position\n  povAnimationState.smoothedProgress += povAnimationState.velocity * deltaTime;\n\n  // Clamp to valid range\n  povAnimationState.smoothedProgress = Math.max(\n    0,\n    Math.min(1, povAnimationState.smoothedProgress)\n  );\n\n  // Update tracking variables\n  povAnimationState.lastTargetProgress = targetProgress;\n  povAnimationState.lastTime = currentTime;\n\n  const lag = targetProgress - povAnimationState.smoothedProgress;\n\n  return povAnimationState.smoothedProgress;\n}\n\n// Update POV Animation - Balanced approach: Direct triggers, smooth visuals\nfunction updatePOVAnimation(progress: number) {\n  if (!povAnimationState.cameraPOVPath || !povAnimationState.isActive) return;\n\n  // Apply LIGHT smoothing for visual movement, but keep triggers precise\n  const visualProgress = applyLightVisualSmoothing(progress);\n\n  // Update camera with smoothed progress for fluid movement\n  updatePOVCamera(visualProgress);\n\n  // Update ghosts with DIRECT progress for precise triggering\n  updatePOVGhosts(progress); // Direct for triggers\n\n  // Update texts with DIRECT progress for precise timing\n  updatePOVTexts(progress); // Direct for text timing\n}\n\n// Light visual smoothing - only for camera movement smoothness\nfunction applyLightVisualSmoothing(targetProgress: number): number {\n  const currentTime = performance.now() / 1000;\n\n  // Initialize smoothing state if not exists\n  if (typeof (applyLightVisualSmoothing as any).lastTime === \"undefined\") {\n    (applyLightVisualSmoothing as any).lastTime = currentTime;\n    (applyLightVisualSmoothing as any).smoothedProgress = targetProgress;\n    return targetProgress;\n  }\n\n  const deltaTime = Math.max(\n    currentTime - (applyLightVisualSmoothing as any).lastTime,\n    0.001\n  );\n\n  // Light smoothing to match rotation smoothing (same feel)\n  const smoothingFactor = 0.2; // Match CAMERA_ROTATION_SMOOTHING for consistency\n\n  const diff =\n    targetProgress - (applyLightVisualSmoothing as any).smoothedProgress;\n\n  // Simple lerp - same approach as rotation smoothing (no velocity limiting)\n  (applyLightVisualSmoothing as any).smoothedProgress += diff * smoothingFactor;\n  (applyLightVisualSmoothing as any).smoothedProgress = Math.max(\n    0,\n    Math.min(1, (applyLightVisualSmoothing as any).smoothedProgress)\n  );\n\n  (applyLightVisualSmoothing as any).lastTime = currentTime;\n\n  return (applyLightVisualSmoothing as any).smoothedProgress;\n}\n\n// Update POV Camera\nfunction updatePOVCamera(progress: number) {\n  if (!povAnimationState.cameraPOVPath || !camera) return;\n\n  const cameraPosition = povAnimationState.cameraPOVPath.getPointAt(progress);\n  camera.position.copy(cameraPosition);\n\n  // Handle camera rotation based on progress\n  const rotationStartingPoint = 0.973;\n\n  if (progress >= rotationStartingPoint && !povAnimationState.rotationStarted) {\n    povAnimationState.rotationStarted = true;\n    const lookAtPoint = getCameraLookAtPoint();\n    povAnimationState.cachedStartYAngle = Math.atan2(\n      lookAtPoint.x - camera.position.x,\n      lookAtPoint.z - camera.position.z\n    );\n  }\n\n  if (progress < rotationStartingPoint) {\n    // Before rotation phase - 2-phase camera transition: 45° up to tangent look\n\n    // Calculate progress for transition point - use first third of path for transition\n    const totalPoints = cameraPOVPathPoints.length;\n    const transitionEndProgress = 2 / (totalPoints - 1); // Transition until point 2\n\n    if (progress < transitionEndProgress) {\n      // Phase 1: Transition from 45° up to tangent direction\n      const transitionProgress = progress / transitionEndProgress; // 0 to 1 during transition\n      const smoothTransition = smoothStep(transitionProgress);\n\n      const forwardVector = new THREE.Vector3(0, 0, 1); // Forward (positive Z)\n      const upVector = new THREE.Vector3(0, 1, 0); // Up\n\n      // 45° forward-up direction\n      const forwardUpDirection = new THREE.Vector3()\n        .addVectors(forwardVector, upVector)\n        .normalize();\n\n      // Get tangent direction for target\n      const forwardTangent = getSmoothCameraTangent(progress);\n\n      // Interpolate from 45° up directly to tangent direction\n      const lookAtDirection = new THREE.Vector3()\n        .addVectors(\n          forwardUpDirection.multiplyScalar(1.0 - smoothTransition),\n          forwardTangent.multiplyScalar(smoothTransition)\n        )\n        .normalize();\n\n      const lookAtPoint = camera.position.clone().add(lookAtDirection);\n      applySmoothCameraRotation(lookAtPoint);\n    } else {\n      // Phase 2: Normal tangent-looking camera behavior (after transition)\n      const smoothedTangent = getSmoothCameraTangent(progress);\n      const lookAtPoint = camera.position.clone().add(smoothedTangent);\n      applySmoothCameraRotation(lookAtPoint);\n    }\n  } else {\n    // Rotation phase - interpolate between start and end look-at\n    const rotationProgress =\n      (progress - rotationStartingPoint) / (1 - rotationStartingPoint);\n    const smoothProgress = smoothStep(rotationProgress);\n\n    const currentLookAt = new THREE.Vector3().lerpVectors(\n      povAnimationState.targetLookAt,\n      povAnimationState.finalLookAt,\n      smoothProgress\n    );\n\n    applySmoothCameraRotation(currentLookAt);\n  }\n\n  // Store previous position\n  if (povAnimationState.previousCameraPosition) {\n    povAnimationState.previousCameraPosition.copy(cameraPosition);\n  }\n}\n\n// Get smoothed tangent for camera movement - optimized for straight movement in corners\nfunction getSmoothCameraTangent(progress: number): THREE.Vector3 {\n  if (!povAnimationState.cameraPOVPath) return new THREE.Vector3(0, 0, -1);\n\n  // Get current tangent\n  const currentTangent = povAnimationState.cameraPOVPath\n    .getTangentAt(progress)\n    .normalize();\n\n  // Get look-ahead tangent for smoothing\n  const lookAheadProgress = Math.min(progress + LOOK_AHEAD_DISTANCE, 1);\n  const lookAheadTangent = povAnimationState.cameraPOVPath\n    .getTangentAt(lookAheadProgress)\n    .normalize();\n\n  // Get look-behind tangent for more context\n  const lookBehindProgress = Math.max(progress - LOOK_AHEAD_DISTANCE, 0);\n  const lookBehindTangent = povAnimationState.cameraPOVPath\n    .getTangentAt(lookBehindProgress)\n    .normalize();\n\n  // Calculate average tangent for smoothing\n  const averageTangent = new THREE.Vector3()\n    .addVectors(lookBehindTangent, currentTangent)\n    .add(lookAheadTangent)\n    .divideScalar(3)\n    .normalize();\n\n  // Detect sharp turns: if current and look-ahead have very different directions\n  const dotProduct = currentTangent.dot(lookAheadTangent);\n  const isSharpTurn = dotProduct < 0.3; // Sharp turn detection\n  const isModerateTurn = dotProduct < 0.7; // Moderate turn detection\n\n  if (isSharpTurn) {\n    // For sharp turns (hin-und-her), EXTREMELY favor straight movement\n    return new THREE.Vector3()\n      .addVectors(\n        currentTangent.multiplyScalar(0.1), // VERY little current direction\n        averageTangent.multiplyScalar(0.9) // VERY strong averaged direction\n      )\n      .normalize();\n  } else if (isModerateTurn) {\n    // For moderate turns, use very strong smoothing\n    return new THREE.Vector3()\n      .addVectors(\n        currentTangent.multiplyScalar(0.2), // Less current direction\n        averageTangent.multiplyScalar(0.8) // More averaged direction\n      )\n      .normalize();\n  } else {\n    // For straight sections, use light smoothing\n    return new THREE.Vector3()\n      .addVectors(\n        currentTangent.multiplyScalar(0.8),\n        averageTangent.multiplyScalar(0.2)\n      )\n      .normalize();\n  }\n}\n\n// Apply smooth camera rotation with dynamic smoothing based on scroll speed\nfunction applySmoothCameraRotation(targetLookAt: THREE.Vector3) {\n  if (!camera) return;\n\n  // Calculate target rotation\n  const tempMatrix = new THREE.Matrix4();\n  tempMatrix.lookAt(camera.position, targetLookAt, camera.up);\n  const targetQuaternion = new THREE.Quaternion().setFromRotationMatrix(\n    tempMatrix\n  );\n\n  if (!previousCameraRotation) {\n    // First frame - set rotation directly\n    camera.quaternion.copy(targetQuaternion);\n    previousCameraRotation = targetQuaternion.clone();\n    return;\n  }\n\n  // Calculate rotation difference\n  const angleDifference = camera.quaternion.angleTo(targetQuaternion);\n\n  // LIGHT DYNAMIC SMOOTHING: Consistent with position smoothing\n  let dynamicSmoothing = CAMERA_ROTATION_SMOOTHING;\n  if (angleDifference > Math.PI / 8) {\n    // > 22.5° = sharp corner - only slightly more smoothing\n    dynamicSmoothing = CAMERA_ROTATION_SMOOTHING * 0.8; // Light additional smoothing\n  } else if (angleDifference > Math.PI / 16) {\n    // > 11.25° = moderate corner - minimal additional smoothing\n    dynamicSmoothing = CAMERA_ROTATION_SMOOTHING * 0.9; // Very light additional smoothing\n  }\n\n  // Always apply smoothing (no speed limiting - causes jumps)\n  const smoothedQuaternion = new THREE.Quaternion();\n  smoothedQuaternion.slerpQuaternions(\n    camera.quaternion,\n    targetQuaternion,\n    dynamicSmoothing\n  );\n  camera.quaternion.copy(smoothedQuaternion);\n\n  // Store for next frame\n  previousCameraRotation.copy(camera.quaternion);\n}\n\n// Update POV Ghosts with enhanced triggering (from backup.js) - ONLY during active POV\nfunction updatePOVGhosts(progress: number) {\n  if (!povAnimationState.cameraPOVPath || !povAnimationState.isActive) return;\n\n  const cameraPosition = povAnimationState.cameraPOVPath.getPointAt(progress);\n\n  // Update each ghost using enhanced logic\n  Object.entries(ghosts).forEach(([ghostKey, ghost]) => {\n    if (ghostKey === \"pacman\") {\n      // Pacman stays hidden during POV animation\n      ghost.visible = false;\n      return;\n    }\n\n    // Use the ghost key directly since that's how paths are stored\n    if (povAnimationState.ghostPOVPaths[ghostKey]) {\n      updateGhostInPOV(ghostKey, ghost, ghostKey, cameraPosition);\n    }\n  });\n}\n\n// Update POV Text Animations\nfunction updatePOVTexts(progress: number) {\n  if (!povAnimationState.cameraPOVPath) return;\n\n  const cameraPosition = povAnimationState.cameraPOVPath.getPointAt(progress);\n\n  Object.entries(povAnimationState.triggerPositions).forEach(\n    ([key, trigger]) => {\n      const currentCameraProgress =\n        findClosestProgressOnPOVPath(cameraPosition);\n\n      // Calculate trigger positions on camera path\n      if (!trigger.triggerCameraProgress) {\n        trigger.triggerCameraProgress = findClosestProgressOnPOVPath(\n          trigger.triggerPos\n        );\n        trigger.ghostTextCameraProgress = findClosestProgressOnPOVPath(\n          trigger.ghostTextPos\n        );\n        trigger.camTextCameraProgress = findClosestProgressOnPOVPath(\n          trigger.camTextPos\n        );\n        trigger.endCameraProgress = findClosestProgressOnPOVPath(\n          trigger.endPosition\n        );\n      }\n\n      // Calculate text opacities\n      let targetGhostOpacity = 0;\n      let targetCamOpacity = 0;\n\n      if (currentCameraProgress >= trigger.triggerCameraProgress) {\n        // BACKUP.JS EXACT LOGIC: Use actual section length for calculations\n        const sectionLength =\n          trigger.endCameraProgress - trigger.triggerCameraProgress;\n\n        // Ghost Text Animation (backup.js style)\n        const fadeInStart = trigger.ghostTextCameraProgress;\n        const fadeInEnd = fadeInStart + sectionLength * 0.07; // 7% for fade in\n        const stayVisibleUntil =\n          trigger.endCameraProgress - sectionLength * 0.15; // Stay visible until 85%\n        const fadeOutEnd = trigger.endCameraProgress;\n\n        if (\n          currentCameraProgress >= fadeInStart &&\n          currentCameraProgress < fadeInEnd\n        ) {\n          // Einblendphase\n          const fadeProgress =\n            (currentCameraProgress - fadeInStart) / (fadeInEnd - fadeInStart);\n          targetGhostOpacity = fadeProgress;\n        } else if (\n          currentCameraProgress >= fadeInEnd &&\n          currentCameraProgress < stayVisibleUntil\n        ) {\n          // Voll sichtbare Phase\n          targetGhostOpacity = 1.0;\n        } else if (\n          currentCameraProgress >= stayVisibleUntil &&\n          currentCameraProgress <= fadeOutEnd\n        ) {\n          // Ausblendphase\n          const fadeProgress =\n            (currentCameraProgress - stayVisibleUntil) /\n            (fadeOutEnd - stayVisibleUntil);\n          targetGhostOpacity = 1.0 - fadeProgress;\n        }\n\n        // Cam Text Animation (backup.js style with max 0.8 opacity)\n        if (currentCameraProgress >= trigger.camTextCameraProgress) {\n          const camFadeInStart = trigger.camTextCameraProgress;\n          const camFadeInEnd = camFadeInStart + sectionLength * 0.07;\n          const camStayVisibleUntil = stayVisibleUntil; // Same as ghost\n\n          if (\n            currentCameraProgress >= camFadeInStart &&\n            currentCameraProgress < camFadeInEnd\n          ) {\n            // Einblendphase\n            const fadeProgress =\n              (currentCameraProgress - camFadeInStart) /\n              (camFadeInEnd - camFadeInStart);\n            targetCamOpacity = fadeProgress * 0.8; // Maximale Opazität 0.8\n          } else if (\n            currentCameraProgress >= camFadeInEnd &&\n            currentCameraProgress < camStayVisibleUntil\n          ) {\n            // Voll sichtbare Phase\n            targetCamOpacity = 0.8;\n          } else if (\n            currentCameraProgress >= camStayVisibleUntil &&\n            currentCameraProgress <= fadeOutEnd\n          ) {\n            // Ausblendphase\n            const fadeProgress =\n              (currentCameraProgress - camStayVisibleUntil) /\n              (fadeOutEnd - camStayVisibleUntil);\n            targetCamOpacity = 0.8 * (1.0 - fadeProgress);\n          }\n        }\n      }\n\n      // BACKUP.JS EXACT SMOOTH INTERPOLATION\n      const fadeInSpeed = 0.2; // Schnelleres Einblenden\n      const fadeOutSpeed = 0.1; // Langsameres Ausblenden\n\n      // Update Ghost-Text Opazität\n      if (targetGhostOpacity > trigger.ghostTextOpacity) {\n        trigger.ghostTextOpacity +=\n          (targetGhostOpacity - trigger.ghostTextOpacity) * fadeInSpeed;\n      } else {\n        trigger.ghostTextOpacity +=\n          (targetGhostOpacity - trigger.ghostTextOpacity) * fadeOutSpeed;\n      }\n\n      // Update CAM-Text Opazität\n      if (targetCamOpacity > trigger.camTextOpacity) {\n        trigger.camTextOpacity +=\n          (targetCamOpacity - trigger.camTextOpacity) * fadeInSpeed;\n      } else {\n        trigger.camTextOpacity +=\n          (targetCamOpacity - trigger.camTextOpacity) * fadeOutSpeed;\n      }\n\n      // Update DOM elements\n      updatePOVTextElements(trigger);\n    }\n  );\n}\n\n// Update POV Text DOM Elements\nfunction updatePOVTextElements(trigger: any) {\n  if (!trigger.parent) return;\n\n  const ghostText = trigger.parent.querySelector(\".cmp--pov-ghost\");\n  const camText = trigger.parent.querySelector(\".cmp--pov-cam\");\n\n  if (ghostText) {\n    // BACKUP.JS EXACT ROUNDING: Opazitätswerte abrunden\n    const ghostOpacity = Math.max(\n      0,\n      Math.min(1, Math.round(trigger.ghostTextOpacity * 1000) / 1000)\n    );\n\n    if (ghostOpacity > 0.01) {\n      if (ghostText.classList.contains(\"hidden\")) {\n        ghostText.classList.remove(\"hidden\");\n      }\n      ghostText.style.opacity = ghostOpacity.toString();\n    } else if (\n      ghostOpacity <= 0.01 &&\n      !ghostText.classList.contains(\"hidden\")\n    ) {\n      ghostText.classList.add(\"hidden\");\n      ghostText.style.opacity = \"0\";\n    }\n  }\n\n  if (camText) {\n    // BACKUP.JS EXACT ROUNDING: Opazitätswerte abrunden\n    const camOpacity = Math.max(\n      0,\n      Math.min(1, Math.round(trigger.camTextOpacity * 1000) / 1000)\n    );\n\n    if (camOpacity > 0.01) {\n      if (camText.classList.contains(\"hidden\")) {\n        camText.classList.remove(\"hidden\");\n      }\n      camText.style.opacity = camOpacity.toString();\n    } else if (camOpacity <= 0.01 && !camText.classList.contains(\"hidden\")) {\n      camText.classList.add(\"hidden\");\n      camText.style.opacity = \"0\";\n    }\n  }\n}\n\n// Find closest progress on POV path\nfunction findClosestProgressOnPOVPath(\n  targetPoint: THREE.Vector3,\n  samples: number = 2000\n): number {\n  if (!povAnimationState.cameraPOVPath) return 0;\n\n  let closestProgress = 0;\n  let closestDistance = Infinity;\n\n  for (let i = 0; i <= samples; i++) {\n    const progress = i / samples;\n    const point = povAnimationState.cameraPOVPath.getPointAt(progress);\n    const distance = point.distanceTo(targetPoint);\n\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      closestProgress = progress;\n    }\n  }\n\n  return closestProgress;\n}\n\n// POV Animation End Handler\nfunction onPOVAnimationEnd() {\n  // After POV animation, we want to maintain the scroll animation state\n  // so the camera stays at its last scroll position and FOV returns to original\n  currentAnimationState = \"SCROLL_ANIMATION\";\n\n  // Reset all POV text elements\n  Object.values(povAnimationState.triggerPositions).forEach((trigger: any) => {\n    if (trigger.parent) {\n      trigger.parent.classList.add(\"hidden\");\n      trigger.parent.style.opacity = \"0\";\n\n      const ghostText = trigger.parent.querySelector(\".cmp--pov-ghost\");\n      const camText = trigger.parent.querySelector(\".cmp--pov-cam\");\n\n      if (ghostText) {\n        ghostText.classList.add(\"hidden\");\n        ghostText.style.opacity = \"0\";\n      }\n\n      if (camText) {\n        camText.classList.add(\"hidden\");\n        camText.style.opacity = \"0\";\n      }\n    }\n\n    // Reset trigger state\n    trigger.active = false;\n    trigger.ghostTextOpacity = 0;\n    trigger.camTextOpacity = 0;\n  });\n\n  // Restore ghosts to their home positions\n  restoreGhostsToHomePositions();\n\n  // CRITICAL: Properly restore pacman and home animation state\n  if (ghosts.pacman) {\n    ghosts.pacman.visible = true;\n  }\n\n  Object.keys(ghosts).forEach((ghostKey) => {\n    if (ghosts[ghostKey] && originalHomeScales[ghostKey]) {\n      const wasVisible = ghosts[ghostKey].visible;\n      ghosts[ghostKey].visible = true;\n\n      // CRITICAL: Reset scale to ORIGINAL scale (not 1,1,1)\n      ghosts[ghostKey].scale.copy(originalHomeScales[ghostKey]);\n\n      const ghost = ghosts[ghostKey];\n      if (\n        ghost instanceof THREE.Mesh &&\n        ghost.material &&\n        \"opacity\" in ghost.material\n      ) {\n        ghost.material.opacity = 1;\n      } else if (ghost instanceof THREE.Group) {\n        ghost.traverse((child) => {\n          if (\n            child instanceof THREE.Mesh &&\n            child.material &&\n            \"opacity\" in child.material\n          ) {\n            child.material.opacity = 1;\n          }\n        });\n      }\n    }\n  });\n\n  // Check current scroll position to determine correct state\n  const homeSection = document.querySelector(\".sc--home\") as HTMLElement;\n  if (homeSection) {\n    const rect = homeSection.getBoundingClientRect();\n    const windowHeight = window.innerHeight;\n\n    // If we're back in HOME section area, switch to HOME state\n    if (rect.top <= windowHeight && rect.bottom >= 0) {\n      currentAnimationState = \"HOME\";\n\n      // FORCE restart HOME animation timing\n      animationStartTime = Date.now();\n      timeOffset = 0;\n      pauseTime = 0;\n    } else {\n      currentAnimationState = \"SCROLL_ANIMATION\";\n    }\n  }\n\n  // FORCE all ghosts visible one more time after state change AND restore scales\n  setTimeout(() => {\n    Object.keys(ghosts).forEach((ghostKey) => {\n      if (ghosts[ghostKey] && originalHomeScales[ghostKey]) {\n        const wasVisible = ghosts[ghostKey].visible;\n        ghosts[ghostKey].visible = true;\n        ghosts[ghostKey].scale.copy(originalHomeScales[ghostKey]); // ENSURE correct scale\n      }\n    });\n  }, 100); // Small delay to ensure state change is complete\n\n  // Update debug info\n  if (window.animationDebugInfo) {\n    window.animationDebugInfo.povAnimationActive = false;\n  }\n\n  // Reset smooth camera rotation state\n  previousCameraRotation = null;\n}\n\n// Restore ghosts to ORIGINAL home positions with FORCE visibility\nfunction restoreGhostsToHomePositions() {\n  // Use ORIGINAL home positions, not captured scroll positions\n  Object.entries(originalHomePositions).forEach(\n    ([ghostKey, originalPosition]: [string, any]) => {\n      const ghost = ghosts[ghostKey];\n      const originalRotation = originalHomeRotations[ghostKey];\n      const originalScale = originalHomeScales[ghostKey];\n\n      if (ghost && originalPosition && originalRotation && originalScale) {\n        ghost.position.copy(originalPosition);\n        ghost.rotation.copy(originalRotation);\n        ghost.scale.copy(originalScale); // CRITICAL: Restore original scale (especially for Pacman: 0.05)\n\n        // FORCE visibility - super important!\n        ghost.visible = true;\n\n        // Reset material opacity with better handling\n        if (ghost instanceof THREE.Mesh && ghost.material) {\n          if (Array.isArray(ghost.material)) {\n            ghost.material.forEach((mat) => {\n              if (\"opacity\" in mat) mat.opacity = 1;\n            });\n          } else if (\"opacity\" in ghost.material) {\n            ghost.material.opacity = 1;\n          }\n        } else if (ghost instanceof THREE.Group) {\n          ghost.traverse((child) => {\n            if (child instanceof THREE.Mesh && child.material) {\n              if (Array.isArray(child.material)) {\n                child.material.forEach((mat) => {\n                  if (\"opacity\" in mat) mat.opacity = 1;\n                });\n              } else if (\"opacity\" in child.material) {\n                child.material.opacity = 1;\n              }\n            }\n          });\n        } else if ((ghost as any).material) {\n          // Handle the case where ghost.material exists but isn't typed\n          (ghost as any).material.opacity = 1;\n        }\n      }\n    }\n  );\n}\n\n// Get camera look-at point (from backup.js)\nfunction getCameraLookAtPoint(): THREE.Vector3 {\n  if (!camera) return new THREE.Vector3();\n\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  const lookAtPoint = new THREE.Vector3();\n  lookAtPoint.copy(camera.position).add(direction.multiplyScalar(10));\n  return lookAtPoint;\n}\n\n// Handle POV scroll events - DIRECT control for precise triggering\nfunction handlePOVScroll() {\n  const povSection = document.querySelector(\".sc--pov\") as HTMLElement;\n  if (!povSection) return;\n\n  const rect = povSection.getBoundingClientRect();\n  const windowHeight = window.innerHeight;\n\n  // Calculate if POV section is in view with buffer zone\n  const sectionTop = rect.top;\n  const sectionHeight = rect.height;\n\n  // Reduced buffer zone for more responsive control\n  const animationBuffer = windowHeight * 0.1; // 10% buffer for POV (was 30%)\n  const totalAnimationHeight = sectionHeight + animationBuffer;\n\n  if (\n    sectionTop <= windowHeight &&\n    sectionTop + sectionHeight >= -animationBuffer\n  ) {\n    // Section is in view (including buffer zone) - calculate progress\n    const scrolledIntoSection = Math.max(0, -sectionTop);\n    const rawProgress = Math.min(1, scrolledIntoSection / totalAnimationHeight);\n\n    // Apply very light scroll smoothing to avoid jerkiness while keeping triggers precise\n    let progress = rawProgress;\n    if (typeof (handlePOVScroll as any).lastProgress === \"undefined\") {\n      (handlePOVScroll as any).lastProgress = rawProgress;\n    }\n\n    // Light smoothing consistent with camera: ~20% smoothing effect\n    const lightSmoothingFactor = 0.8; // 20% smoothing to match camera feel\n    progress =\n      (handlePOVScroll as any).lastProgress * (1 - lightSmoothingFactor) +\n      rawProgress * lightSmoothingFactor;\n    (handlePOVScroll as any).lastProgress = progress;\n\n    // Start POV animation if not already active and we're in SCROLL_ANIMATION or HOME state\n    if (\n      !povAnimationState.isActive &&\n      progress > 0 &&\n      (currentAnimationState === \"SCROLL_ANIMATION\" ||\n        currentAnimationState === \"HOME\")\n    ) {\n      povAnimationState.isActive = true;\n      onPOVAnimationStart();\n    }\n\n    // Update POV animation with direct progress for triggers, smoothed for visuals\n    if (povAnimationState.isActive) {\n      // Use raw progress for trigger detection, smoothed for camera movement\n      updatePOVAnimation(progress); // Direct progress ensures triggers fire correctly\n    }\n  } else {\n    // Section is out of view (beyond buffer zone) - end POV animation\n    if (povAnimationState.isActive) {\n      povAnimationState.isActive = false;\n      onPOVAnimationEnd();\n    }\n  }\n}\n\n// Update Camera FOV based on animation state (INSTANT change)\nfunction updateCameraFOV() {\n  if (!camera) return;\n\n  let targetFOV = ORIGINAL_FOV;\n\n  switch (currentAnimationState) {\n    case \"HOME\":\n      targetFOV = ORIGINAL_FOV;\n      break;\n    case \"SCROLL_ANIMATION\":\n      targetFOV = ORIGINAL_FOV;\n      break;\n    case \"POV_ANIMATION\":\n      targetFOV = WIDE_FOV;\n      break;\n    default:\n      targetFOV = ORIGINAL_FOV;\n  }\n\n  // INSTANT FOV change (no animation)\n  if (camera.fov !== targetFOV) {\n    camera.fov = targetFOV;\n    camera.updateProjectionMatrix();\n  }\n}\n\n// Complete POV ghost triggering system from backup.js\nfunction updateGhostInPOV(\n  ghostKey: string,\n  ghost: THREE.Object3D,\n  pathKey: string,\n  cameraPosition: THREE.Vector3\n) {\n  if (!pathKey || !povAnimationState.ghostPOVPaths[pathKey]) return;\n\n  const path = povAnimationState.ghostPOVPaths[pathKey];\n  if (!path) return;\n\n  // Check if ghost has trigger position\n  if (ghostKey in povAnimationState.triggerPositions) {\n    const trigger = povAnimationState.triggerPositions[ghostKey];\n    const { triggerPos, ghostTextPos, camTextPos, endPosition, parent } =\n      trigger;\n\n    if (!triggerPos || !endPosition) return;\n\n    const ghostText = parent as HTMLElement; // In backup.js, parent IS the ghost text\n    const camText = parent?.querySelector(\".cmp--pov-cam\") as HTMLElement;\n\n    ghost.scale.set(0.5, 0.5, 0.5);\n\n    // Initialize ghost trigger state if not done already\n    if (trigger.hasBeenTriggered === undefined) {\n      trigger.hasBeenTriggered = false;\n      trigger.hasBeenDeactivated = false;\n      trigger.triggerCameraProgress = null;\n      trigger.ghostTextCameraProgress = null;\n      trigger.camTextCameraProgress = null;\n      trigger.endCameraProgress = null;\n      trigger.currentPathT = 0;\n      trigger.ghostTextOpacity = 0;\n      trigger.camTextOpacity = 0;\n      trigger.lastProgress = 0;\n\n      // Make ghost and text invisible initially\n      ghost.visible = false;\n      if (ghostText) {\n        ghostText.classList.add(\"hidden\");\n        ghostText.style.opacity = \"0\";\n      }\n      if (camText) {\n        camText.classList.add(\"hidden\");\n        camText.style.opacity = \"0\";\n      }\n    }\n\n    // Get current camera progress on POV path (HIGH SAMPLES for smooth animation)\n    const currentCameraProgress = findClosestProgressOnPOVPath(\n      cameraPosition,\n      4000 // MUCH higher samples for smoother interpolation\n    );\n\n    // Calculate path positions if not done already (HIGH SAMPLES for precision)\n    if (trigger.triggerCameraProgress === null) {\n      trigger.triggerCameraProgress = findClosestProgressOnPOVPath(\n        triggerPos,\n        4000\n      );\n      trigger.ghostTextCameraProgress = ghostTextPos\n        ? findClosestProgressOnPOVPath(ghostTextPos, 4000)\n        : trigger.triggerCameraProgress;\n      trigger.camTextCameraProgress = camTextPos\n        ? findClosestProgressOnPOVPath(camTextPos, 4000)\n        : trigger.ghostTextCameraProgress;\n      trigger.endCameraProgress = findClosestProgressOnPOVPath(\n        endPosition,\n        4000\n      );\n    }\n\n    const triggerProgress = trigger.triggerCameraProgress;\n    const ghostTextProgress = trigger.ghostTextCameraProgress;\n    const camTextProgress = trigger.camTextCameraProgress;\n    const endProgress = trigger.endCameraProgress;\n\n    // 1. Ghost visibility and position (EXACT backup.js logic)\n    if (\n      currentCameraProgress >= triggerProgress &&\n      currentCameraProgress <= endProgress\n    ) {\n      // Make ghost visible if not already active\n      if (!ghost.visible) {\n        ghost.visible = true;\n        trigger.hasBeenTriggered = true;\n      }\n\n      // Update ghost position\n      const normalizedProgress =\n        (currentCameraProgress - triggerProgress) /\n        (endProgress - triggerProgress);\n      let ghostProgress = Math.max(0, Math.min(1, normalizedProgress));\n\n      // SIMPLE: Use ghost progress directly (already globally smoothed)\n\n      // Update ghost position\n      const pathPoint = path.getPointAt(ghostProgress);\n      ghost.position.copy(pathPoint);\n\n      // Simple ghost orientation\n      const tangent = path.getTangentAt(ghostProgress).normalize();\n      const lookAtPoint = ghost.position.clone().add(tangent);\n      ghost.lookAt(lookAtPoint);\n\n      // Simple fade: Use ghostProgress directly for fade\n      if (ghostProgress > 0.9) {\n        const fadeOpacity = 1 - (ghostProgress - 0.9) / 0.1;\n        (ghost as any).material.opacity = Math.max(0, Math.min(1, fadeOpacity));\n      } else {\n        (ghost as any).material.opacity = 1;\n      }\n\n      // Check if ghost actually has material and if it's working\n      if (!(ghost as any).material) {\n      } else if (typeof (ghost as any).material.opacity === \"undefined\") {\n      }\n    } else {\n      // EXACT backup.js logic: Ghost invisible when outside range\n\n      ghost.visible = false;\n      trigger.hasBeenTriggered = false;\n    }\n\n    // 2. TEXT VISIBILITY: Adjusted timing ranges\n    const sectionLength = endProgress - triggerProgress;\n\n    // Text should appear later and stay visible longer\n    const fadeIn = ghostTextProgress;\n    const fadeInEnd = fadeIn + sectionLength * 0.07;\n    const stayVisibleUntil = endProgress - sectionLength * 0.15;\n    const fadeOutEnd = endProgress;\n\n    // Calculate ghost text visibility\n    let targetGhostOpacity = 0;\n    if (currentCameraProgress >= fadeIn && currentCameraProgress < fadeInEnd) {\n      const fadeProgress =\n        (currentCameraProgress - fadeIn) / (fadeInEnd - fadeIn);\n      targetGhostOpacity = fadeProgress;\n    } else if (\n      currentCameraProgress >= fadeInEnd &&\n      currentCameraProgress < stayVisibleUntil\n    ) {\n      targetGhostOpacity = 1.0;\n    } else if (\n      currentCameraProgress >= stayVisibleUntil &&\n      currentCameraProgress <= fadeOutEnd\n    ) {\n      const fadeProgress =\n        (currentCameraProgress - stayVisibleUntil) /\n        (fadeOutEnd - stayVisibleUntil);\n      targetGhostOpacity = 1.0 - fadeProgress;\n    }\n\n    // Similar logic for CAM text, but slightly offset\n    const camFadeIn = camTextProgress;\n    const camFadeInEnd = camFadeIn + sectionLength * 0.07;\n\n    let targetCamOpacity = 0;\n    if (\n      currentCameraProgress >= camFadeIn &&\n      currentCameraProgress < camFadeInEnd\n    ) {\n      const fadeProgress =\n        (currentCameraProgress - camFadeIn) / (camFadeInEnd - camFadeIn);\n      targetCamOpacity = fadeProgress * 0.8; // Max opacity 0.8\n    } else if (\n      currentCameraProgress >= camFadeInEnd &&\n      currentCameraProgress < stayVisibleUntil\n    ) {\n      targetCamOpacity = 0.8;\n    } else if (\n      currentCameraProgress >= stayVisibleUntil &&\n      currentCameraProgress <= fadeOutEnd\n    ) {\n      const fadeProgress =\n        (currentCameraProgress - stayVisibleUntil) /\n        (fadeOutEnd - stayVisibleUntil);\n      targetCamOpacity = 0.8 * (1.0 - fadeProgress);\n    }\n\n    // 3. OPACITY UPDATES\n    const fadeInSpeed = 0.2; // Faster fade in\n    const fadeOutSpeed = 0.1; // Slower fade out\n\n    // Update ghost text opacity\n    if (targetGhostOpacity > trigger.ghostTextOpacity) {\n      trigger.ghostTextOpacity +=\n        (targetGhostOpacity - trigger.ghostTextOpacity) * fadeInSpeed;\n    } else {\n      trigger.ghostTextOpacity +=\n        (targetGhostOpacity - trigger.ghostTextOpacity) * fadeOutSpeed;\n    }\n\n    // Update CAM text opacity\n    if (targetCamOpacity > trigger.camTextOpacity) {\n      trigger.camTextOpacity +=\n        (targetCamOpacity - trigger.camTextOpacity) * fadeInSpeed;\n    } else {\n      trigger.camTextOpacity +=\n        (targetCamOpacity - trigger.camTextOpacity) * fadeOutSpeed;\n    }\n\n    // 4. DOM UPDATES\n    const ghostTextOpacity = Math.max(\n      0,\n      Math.min(1, Math.round(trigger.ghostTextOpacity * 1000) / 1000)\n    );\n    const camTextOpacity = Math.max(\n      0,\n      Math.min(1, Math.round(trigger.camTextOpacity * 1000) / 1000)\n    );\n\n    // Debug text opacity calculations\n    if (ghostTextOpacity > 0 || camTextOpacity > 0) {\n    }\n\n    // Update DOM only when necessary\n    if (ghostText) {\n      if (ghostTextOpacity > 0.01) {\n        if (ghostText.classList.contains(\"hidden\")) {\n          ghostText.classList.remove(\"hidden\");\n        }\n        ghostText.style.opacity = ghostTextOpacity.toString();\n      } else if (\n        ghostTextOpacity <= 0.01 &&\n        !ghostText.classList.contains(\"hidden\")\n      ) {\n        ghostText.classList.add(\"hidden\");\n        ghostText.style.opacity = \"0\";\n      }\n    }\n\n    if (camText) {\n      if (camTextOpacity > 0.01) {\n        if (camText.classList.contains(\"hidden\")) {\n          camText.classList.remove(\"hidden\");\n        }\n        camText.style.opacity = camTextOpacity.toString();\n      } else if (\n        camTextOpacity <= 0.01 &&\n        !camText.classList.contains(\"hidden\")\n      ) {\n        camText.classList.add(\"hidden\");\n        camText.style.opacity = \"0\";\n      }\n    }\n\n    // Store position for next iteration\n    trigger.lastProgress = currentCameraProgress;\n  } else {\n    // Default behavior for ghosts without triggers (HIGH SAMPLES for smoothness)\n    const closestProgress = findClosestProgressOnPOVPath(cameraPosition, 4000);\n    const ghostPosition = path.getPointAt(closestProgress);\n    ghost.position.copy(ghostPosition);\n\n    const tangent = path.getTangentAt(closestProgress).normalize();\n    const lookAtPoint = ghostPosition.clone().add(tangent);\n    ghost.lookAt(lookAtPoint);\n\n    ghost.visible = true;\n  }\n}\n\n// Old updateGhostTextTrigger function is now integrated into updateGhostInPOV\n","import { initRenderer, setupLighting, renderer, scene } from \"./scene\";\nimport { initCamera, setupCameraResize, camera } from \"./camera\";\nimport { loadModel } from \"./objects\";\nimport { initAnimationSystem } from \"./animation-system\";\n\n// Initialize everything\nasync function init() {\n  try {\n    initRenderer();\n\n    setupLighting();\n\n    initCamera();\n\n    setupCameraResize();\n\n    await loadModel();\n\n    // Initialize animation system (handles rendering and animations)\n    initAnimationSystem();\n  } catch (error) {\n    console.error(\"Initialization error:\", error);\n  }\n}\n\n// Start when DOM is ready\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", init);\n} else {\n  init();\n}\n"],"names":["leafPrototypes","getProto","gsap","e","Error","code","module","exports","ScrollTrigger","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Object","getPrototypeOf","obj","t","value","mode","this","__esModule","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","forEach","key","d","definition","o","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","THREE","isMobile","window","innerWidth","CAMERA_POSITIONS","startMobile","startDesktop","secondMobile","secondDesktop","mobileLookAt","desktopLookAt","startPosition","lookAtPosition","ASSETS","scene","renderer","antialias","alpha","powerPreference","precision","container","document","querySelector","console","error","clock","setPixelRatio","pixelRatio","Math","min","devicePixelRatio","setSize","clientWidth","clientHeight","finalSection","camera","querySelectorAll","innerHeight","quaternion","clone","endQuaternion","setFromEuler","setCamera","lookAt","x","y","z","split","map","Number","updateProjectionMatrix","updateMatrix","updateMatrixWorld","mazeTexture","load","mazeMaterial","matcap","topMaterial","color","metalness","roughness","envMapIntensity","ghostMaterial","transparent","opacity","transmission","ior","clearcoat","clearcoatRoughness","side","depthWrite","depthTest","floorMaterial","pacmanMaterials","blue","white","default","materialMap","CAM_Pacman_Backframe","CAM_Pacman_Logo_1","CAM_Pacman_Logo_2","createGlassGhostMaterial","options","ghostMaterials","ghost1","ghost2","ghost3","ghost4","ghost5","loader","Array","fill","pacmanMixer","pacman","add","ghosts","ghostContainers","Ghost_EUR","material","Ghost_CHF","Ghost_YEN","Ghost_USD","Ghost_GBP","values","ghost","pacmanHomePathPoints","pos","type","curveType","ghost1HomePathPoints","ghost2HomePathPoints","ghost3HomePathPoints","ghost4HomePathPoints","ghost5HomePathPoints","cameraPOVPathPoints","ghost1POVPathPoints","ghost2POVPathPoints","ghost3POVPathPoints","ghost4POVPathPoints","ghost5POVPathPoints","cameraStartPosition","cameraSecondPosition","pathsData","pacmanHomePath","points","ghost1HomePath","ghost2HomePath","ghost3HomePath","ghost4HomePath","ghost5HomePath","cameraPOVPath","ghost1POVPath","ghost2POVPath","ghost3POVPath","ghost4POVPath","ghost5POVPath","paths","entries","data","pathPoints","path","i","length","next","line","midPoint","curve","createPath","pathsMap","currentAnimationState","capturedPositions","capturedRotations","originalHomePositions","originalHomeRotations","originalHomeScales","homePositionsCaptured","bezierCurves","timeOffset","pauseTime","savedAnimationProgress","initialCameraPosition","initialCameraTarget","initialCameraQuaternion","animationStartTime","Date","now","resetToHomeState","position","copy","keys","ghostKey","rotation","scale","isArray","mat","traverse","child","animationDebugInfo","state","scrollProgress","smoothStep","handleScroll","povAnimationState","isActive","homeSection","rect","getBoundingClientRect","windowHeight","isInHomeSection","top","bottom","sectionHeight","height","scrolledDistance","abs","currentTime","startPos","endPos","controlPoint","direction","applyQuaternion","multiplyScalar","targetSecondPositionMobile","targetSecondPositionDesktop","targetSecondPosition","secondPosition","lerpVectors","createCameraPath","ghostProgress","getPoint","originalRotation","targetRotation","PI","currentRotation","max","moveGhostOnCurve","progress","fov","getPointAt","currentQuaternion","slerpQuaternions","animateCamera","scrollY","isHeaderAnimating","isBodyAnimating","easeInOutCubic","pow","animateIntroHeaderDirect","directProgress","introHeader","easedProgress","keyframeProgress","shouldBeFixed","classList","log","remove","style","setProperty","toString","animateIntroBodyDirect","introBody","setupScrollTriggers","transform","display","getElementById","createElement","id","textContent","head","appendChild","setupIntroAnimations","scrollCount","addEventListener","intro","header","body","overallProgress","bodyProgress","toFixed","smoothScrollLoop","povSection","sectionTop","animationBuffer","totalAnimationHeight","scrolledIntoSection","rawProgress","previousCameraPosition","rotationStarted","cachedStartYAngle","previousCameraRotation","forwardVector","upVector","forwardUpDirection","addVectors","normalize","lookAtPoint","visible","povAnimationActive","onPOVAnimationStart","cameraPosition","rotationStartingPoint","atan2","transitionEndProgress","smoothTransition","forwardTangent","getSmoothCameraTangent","lookAtDirection","applySmoothCameraRotation","smoothedTangent","smoothProgress","targetLookAt","finalLookAt","updatePOVCamera","applyLightVisualSmoothing","ghostPOVPaths","pathKey","triggerPositions","trigger","triggerPos","ghostTextPos","camTextPos","endPosition","parent","ghostText","camText","set","hasBeenTriggered","hasBeenDeactivated","triggerCameraProgress","ghostTextCameraProgress","camTextCameraProgress","endCameraProgress","currentPathT","ghostTextOpacity","camTextOpacity","lastProgress","currentCameraProgress","findClosestProgressOnPOVPath","triggerProgress","ghostTextProgress","camTextProgress","endProgress","normalizedProgress","pathPoint","tangent","getTangentAt","fadeOpacity","sectionLength","fadeInEnd","stayVisibleUntil","targetGhostOpacity","camFadeInEnd","targetCamOpacity","fadeInSpeed","fadeOutSpeed","round","contains","closestProgress","ghostPosition","updateGhostInPOV","updatePOVGhosts","fadeInStart","fadeOutEnd","camFadeInStart","ghostOpacity","camOpacity","updatePOVTextElements","updatePOVTexts","updatePOVAnimation","active","originalPosition","originalScale","setTimeout","onPOVAnimationEnd","requestAnimationFrame","animate","targetFOV","updateCameraFOV","delta","getDelta","update","zRotation","previousZRotation","rotationDiff","smoothFactor","smoothedRotation","animationLoop","render","createPOVPath","startRotationPoint","endRotationPoint","smoothedProgress","targetProgress","velocity","lastTargetProgress","lastTime","CAMERA_ROTATION_SMOOTHING","LOOK_AHEAD_DISTANCE","performance","diff","currentTangent","lookAheadProgress","lookAheadTangent","lookBehindProgress","lookBehindTangent","averageTangent","divideScalar","dotProduct","dot","isModerateTurn","tempMatrix","up","targetQuaternion","setFromRotationMatrix","angleDifference","angleTo","dynamicSmoothing","smoothedQuaternion","targetPoint","samples","closestDistance","Infinity","distance","distanceTo","async","init","shadowMap","enabled","domElement","ambientLight","directionalLight","shadow","mapSize","width","left","right","near","far","bias","radius","castShadow","setupLighting","aspect","Promise","resolve","reject","gltf","model","name","children","subChild","isMesh","push","item","pacmanActions","animations","clip","action","clipAction","setEffectiveWeight","play","ghostData","ghostContainer","ghostGroup","startsWith","includes","clonedChild","receiveShadow","node","loadModel","initAnimationSystem","readyState"],"sourceRoot":""}