{"version":3,"file":"script.js","mappings":"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","sources":["webpack://cam-3d-animation/webpack/runtime/create fake namespace object","webpack://cam-3d-animation/external var \"gsap\"","webpack://cam-3d-animation/external var \"ScrollTrigger\"","webpack://cam-3d-animation/webpack/bootstrap","webpack://cam-3d-animation/webpack/runtime/define property getters","webpack://cam-3d-animation/webpack/runtime/hasOwnProperty shorthand","webpack://cam-3d-animation/webpack/runtime/make namespace object","webpack://cam-3d-animation/external var \"THREE\"","webpack://cam-3d-animation/./src/config.ts","webpack://cam-3d-animation/./src/scene.ts","webpack://cam-3d-animation/./src/camera.ts","webpack://cam-3d-animation/./src/materials.ts","webpack://cam-3d-animation/./src/objects.ts","webpack://cam-3d-animation/./src/pathpoints.ts","webpack://cam-3d-animation/./src/paths.ts","webpack://cam-3d-animation/./src/selectors.ts","webpack://cam-3d-animation/./src/triggers.ts","webpack://cam-3d-animation/./src/pov-animation.ts","webpack://cam-3d-animation/./src/animation.ts","webpack://cam-3d-animation/./src/intro-animations.ts","webpack://cam-3d-animation/./src/main.ts"],"sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","module.exports = gsap;","module.exports = ScrollTrigger;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = THREE;","import * as THREE from \"three\";\n\nexport const isMobile = window.innerWidth < 768;\n\nexport const CAMERA_CONFIG = {\n  originalFOV: 50,\n  wideFOV: 80,\n  near: 0.001,\n  far: 1000,\n};\n\nexport const ASSETS = {\n  mazeTexture: \"https://c-am.b-cdn.net/CAM/matcap24.png\",\n  mazeModel: \"https://c-am.b-cdn.net/CAM/c-am-assets-3.glb\",\n};\n\nexport const MAZE_CENTER = new THREE.Vector3(0.55675, 0.45, 0.45175);\n\nexport const POV_POSITIONS = {\n  ghost1: new THREE.Vector3(0.65725, 0.55, 0.75325),\n  ghost2: new THREE.Vector3(0.9085, 0.55, 0.8035),\n  ghost3: new THREE.Vector3(0.75775, 0.55, 1.05475),\n  ghost4: new THREE.Vector3(0.65725, 0.55, 1.0045),\n  ghost5: new THREE.Vector3(0.15475, 0.55, 1.15525),\n};\n\nexport const CAMERA_POSITIONS = {\n  startMobile: new THREE.Vector3(0.5, 2.5, 2.5),\n  startDesktop: new THREE.Vector3(-2, 2.5, 2),\n  secondMobile: new THREE.Vector3(0.5, 2.5, 2),\n  secondDesktop: new THREE.Vector3(-1.5, 3, 2),\n  mobileLookAt: new THREE.Vector3(0.5, 0.5, -1.5),\n  desktopLookAt: new THREE.Vector3(-1.25, 0.5, 0.25),\n};\n\nexport const startPosition = isMobile\n  ? CAMERA_POSITIONS.startMobile\n  : CAMERA_POSITIONS.startDesktop;\nexport const secondPosition = isMobile\n  ? CAMERA_POSITIONS.secondMobile\n  : CAMERA_POSITIONS.secondDesktop;\nexport const lookAtPosition = isMobile\n  ? CAMERA_POSITIONS.mobileLookAt\n  : CAMERA_POSITIONS.desktopLookAt;\n\n// DOM Selectors\nexport const SELECTORS = {\n  mazeContainer: \".el--home-maze.el\",\n  homeSection: \".sc--home.sc\",\n  introSection: \".sc--intro.sc\",\n  povSection: \".sc--pov.sc\",\n  finalSection: \".sc--final.sc\",\n  scrollComponent: \".cmp--scroll.cmp\",\n  parentElements: \".cmp--pov.cmp\",\n  pov: \".pov\",\n  cam: \".cam\",\n  finalContainer: \".cr--final.cr\",\n};\n\n// DOM Elements\nexport const DOM_ELEMENTS = {\n  mazeContainer: document.querySelector(SELECTORS.mazeContainer) as HTMLElement,\n  canvas: document.querySelector(\"canvas\") as HTMLCanvasElement,\n  finalSection: document.querySelector(SELECTORS.finalSection) as HTMLElement,\n  finalContainer: document.querySelector(\n    SELECTORS.finalContainer\n  ) as HTMLElement,\n  parentElements: document.querySelectorAll(\n    SELECTORS.parentElements\n  ) as NodeListOf<Element>,\n};\n","import * as THREE from \"three\";\nimport { isMobile, DOM_ELEMENTS } from \"./config\";\n\nexport const scene = new THREE.Scene();\n\nexport const renderer = new THREE.WebGLRenderer({\n  antialias: true,\n  alpha: true,\n  powerPreference: \"high-performance\",\n  precision: \"highp\",\n});\n\nexport const clock = new THREE.Clock();\n\nfunction enhanceAntiAliasing(): void {\n  if (isMobile) {\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  } else {\n    renderer.setPixelRatio(window.devicePixelRatio);\n  }\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n}\n\nfunction setPixelRatio(): void {\n  const pixelRatio = Math.min(window.devicePixelRatio, isMobile ? 2 : 3);\n  renderer.setPixelRatio(pixelRatio);\n\n  if (DOM_ELEMENTS.mazeContainer) {\n    renderer.setSize(\n      DOM_ELEMENTS.mazeContainer.clientWidth,\n      DOM_ELEMENTS.mazeContainer.clientHeight\n    );\n  } else {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n}\n\nexport function initRenderer(): void {\n  enhanceAntiAliasing();\n\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n  if (DOM_ELEMENTS.mazeContainer) {\n    renderer.setSize(\n      DOM_ELEMENTS.mazeContainer.clientWidth,\n      DOM_ELEMENTS.mazeContainer.clientHeight\n    );\n    DOM_ELEMENTS.mazeContainer.appendChild(renderer.domElement);\n  } else {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n  }\n\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", setPixelRatio);\n  } else {\n    setPixelRatio();\n  }\n  window.addEventListener(\"resize\", setPixelRatio);\n}\n\nexport function setupLighting(): void {\n  const ambientLight = new THREE.AmbientLight(0xffffff);\n  scene.add(ambientLight);\n\n  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n  scene.add(directionalLight);\n  directionalLight.position.set(-5, 15, 10);\n  directionalLight.shadow.mapSize.width = 4096;\n  directionalLight.shadow.mapSize.height = 4096;\n  directionalLight.shadow.camera.left = -20;\n  directionalLight.shadow.camera.right = 20;\n  directionalLight.shadow.camera.top = 20;\n  directionalLight.shadow.camera.bottom = -20;\n  directionalLight.shadow.camera.near = 0.1;\n  directionalLight.shadow.camera.far = 50;\n  directionalLight.shadow.bias = -0.001;\n  directionalLight.shadow.radius = 3;\n  directionalLight.castShadow = true;\n}\n","import * as THREE from \"three\";\nimport {\n  CAMERA_CONFIG,\n  startPosition,\n  secondPosition,\n  lookAtPosition,\n} from \"./config\";\n\nexport const camera = new THREE.PerspectiveCamera(\n  CAMERA_CONFIG.originalFOV,\n  window.innerWidth / window.innerHeight,\n  CAMERA_CONFIG.near,\n  CAMERA_CONFIG.far\n);\n\nexport function initCamera(): void {\n  camera.position.copy(startPosition);\n  camera.lookAt(lookAtPosition);\n}\n\nexport const startQuaternion = camera.quaternion.clone();\nexport const endQuaternion = new THREE.Quaternion().setFromEuler(\n  new THREE.Euler(-1.5708, 0, 0)\n);\n\nexport function getCameraLookAtPoint(): THREE.Vector3 {\n  const direction = new THREE.Vector3(0, 0, -1);\n  direction.applyQuaternion(camera.quaternion);\n  const lookAtPoint = new THREE.Vector3();\n  lookAtPoint.copy(camera.position).add(direction.multiplyScalar(10));\n  return lookAtPoint;\n}\n\n/*(window as any).setCamera = function (lookAt: string | THREE.Vector3): void {\n  if (typeof lookAt === \"string\") {\n    const [x, y, z] = lookAt.split(\",\").map(Number);\n    lookAt = new THREE.Vector3(x, y, z);\n  }\n  camera.lookAt(lookAt);\n  camera.updateProjectionMatrix();\n  camera.updateMatrix();\n  camera.updateMatrixWorld();\n};*/\n\nexport function setupCameraResize(): void {\n  const updateCamera = () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n  };\n\n  window.addEventListener(\"resize\", updateCamera);\n}\n","import * as THREE from \"three\";\nimport { ASSETS } from \"./config\";\n\nconst textureLoader = new THREE.TextureLoader();\n\nexport const mazeTexture = textureLoader.load(ASSETS.mazeTexture);\n\nexport const mazeMaterial = new THREE.MeshMatcapMaterial({\n  matcap: mazeTexture,\n});\n\nexport const topMaterial = new THREE.MeshStandardMaterial({\n  color: 0xf2f9f9,\n  metalness: 0.4,\n  roughness: 0,\n  envMapIntensity: 10,\n});\n\nexport const ghostMaterial = new THREE.MeshPhysicalMaterial({\n  color: 0xffffff,\n  opacity: 1,\n  transparent: true,\n  depthWrite: false,\n  depthTest: true,\n  blending: THREE.NormalBlending,\n  side: THREE.DoubleSide,\n  roughness: 0.75,\n  metalness: 0.2,\n  transmission: 0.5,\n});\n\nexport const floorMaterial = new THREE.MeshStandardMaterial({\n  color: 0xffffff,\n  opacity: 0.8,\n  transparent: true,\n  roughness: 0.5,\n  metalness: 0.1,\n});\n\nconst pacmanMaterials = {\n  blue: new THREE.MeshBasicMaterial({\n    color: 0x1469d3,\n    transparent: true,\n    opacity: 1,\n  }),\n  white: new THREE.MeshBasicMaterial({\n    color: 0xffffff,\n    transparent: true,\n    opacity: 1,\n  }),\n  default: new THREE.MeshBasicMaterial({\n    color: 0x1469d3,\n    transparent: true,\n    opacity: 1,\n  }),\n};\n\nexport const materialMap = {\n  CAM_Pacman_Backframe: pacmanMaterials.blue,\n  \"CAM-Pacman_Bitcoin_1\": pacmanMaterials.white,\n  \"CAM-Pacman_Bitcoin_2\": pacmanMaterials.white,\n  \"CAM-Pacman_Bottom\": pacmanMaterials.blue,\n  \"CAM-Pacman_Top\": pacmanMaterials.blue,\n  \"CAM-Pacman_Eye\": pacmanMaterials.white,\n  CAM_Pacman_Logo_1: pacmanMaterials.white,\n  CAM_Pacman_Logo_2: pacmanMaterials.white,\n  \"CAM-Pacman_Shell_Boolean\": pacmanMaterials.blue,\n  \"CAM-Pacman_Shell\": pacmanMaterials.blue,\n  \"CAM-Pacman_Bottom_electronic\": pacmanMaterials.white,\n  \"CAM-Pacman_Top_electronic\": pacmanMaterials.white,\n  \"CAM-Pacman_Bottom_Text\": pacmanMaterials.white,\n  \"CAM-Pacman_Top_Text\": pacmanMaterials.white,\n  default: pacmanMaterials.blue,\n};\n\nexport const ghostCoverMaterials = Array(5).fill(ghostMaterial);\n","import * as THREE from \"three\";\nimport { ASSETS } from \"./config\";\nimport { GhostContainer } from \"./types\";\nimport { scene, clock } from \"./scene\";\nimport {\n  mazeMaterial,\n  topMaterial,\n  ghostMaterial,\n  floorMaterial,\n  materialMap,\n} from \"./materials\";\n\nexport { clock };\n\nconst loader = new THREE.GLTFLoader();\n\nexport let pacmanMixer: THREE.AnimationMixer;\n\nexport const pacman = new THREE.Group();\nscene.add(pacman);\n\nexport const ghosts: GhostContainer = {\n  pacman: pacman,\n  ghost1: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost2: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost3: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost4: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n  ghost5: new THREE.Mesh(new THREE.BufferGeometry(), ghostMaterial),\n};\n\nconst ghostContainers = {\n  Ghost_EUR: ghosts.ghost1,\n  Ghost_CHF: ghosts.ghost2,\n  Ghost_YEN: ghosts.ghost3,\n  Ghost_USD: ghosts.ghost4,\n  Ghost_GBP: ghosts.ghost5,\n};\n\nObject.values(ghosts).forEach((ghost) => scene.add(ghost));\n\nexport async function loadModel(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    loader.load(\n      ASSETS.mazeModel,\n      function (gltf) {\n        const model = gltf.scene;\n\n        model.traverse((child: THREE.Object3D) => {\n          if (child.name === \"CAM-Pacman\") {\n            const children: THREE.Object3D[] = [];\n            child.traverse((subChild: THREE.Object3D) => {\n              if (\n                (subChild as any).isMesh &&\n                subChild.name !== \"CAM-Pacman_Shell\" &&\n                subChild.name !== \"CAM-Pacman_Shell_Boolean\"\n              ) {\n                const material =\n                  materialMap[subChild.name as keyof typeof materialMap] ||\n                  materialMap.default;\n                (subChild as THREE.Mesh).material = material;\n                children.push(subChild);\n              } else if (\n                subChild.name === \"CAM-Pacman_Shell\" ||\n                subChild.name === \"CAM-Pacman_Shell_Boolean\"\n              ) {\n                subChild.visible = false;\n              }\n            });\n\n            children.forEach((item) => ghosts.pacman.add(item));\n            ghosts.pacman.scale.set(0.075, 0.075, 0.075);\n            ghosts.pacman.rotation.set(Math.PI / 2, Math.PI / 2, Math.PI / 4);\n\n            pacmanMixer = new THREE.AnimationMixer(ghosts.pacman);\n            const pacmanActions: { [key: string]: THREE.AnimationAction } = {};\n\n            gltf.animations.forEach((clip: THREE.AnimationClip) => {\n              const action = pacmanMixer.clipAction(clip);\n              pacmanActions[clip.name] = action;\n              action.setEffectiveWeight(1);\n              action.play();\n            });\n          } else if (\n            child.name &&\n            ghostContainers[child.name as keyof typeof ghostContainers]\n          ) {\n            const ghostContainer =\n              ghostContainers[child.name as keyof typeof ghostContainers];\n            const ghostGroup = new THREE.Group();\n\n            child.rotation.z = Math.PI;\n            child.rotation.x = Math.PI / 2;\n            child.scale.set(0.75, 0.75, 0.75);\n\n            const children: THREE.Object3D[] = [];\n            child.traverse((subChild: THREE.Object3D) => {\n              if ((subChild as any).isMesh) {\n                if (subChild.name && subChild.name.startsWith(\"Ghost_Mesh\")) {\n                  (subChild as THREE.Mesh).material = ghostMaterial;\n                } else if (\n                  subChild.name &&\n                  [\"EUR\", \"CHF\", \"YEN\", \"USD\", \"GBP\"].includes(subChild.name)\n                ) {\n                  subChild.visible = false;\n                }\n                children.push(subChild);\n              }\n            });\n\n            children.forEach((item) => {\n              if (\n                item.name &&\n                (item.name.includes(\"EUR\") ||\n                  item.name.startsWith(\"Ghost_Mesh\"))\n              ) {\n                item.rotation.z = Math.PI;\n                item.rotation.x = Math.PI / 2;\n              } else {\n                item.rotation.set(0, 0, 0);\n              }\n              ghostGroup.add(item);\n            });\n\n            ghostContainer.add(ghostGroup);\n          }\n\n          if ((child as any).isMesh) {\n            if (child.name === \"CAM-Arena_LowRes_Top\") {\n              (child as THREE.Mesh).material = topMaterial;\n              child.castShadow = true;\n            } else if (child.name === \"CAM-Arena_LowRes_Bottom\") {\n              (child as THREE.Mesh).material = mazeMaterial;\n              child.castShadow = true;\n            } else if (child.name === \"CAM-Floor\") {\n              const clonedChild = child.clone();\n              child.position.y = -0.1;\n              child.position.x = 0;\n              child.position.z = 0;\n              (child as THREE.Mesh).material = new THREE.MeshBasicMaterial({\n                color: 0xffffff,\n                opacity: 1,\n                transparent: false,\n                depthWrite: true,\n                depthTest: true,\n                side: THREE.FrontSide,\n              });\n              child.receiveShadow = false;\n              child.castShadow = true;\n              child.scale.set(0.5, 0.5, 0.5);\n\n              (clonedChild as THREE.Mesh).material = floorMaterial;\n              clonedChild.position.y = -0.5;\n              clonedChild.receiveShadow = true;\n              scene.add(clonedChild);\n            }\n          }\n        });\n\n        model.traverse(function (node: THREE.Object3D) {\n          if ((node as any).isMesh) {\n            node.castShadow = true;\n            node.receiveShadow = true;\n          }\n        });\n\n        scene.add(model);\n        model.position.set(0.5, 0.5, 0.5);\n\n        resolve();\n      },\n      function (progress: any) {},\n      function (error: any) {\n        reject(error);\n      }\n    );\n  });\n}\n","import * as THREE from \"three\";\nimport { PathPoint } from \"./types\";\n\nexport const pacmanHomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.6025), type: \"straight\" },\n];\n\nexport const ghost1HomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.502), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.0965, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.703), type: \"straight\" },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.502), type: \"straight\" },\n];\n\nexport const ghost2HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.502), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.25525, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.0965, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n];\n\nexport const ghost3HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, -0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, -0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.55675, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.301), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.004, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n];\n\nexport const ghost4HomePathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.65725, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.05425, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.34775, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.15975, 0.55, 0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.26025, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.6025), type: \"straight\" },\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.4015), type: \"straight\" },\n];\n\nexport const ghost5HomePathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.04975),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.0005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.44825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.398, 0.55, 0.0005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.34775, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.24725, 0.55, 0.2005), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.04625, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.05425, 0.55, 0.301),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.04625, 0.55, 0.4015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(-0.14675, 0.55, 0.4015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(-0.24725, 0.55, 0.502),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.14675, 0.55, 0.6025), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.25525, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.3055, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.45625, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.904),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.105),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.36075, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.46125, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.46125, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.36075, 0.55, -0.2015), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.15975, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(1.05925, 0.55, -0.101), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.1),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 0.2005),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.85825, 0.55, 0.1), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.85825, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, -0.2015),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, -0.15125),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, -0.101),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.45625, 0.55, -0.04975),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n];\n\nexport const cameraPOVPathPoints: PathPoint[] = [\n  {\n    pos: new THREE.Vector3(0.55675, -0.5, 0.45175),\n    type: \"curve\",\n    curveType: \"forwardDownArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 0.6025),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.607, 0.55, 0.703),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 0.8035), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 0.85375), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.95875, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.9085, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.808, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.75775, 0.55, 1.15525), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.7075, 0.55, 1.0045), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.205, 0.55, 1.0045),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.05475), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.5065, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.306),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(-0.44825, 1, 2.0095), type: \"straight\" },\n];\n\nexport const ghost1POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 0.703), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.05925, 0.55, 0.75325),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(1.009, 0.55, 0.8035), type: \"straight\" },\n  { pos: new THREE.Vector3(0.9085, 0.55, 0.8035), type: \"straight\" },\n];\n\nexport const ghost2POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(1.05925, 0.55, 1.2055), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(1.009, 0.55, 1.2055),\n    type: \"curve\",\n    curveType: \"lowerArc\",\n  },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.15525), type: \"straight\" },\n  { pos: new THREE.Vector3(0.95875, 0.55, 1.05475), type: \"straight\" },\n];\n\nexport const ghost3POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.35575, 0.55, 0.904), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.35575, 0.55, 0.95425),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.0045), type: \"straight\" },\n];\n\nexport const ghost4POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.15475, 0.55, 1.105), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.15475, 0.55, 1.05475),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.205, 0.55, 1.0045), type: \"straight\" },\n  { pos: new THREE.Vector3(0.3055, 0.55, 1.0045), type: \"straight\" },\n];\n\nexport const ghost5POVPathPoints: PathPoint[] = [\n  { pos: new THREE.Vector3(0.55675, 0.55, 1.306), type: \"straight\" },\n  {\n    pos: new THREE.Vector3(0.55675, 0.55, 1.25575),\n    type: \"curve\",\n    curveType: \"upperArc\",\n  },\n  { pos: new THREE.Vector3(0.5065, 0.55, 1.2055), type: \"straight\" },\n  { pos: new THREE.Vector3(0.406, 0.55, 1.2055), type: \"straight\" },\n];\n","import * as THREE from \"three\";\nimport { PathPoint } from \"./types\";\nimport { startPosition, secondPosition } from \"./config\";\nimport * as pathPoints from \"./pathpoints\";\n\nexport const cameraHomePath = new THREE.CubicBezierCurve3(\n  startPosition,\n  secondPosition,\n  new THREE.Vector3(0.55675, 3, 0.45175),\n  new THREE.Vector3(0.55675, 0.5, 0.45175)\n);\n\nexport const paths = {\n  pacmanHome: createPath(pathPoints.pacmanHomePathPoints),\n  ghost1Home: createPath(pathPoints.ghost1HomePathPoints),\n  ghost2Home: createPath(pathPoints.ghost2HomePathPoints),\n  ghost3Home: createPath(pathPoints.ghost3HomePathPoints),\n  ghost4Home: createPath(pathPoints.ghost4HomePathPoints),\n  ghost5Home: createPath(pathPoints.ghost5HomePathPoints),\n  cameraPOV: createPath(pathPoints.cameraPOVPathPoints),\n  ghost1POV: createPath(pathPoints.ghost1POVPathPoints),\n  ghost2POV: createPath(pathPoints.ghost2POVPathPoints),\n  ghost3POV: createPath(pathPoints.ghost3POVPathPoints),\n  ghost4POV: createPath(pathPoints.ghost4POVPathPoints),\n  ghost5POV: createPath(pathPoints.ghost5POVPathPoints),\n};\n\nfunction createPath(pathPoints: PathPoint[]): THREE.CurvePath<THREE.Vector3> {\n  const path = new THREE.CurvePath<THREE.Vector3>();\n\n  for (let i = 0; i < pathPoints.length - 1; i++) {\n    const current = pathPoints[i];\n    const next = pathPoints[i + 1];\n\n    if (current.type === \"straight\") {\n      const line = new THREE.LineCurve3(current.pos, next.pos);\n      path.add(line);\n    } else if (current.type === \"curve\") {\n      let midPoint: THREE.Vector3;\n      if (current.curveType === \"upperArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      } else if (current.curveType === \"lowerArc\") {\n        midPoint = new THREE.Vector3(next.pos.x, current.pos.y, current.pos.z);\n      } else if (current.curveType === \"forwardDownArc\") {\n        midPoint = new THREE.Vector3(current.pos.x, next.pos.y, current.pos.z);\n      } else {\n        midPoint = new THREE.Vector3(current.pos.x, current.pos.y, next.pos.z);\n      }\n      const curve = new THREE.QuadraticBezierCurve3(\n        current.pos,\n        midPoint,\n        next.pos\n      );\n      path.add(curve);\n    }\n  }\n  return path;\n}\n\nexport function getPathsForSection(section: string) {\n  if (section === \"home\") {\n    return {\n      pacman: paths.pacmanHome,\n      ghost1: paths.ghost1Home,\n      ghost2: paths.ghost2Home,\n      ghost3: paths.ghost3Home,\n      ghost4: paths.ghost4Home,\n      ghost5: paths.ghost5Home,\n    };\n  } else if (section === \"pov\") {\n    return {\n      pacman: paths.cameraPOV,\n      ghost1: paths.ghost1POV,\n      ghost2: paths.ghost2POV,\n      ghost3: paths.ghost3POV,\n      ghost4: paths.ghost4POV,\n      ghost5: paths.ghost5POV,\n    };\n  }\n  return {};\n}\n","const SELECTORS = {\n  mazeContainer: \".el--home-maze.el\",\n\n  homeSection: \".sc--home.sc\",\n  introSection: \".sc--intro.sc\",\n  introHeader: \".sc_h--intro\",\n  introBody: \".sc_b--intro\",\n  povSection: \".sc--pov.sc\",\n  finalSection: \".sc--final.sc\",\n  finalContainer: \".cr--final.cr\",\n\n  scrollComponent: \".cmp--scroll.cmp\",\n  parentElements: \".cmp--pov.cmp\",\n\n  pov: \".pov\",\n  cam: \".cam\",\n};\n\nexport const DOM_ELEMENTS = {\n  mazeContainer: document.querySelector(SELECTORS.mazeContainer) as HTMLElement,\n  canvas: document.querySelector(\"canvas\") as HTMLCanvasElement,\n\n  homeSection: document.querySelector(SELECTORS.homeSection) as HTMLElement,\n  introSection: document.querySelector(SELECTORS.introSection) as HTMLElement,\n  introHeader: document.querySelector(SELECTORS.introHeader) as HTMLElement,\n  introBody: document.querySelector(SELECTORS.introBody) as HTMLElement,\n  povSection: document.querySelector(SELECTORS.povSection) as HTMLElement,\n  finalSection: document.querySelector(SELECTORS.finalSection) as HTMLElement,\n  finalContainer: document.querySelector(\n    SELECTORS.finalContainer\n  ) as HTMLElement,\n\n  parentElements: document.querySelectorAll(\n    SELECTORS.parentElements\n  ) as NodeListOf<Element>,\n};\n","import * as THREE from \"three\";\nimport { DOM_ELEMENTS } from \"./selectors\";\n\nexport const TriggerPositions = {\n  ghost1: {\n    triggerPos: new THREE.Vector3(0.65725, 0.55, 0.75325),\n    ghostTextPos: new THREE.Vector3(0.7075, 0.55, 0.8035),\n    camTextPos: new THREE.Vector3(0.75775, 0.55, 0.8035),\n    endPosition: new THREE.Vector3(0.85825, 0.55, 0.8035),\n    parent: DOM_ELEMENTS.parentElements[0] || null,\n    active: false,\n  },\n  ghost2: {\n    triggerPos: new THREE.Vector3(0.9085, 0.55, 0.8035),\n    ghostTextPos: new THREE.Vector3(0.95875, 0.55, 0.85375),\n    camTextPos: new THREE.Vector3(0.95875, 0.55, 0.904),\n    endPosition: new THREE.Vector3(0.95875, 0.55, 1.0045),\n    parent: DOM_ELEMENTS.parentElements[1] || null,\n    active: false,\n  },\n  ghost3: {\n    triggerPos: new THREE.Vector3(0.75775, 0.55, 1.05475),\n    ghostTextPos: new THREE.Vector3(0.7075, 0.55, 1.0045),\n    camTextPos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    endPosition: new THREE.Vector3(0.55675, 0.55, 1.0045),\n    parent: DOM_ELEMENTS.parentElements[2] || null,\n    active: false,\n  },\n  ghost4: {\n    triggerPos: new THREE.Vector3(0.65725, 0.55, 1.0045),\n    ghostTextPos: new THREE.Vector3(0.5065, 0.55, 1.0045),\n    camTextPos: new THREE.Vector3(0.45625, 0.55, 1.0045),\n    endPosition: new THREE.Vector3(0.35575, 0.55, 1.0045),\n    parent: DOM_ELEMENTS.parentElements[3] || null,\n    active: false,\n  },\n  ghost5: {\n    triggerPos: new THREE.Vector3(0.15475, 0.55, 1.15525),\n    ghostTextPos: new THREE.Vector3(0.205, 0.55, 1.2055),\n    camTextPos: new THREE.Vector3(0.25525, 0.55, 1.2055),\n    endPosition: new THREE.Vector3(0.35575, 0.55, 1.2055),\n    parent: DOM_ELEMENTS.parentElements[4] || null,\n    active: false,\n  },\n};\n","import * as THREE from \"three\";\nimport { camera } from \"./camera\";\nimport { scene, renderer } from \"./scene\";\nimport { ghosts } from \"./objects\";\nimport { getPathsForSection } from \"./paths\";\nimport { TriggerPositions } from \"./triggers\";\nimport { DOM_ELEMENTS } from \"./selectors\";\nimport { restoreGhostsToHome } from \"./animation\";\n\n// POV Animation state\nlet isPOVAnimationActive = false;\nlet manualCameraRotation: THREE.Quaternion | null = null;\n\n// Camera quaternion smoothing\nlet prevCameraQuat: THREE.Quaternion | null = null;\nconst CAMERA_SLERP_ALPHA = 0.18; // Slerp factor for smoothness\n\n// Camera constants\nconst DEFAULT_FOV = 75;\nconst POV_FOV = 60;\n\n// Ghost keys for iteration\nconst ghostKeys = [\"ghost1\", \"ghost2\", \"ghost3\", \"ghost4\", \"ghost5\"] as const;\n\n// Get all POV paths for camera and ghosts\nconst povPaths = getPathsForSection(\"pov\") as Record<\n  string,\n  THREE.CurvePath<THREE.Vector3>\n>;\n\n// POV Animation State for text transitions\ninterface POVTriggerState {\n  triggerCameraProgress?: number;\n  ghostTextCameraProgress?: number;\n  camTextCameraProgress?: number;\n  endCameraProgress?: number;\n  ghostTextOpacity: number;\n  camTextOpacity: number;\n  active: boolean;\n}\n\n// Initialize trigger states\nconst povTriggerStates: { [key: string]: POVTriggerState } = {};\nObject.keys(TriggerPositions).forEach((key) => {\n  povTriggerStates[key] = {\n    ghostTextOpacity: 0,\n    camTextOpacity: 0,\n    active: false,\n  };\n});\n\n// Export function to check if POV is active (for animation system)\nexport function isPOVActive(): boolean {\n  return isPOVAnimationActive;\n}\n\n// Find closest progress on camera POV path\nfunction findClosestProgressOnPOVPath(\n  targetPoint: THREE.Vector3,\n  samples: number = 2000\n): number {\n  if (!povPaths.pacman) return 0;\n\n  let minDist = Infinity;\n  let minT = 0;\n\n  for (let i = 0; i <= samples; i++) {\n    const t = i / samples;\n    const p = povPaths.pacman.getPointAt(t);\n    const d = p.distanceTo(targetPoint);\n    if (d < minDist) {\n      minDist = d;\n      minT = t;\n    }\n  }\n\n  return minT;\n}\n\n// Store original home positions for restoration\nconst originalGhostPositions: Record<string, THREE.Vector3> = {};\nconst originalGhostRotations: Record<string, THREE.Euler> = {};\nconst originalGhostScales: Record<string, THREE.Vector3> = {};\n\n// Capture original home positions when POV starts\nfunction captureHomePositions() {\n  // Check if positions are already captured\n  if (Object.keys(originalGhostPositions).length > 0) return;\n\n  ghostKeys.forEach((key) => {\n    const ghost = ghosts[key];\n    if (ghost) {\n      originalGhostPositions[key] = ghost.position.clone();\n      originalGhostRotations[key] = ghost.rotation.clone();\n      originalGhostScales[key] = ghost.scale.clone();\n    }\n  });\n}\n\n// Restore ghosts to their home positions\nfunction restoreGhostsToHomePositions() {\n  ghostKeys.forEach((key) => {\n    const ghost = ghosts[key];\n    if (ghost && originalGhostPositions[key]) {\n      ghost.position.copy(originalGhostPositions[key]);\n      ghost.rotation.copy(originalGhostRotations[key]);\n      ghost.scale.copy(originalGhostScales[key]);\n      ghost.visible = true;\n\n      // Reset materials to full opacity\n      if (ghost instanceof THREE.Mesh && (ghost as any).material) {\n        (ghost as any).material.opacity = 1;\n        (ghost as any).material.transparent = false;\n      } else if (ghost instanceof THREE.Group) {\n        ghost.traverse((child) => {\n          if (child instanceof THREE.Mesh && (child as any).material) {\n            (child as any).material.opacity = 1;\n            (child as any).material.transparent = false;\n            (child as any).material.needsUpdate = true;\n          }\n        });\n      }\n    }\n  });\n}\n\n// Test function to manually trigger POV animation\nexport function testPOVAnimation(progress: number = 0.5) {\n  // Check if paths exist\n  if (!povPaths.pacman) {\n    console.error(\"POV camera path not found!\");\n    return;\n  }\n\n  const camPos = povPaths.pacman.getPointAt(progress);\n\n  ghostKeys.forEach((key) => {\n    const path = povPaths[key];\n    const ghost = ghosts[key];\n    if (path && ghost) {\n      const pos = path.getPointAt(progress);\n    }\n  });\n\n  // Run the actual update\n  updatePOVAnimation(progress);\n}\n\nexport function updatePOVAnimation(progress: number) {\n  isPOVAnimationActive = true;\n\n  // Capture home positions on first call\n  captureHomePositions();\n\n  const currentProgress = progress;\n\n  updatePOVCamera(currentProgress);\n\n  // 2. Move all ghosts along their respective POV paths with proper triggering\n  ghostKeys.forEach((key) => {\n    const ghost = ghosts[key];\n    const path = povPaths[key];\n    if (ghost && path) {\n      // Get camera position to determine if ghost should be triggered\n      const cameraPosition = povPaths.pacman.getPointAt(currentProgress);\n      const currentCameraProgress =\n        findClosestProgressOnPOVPath(cameraPosition);\n\n      // Check if this ghost has a trigger position\n      const trigger = TriggerPositions[key as keyof typeof TriggerPositions];\n      if (trigger) {\n        // Calculate trigger positions on camera path (only once)\n        const triggerWithProgress = trigger as any;\n        if (triggerWithProgress.triggerCameraProgress === undefined) {\n          triggerWithProgress.triggerCameraProgress =\n            findClosestProgressOnPOVPath(trigger.triggerPos);\n          triggerWithProgress.endCameraProgress = findClosestProgressOnPOVPath(\n            trigger.endPosition\n          );\n        }\n\n        const triggerProgress = triggerWithProgress.triggerCameraProgress;\n        const endProgress = triggerWithProgress.endCameraProgress;\n\n        // Ghost visibility and movement based on camera position\n        if (\n          currentCameraProgress >= triggerProgress &&\n          currentCameraProgress <= endProgress\n        ) {\n          // Make ghost visible and move along its path\n          ghost.visible = true;\n\n          // Calculate ghost progress based on camera progress within the trigger range\n          const normalizedProgress =\n            (currentCameraProgress - triggerProgress) /\n            (endProgress - triggerProgress);\n          const ghostProgress = Math.max(0, Math.min(1, normalizedProgress));\n\n          // Apply smoothing to ghost progress for ultra-smooth movement\n          const smoothGhostProgress = smoothStep(smoothStep(ghostProgress)); // Double smoothing\n\n          // Update ghost position\n          const pos = path.getPointAt(smoothGhostProgress);\n          ghost.position.copy(pos);\n\n          // Make ghost smaller during POV animation\n          ghost.scale.set(0.5, 0.5, 0.5);\n\n          // Ultra-smooth ghost orientation with look-ahead\n          const currentTangent = path\n            .getTangentAt(smoothGhostProgress)\n            .normalize();\n          const lookAheadProgress = Math.min(smoothGhostProgress + 0.05, 1);\n          const lookAheadTangent = path\n            .getTangentAt(lookAheadProgress)\n            .normalize();\n\n          // Blend current and look-ahead tangents for smoother rotation\n          const blendedTangent = new THREE.Vector3()\n            .addVectors(\n              currentTangent.clone().multiplyScalar(0.7),\n              lookAheadTangent.clone().multiplyScalar(0.3)\n            )\n            .normalize();\n\n          const lookAtPoint = ghost.position.clone().add(blendedTangent);\n          ghost.lookAt(lookAtPoint);\n\n          // Smooth fade out at the end\n          if (smoothGhostProgress > 0.95) {\n            const fadeOpacity = 1 - (smoothGhostProgress - 0.95) / 0.05;\n            // Apply fade to ghost materials\n            if (ghost instanceof THREE.Mesh && (ghost as any).material) {\n              (ghost as any).material.opacity = Math.max(\n                0,\n                Math.min(1, fadeOpacity)\n              );\n              (ghost as any).material.transparent = fadeOpacity < 1;\n            } else if (ghost instanceof THREE.Group) {\n              ghost.traverse((child) => {\n                if (child instanceof THREE.Mesh && (child as any).material) {\n                  (child as any).material.opacity = Math.max(\n                    0,\n                    Math.min(1, fadeOpacity)\n                  );\n                  (child as any).material.transparent = fadeOpacity < 1;\n                  (child as any).material.needsUpdate = true;\n                }\n              });\n            }\n          } else {\n            // Full opacity\n            if (ghost instanceof THREE.Mesh && (ghost as any).material) {\n              (ghost as any).material.opacity = 1;\n              (ghost as any).material.transparent = false;\n            } else if (ghost instanceof THREE.Group) {\n              ghost.traverse((child) => {\n                if (child instanceof THREE.Mesh && (child as any).material) {\n                  (child as any).material.opacity = 1;\n                  (child as any).material.transparent = false;\n                  (child as any).material.needsUpdate = true;\n                }\n              });\n            }\n          }\n        } else {\n          // Ghost invisible when outside trigger range\n          ghost.visible = false;\n        }\n      } else {\n        // No trigger position - use continuous movement (fallback)\n        const ghostProgress = currentProgress % 1;\n        const pos = path.getPointAt(ghostProgress);\n        ghost.position.copy(pos);\n        ghost.scale.set(0.5, 0.5, 0.5);\n\n        const tangent = path.getTangentAt(ghostProgress).normalize();\n        const lookAtPoint = pos.clone().add(tangent);\n        ghost.lookAt(lookAtPoint);\n\n        ghost.visible = true;\n      }\n    }\n  });\n\n  // 3. Update POV text animations\n  updatePOVTexts(currentProgress);\n}\n\n// Update POV Texts with proper animation logic\nfunction updatePOVTexts(progress: number) {\n  if (!povPaths.pacman) return;\n\n  const cameraPosition = povPaths.pacman.getPointAt(progress);\n\n  Object.entries(TriggerPositions).forEach(([key, trigger]) => {\n    const triggerState = povTriggerStates[key];\n    const currentCameraProgress = findClosestProgressOnPOVPath(cameraPosition);\n\n    // Calculate trigger positions on camera path (only once)\n    if (triggerState.triggerCameraProgress === undefined) {\n      triggerState.triggerCameraProgress = findClosestProgressOnPOVPath(\n        trigger.triggerPos\n      );\n      triggerState.ghostTextCameraProgress = findClosestProgressOnPOVPath(\n        trigger.ghostTextPos\n      );\n      triggerState.camTextCameraProgress = findClosestProgressOnPOVPath(\n        trigger.camTextPos\n      );\n      triggerState.endCameraProgress = findClosestProgressOnPOVPath(\n        trigger.endPosition\n      );\n    }\n\n    // Calculate text opacities\n    let targetGhostOpacity = 0;\n    let targetCamOpacity = 0;\n\n    if (currentCameraProgress >= triggerState.triggerCameraProgress!) {\n      // Use actual section length for calculations\n      const sectionLength =\n        triggerState.endCameraProgress! - triggerState.triggerCameraProgress!;\n\n      // Ghost Text Animation\n      const fadeInStart = triggerState.ghostTextCameraProgress!;\n      const fadeInEnd = fadeInStart + sectionLength * 0.07; // 7% for fade in\n      const stayVisibleUntil =\n        triggerState.endCameraProgress! - sectionLength * 0.15; // Stay visible until 85%\n      const fadeOutEnd = triggerState.endCameraProgress!;\n\n      if (\n        currentCameraProgress >= fadeInStart &&\n        currentCameraProgress < fadeInEnd\n      ) {\n        // Einblendphase\n        const fadeProgress =\n          (currentCameraProgress - fadeInStart) / (fadeInEnd - fadeInStart);\n        targetGhostOpacity = fadeProgress;\n      } else if (\n        currentCameraProgress >= fadeInEnd &&\n        currentCameraProgress < stayVisibleUntil\n      ) {\n        // Voll sichtbare Phase\n        targetGhostOpacity = 1.0;\n      } else if (\n        currentCameraProgress >= stayVisibleUntil &&\n        currentCameraProgress <= fadeOutEnd\n      ) {\n        // Ausblendphase\n        const fadeProgress =\n          (currentCameraProgress - stayVisibleUntil) /\n          (fadeOutEnd - stayVisibleUntil);\n        targetGhostOpacity = 1.0 - fadeProgress;\n      }\n\n      // Cam Text Animation\n      if (currentCameraProgress >= triggerState.camTextCameraProgress!) {\n        const camFadeInStart = triggerState.camTextCameraProgress!;\n        const camFadeInEnd = camFadeInStart + sectionLength * 0.07;\n        const camStayVisibleUntil = stayVisibleUntil; // Same as ghost\n\n        if (\n          currentCameraProgress >= camFadeInStart &&\n          currentCameraProgress < camFadeInEnd\n        ) {\n          // Einblendphase\n          const fadeProgress =\n            (currentCameraProgress - camFadeInStart) /\n            (camFadeInEnd - camFadeInStart);\n          targetCamOpacity = fadeProgress;\n        } else if (\n          currentCameraProgress >= camFadeInEnd &&\n          currentCameraProgress < camStayVisibleUntil\n        ) {\n          // Voll sichtbare Phase\n          targetCamOpacity = 1.0;\n        } else if (\n          currentCameraProgress >= camStayVisibleUntil &&\n          currentCameraProgress <= fadeOutEnd\n        ) {\n          // Ausblendphase\n          const fadeProgress =\n            (currentCameraProgress - camStayVisibleUntil) /\n            (fadeOutEnd - camStayVisibleUntil);\n          targetCamOpacity = 1.0 * (1.0 - fadeProgress);\n        }\n      }\n    }\n\n    // Smooth interpolation\n    const fadeInSpeed = 0.2; // Schnelleres Einblenden\n    const fadeOutSpeed = 0.1; // Langsameres Ausblenden\n\n    // Update Ghost-Text Opazität\n    if (targetGhostOpacity > triggerState.ghostTextOpacity) {\n      triggerState.ghostTextOpacity +=\n        (targetGhostOpacity - triggerState.ghostTextOpacity) * fadeInSpeed;\n    } else {\n      triggerState.ghostTextOpacity +=\n        (targetGhostOpacity - triggerState.ghostTextOpacity) * fadeOutSpeed;\n    }\n\n    // Update CAM-Text Opazität\n    if (targetCamOpacity > triggerState.camTextOpacity) {\n      triggerState.camTextOpacity +=\n        (targetCamOpacity - triggerState.camTextOpacity) * fadeInSpeed;\n    } else {\n      triggerState.camTextOpacity +=\n        (targetCamOpacity - triggerState.camTextOpacity) * fadeOutSpeed;\n    }\n\n    // Update DOM elements\n    updatePOVTextElements(trigger, triggerState);\n  });\n}\n\n// Function to stop POV animation\nexport function stopPOVAnimation() {\n  console.log(\"Stopping POV Animation...\");\n  isPOVAnimationActive = false;\n\n  // Reset camera to default state\n  camera.fov = DEFAULT_FOV;\n  camera.updateProjectionMatrix();\n\n  // Use the centralized animation controller to restore ghosts\n  restoreGhostsToHome();\n\n  // Hide all POV elements\n  Object.entries(TriggerPositions).forEach(([key, trigger]) => {\n    if (trigger.parent) {\n      const el = trigger.parent as HTMLElement;\n      el.style.opacity = \"0\";\n      el.style.visibility = \"hidden\";\n      el.style.pointerEvents = \"none\";\n\n      // Hide .pov and .cam elements\n      const povElements = el.querySelectorAll(\".pov\");\n      const camElements = el.querySelectorAll(\".cam\");\n\n      povElements.forEach((povElement: Element) => {\n        const element = povElement as HTMLElement;\n        element.style.opacity = \"0\";\n        element.style.visibility = \"hidden\";\n      });\n\n      camElements.forEach((camElement: Element) => {\n        const element = camElement as HTMLElement;\n        element.style.opacity = \"0\";\n        element.style.visibility = \"hidden\";\n        element.style.display = \"none\";\n      });\n    }\n  });\n\n  // Reset trigger states\n  Object.keys(povTriggerStates).forEach((key) => {\n    povTriggerStates[key] = {\n      ghostTextOpacity: 0,\n      camTextOpacity: 0,\n      active: false,\n    };\n  });\n\n  console.log(\n    \"POV Animation stopped - ghosts should be restored to home positions\"\n  );\n}\n\n// --- POV ScrollTrigger Setup ---\nexport async function initPOVAnimationSystem() {\n  // Check if POV section exists\n  if (!DOM_ELEMENTS.povSection) {\n    console.error(\"POV section not found! Check if .sc--pov.sc exists in HTML\");\n    console.log(\"Available DOM elements:\", {\n      homeSection: !!DOM_ELEMENTS.homeSection,\n      introSection: !!DOM_ELEMENTS.introSection,\n      povSection: !!DOM_ELEMENTS.povSection,\n      finalSection: !!DOM_ELEMENTS.finalSection,\n    });\n    console.log(\n      \"All sections in document:\",\n      document.querySelectorAll('[class*=\"sc--\"]')\n    );\n    return;\n  }\n  console.log(\"POV section found:\", DOM_ELEMENTS.povSection);\n\n  // Check if POV paths exist\n  if (!povPaths.pacman) {\n    console.error(\n      \"POV paths not found! Check pathPoints.ts for POV path definitions\"\n    );\n    console.log(\"Available POV paths:\", Object.keys(povPaths));\n    return;\n  }\n  console.log(\"POV paths loaded successfully:\", Object.keys(povPaths));\n\n  // Check if ghosts exist\n  const missingGhosts = ghostKeys.filter((key) => !ghosts[key]);\n  if (missingGhosts.length > 0) {\n    console.warn(\"Some ghosts are missing:\", missingGhosts);\n    console.log(\"Available ghosts:\", Object.keys(ghosts));\n  }\n\n  // Check if trigger elements exist\n  const missingTriggers = Object.entries(TriggerPositions).filter(\n    ([key, trigger]) => !trigger.parent\n  );\n  if (missingTriggers.length > 0) {\n    console.warn(\n      \"Some trigger elements are missing:\",\n      missingTriggers.map(([key]) => key)\n    );\n    console.log(\n      \"Available parent elements:\",\n      DOM_ELEMENTS.parentElements.length\n    );\n  }\n\n  // Dynamically import GSAP\n  const gsapModule = await import(\"gsap\");\n  const scrollTriggerModule = await import(\"gsap/ScrollTrigger\");\n  const gsap = gsapModule.gsap || gsapModule.default;\n  const ScrollTrigger =\n    scrollTriggerModule.ScrollTrigger || scrollTriggerModule.default;\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Setup ScrollTrigger for .sc--pov\n  const povScrollTrigger = ScrollTrigger.create({\n    trigger: \".sc--pov\",\n    start: \"top top\",\n    end: \"bottom bottom\",\n    scrub: 1.2, // Increased scrub for better smoothing\n    onUpdate: (self) => {\n      // Progress von 0 (top top) bis 1 (bottom bottom)\n      const progress = self.progress;\n      console.log(\n        `POV ScrollTrigger onUpdate: progress=${progress.toFixed(3)}`\n      );\n      updatePOVAnimation(progress);\n    },\n    onEnter: () => {\n      console.log(\"POV section entered!\");\n      isPOVAnimationActive = true;\n    },\n    onLeave: () => {\n      console.log(\"POV section left!\");\n      stopPOVAnimation();\n    },\n    onEnterBack: () => {\n      console.log(\"POV section entered (backward)!\");\n      isPOVAnimationActive = true;\n    },\n    onLeaveBack: () => {\n      console.log(\"POV section left (backward)!\");\n      stopPOVAnimation();\n    },\n  });\n\n  console.log(\"POV Animation System initialized successfully!\");\n  console.log(\"ScrollTrigger created:\", povScrollTrigger);\n\n  // Add manual test functions to window for debugging\n  (window as any).testPOV = (progress: number = 0.5) => {\n    console.log(\"=== MANUAL POV TEST ===\");\n    testPOVAnimation(progress);\n  };\n\n  (window as any).startPOV = () => {\n    console.log(\"=== MANUAL POV START ===\");\n    isPOVAnimationActive = true;\n    updatePOVAnimation(0.5);\n  };\n\n  (window as any).stopPOV = () => {\n    console.log(\"=== MANUAL POV STOP ===\");\n    stopPOVAnimation();\n  };\n}\n\n// Update POV Text DOM Elements - TWO-STAGE ANIMATION\nfunction updatePOVTextElements(trigger: any, triggerState: POVTriggerState) {\n  if (!trigger.parent) return;\n\n  // Find ALL elements with .pov and .cam classes\n  const povElements = trigger.parent.querySelectorAll(\".pov\");\n  const camElements = trigger.parent.querySelectorAll(\".cam\");\n  const cmpPovElement = trigger.parent; // The .cmp--pov element itself\n\n  // STAGE 1: Fade in .cmp--pov element (first trigger) - SMOOTHER\n  const cmpPovOpacity = Math.max(\n    0,\n    Math.min(1, Math.round(triggerState.ghostTextOpacity * 1000) / 1000)\n  );\n\n  if (cmpPovOpacity > 0.01) {\n    // Fade in the .cmp--pov element with smooth transition\n    cmpPovElement.style.opacity = cmpPovOpacity.toString();\n    cmpPovElement.style.visibility = \"visible\";\n    cmpPovElement.style.pointerEvents = \"auto\";\n    cmpPovElement.style.transition = \"opacity 0.3s ease-in-out\";\n  } else {\n    // Hide the .cmp--pov element\n    cmpPovElement.style.opacity = \"0\";\n    cmpPovElement.style.visibility = \"hidden\";\n    cmpPovElement.style.pointerEvents = \"none\";\n    cmpPovElement.style.transition = \"opacity 0.3s ease-in-out\";\n  }\n\n  // STAGE 2: Animate .pov and .cam elements properly\n  const camOpacity = Math.max(\n    0,\n    Math.min(1, Math.round(triggerState.camTextOpacity * 1000) / 1000)\n  );\n\n  // Animate .pov elements (fade out from opacity 1 to 0)\n  povElements.forEach((povElement: Element) => {\n    const element = povElement as HTMLElement;\n    if (camOpacity > 0.01) {\n      // Fade out animation: opacity 1 to 0\n      const fadeOutOpacity = 1 - camOpacity; // Invert the opacity for fade out\n      element.style.opacity = fadeOutOpacity.toString();\n      element.style.visibility = \"visible\";\n      element.style.transition = \"opacity 0.4s ease-in-out\";\n\n      // Ensure full fade out when cam text is fully visible\n      if (camOpacity >= 0.99) {\n        element.style.opacity = \"0\";\n        element.style.visibility = \"hidden\";\n      }\n    } else {\n      // Keep full opacity when not transitioning\n      element.style.opacity = \"1\";\n      element.style.visibility = \"visible\";\n      element.style.transition = \"opacity 0.4s ease-in-out\";\n    }\n  });\n\n  // Animate .cam elements (fade in from opacity 0 to 1)\n  camElements.forEach((camElement: Element) => {\n    const element = camElement as HTMLElement;\n    if (camOpacity > 0.01) {\n      // Fade in animation: opacity 0 to 1\n      element.style.display = \"block\";\n      element.style.opacity = camOpacity.toString();\n      element.style.visibility = \"visible\";\n      element.style.transition = \"opacity 0.4s ease-in-out\";\n\n      // Ensure full fade in when cam text is fully visible\n      if (camOpacity >= 0.99) {\n        element.style.opacity = \"1\";\n        element.style.visibility = \"visible\";\n      }\n    } else {\n      // Hide when opacity is 0\n      element.style.opacity = \"0\";\n      element.style.visibility = \"hidden\";\n      element.style.display = \"none\";\n      element.style.transition = \"opacity 0.4s ease-in-out\";\n    }\n  });\n}\n\n// Sophisticated camera update with transition phases and flexible direction\nfunction updatePOVCamera(progress: number) {\n  console.log(`updatePOVCamera called with progress: ${progress}`);\n\n  if (!povPaths.pacman) {\n    console.error(\"POV camera path not found!\");\n    return;\n  }\n\n  const cameraPosition = povPaths.pacman.getPointAt(progress);\n  console.log(\n    `Camera position: ${cameraPosition.x.toFixed(\n      3\n    )}, ${cameraPosition.y.toFixed(3)}, ${cameraPosition.z.toFixed(3)}`\n  );\n\n  camera.position.copy(cameraPosition);\n\n  // Get the tangent at current progress - this is the key missing piece!\n  const tangent = povPaths.pacman.getTangentAt(progress).normalize();\n  const defaultLookAt = cameraPosition.clone().add(tangent);\n  console.log(\n    `Tangent: ${tangent.x.toFixed(3)}, ${tangent.y.toFixed(\n      3\n    )}, ${tangent.z.toFixed(3)}`\n  );\n\n  // Simple phase-based camera control like in backup.js\n  if (progress === 0) {\n    // Initial position - look slightly up\n    camera.lookAt(new THREE.Vector3(camera.position.x, 2, camera.position.z));\n    console.log(\"Camera: Initial position\");\n  } else if (progress < 0.1) {\n    // Entry transition - smooth from up to forward\n    const transitionProgress = progress / 0.1;\n    const upLookAt = new THREE.Vector3(camera.position.x, 1, camera.position.z);\n    const frontLookAt = new THREE.Vector3(\n      camera.position.x,\n      0.5,\n      camera.position.z + 1\n    );\n\n    const interpolatedLookAt = new THREE.Vector3();\n    interpolatedLookAt.lerpVectors(\n      upLookAt,\n      frontLookAt,\n      smoothStep(transitionProgress)\n    );\n    camera.lookAt(interpolatedLookAt);\n    console.log(\"Camera: Entry transition\");\n  } else {\n    // Normal path following - use tangent direction with slight smoothing\n    const lookAheadProgress = Math.min(progress + 0.02, 1); // Small look-ahead for smoothing\n    const lookAheadPos = povPaths.pacman.getPointAt(lookAheadProgress);\n\n    // Calculate smoothed tangent\n    const smoothedTangent = new THREE.Vector3()\n      .subVectors(lookAheadPos, cameraPosition)\n      .normalize();\n\n    // Add slight upward tilt for natural walking perspective\n    const upTilt = new THREE.Vector3(0, 0.05, 0);\n    const finalDirection = new THREE.Vector3()\n      .addVectors(smoothedTangent, upTilt)\n      .normalize();\n\n    const lookAtPoint = cameraPosition.clone().add(finalDirection);\n\n    // Apply smooth camera rotation\n    applySmoothCameraRotation(lookAtPoint);\n    console.log(\"Camera: Normal path following\");\n  }\n\n  camera.fov = POV_FOV;\n  camera.updateProjectionMatrix();\n  camera.updateMatrixWorld();\n\n  console.log(\n    `Camera FOV: ${camera.fov}, Final position: ${camera.position.x.toFixed(\n      3\n    )}, ${camera.position.y.toFixed(3)}, ${camera.position.z.toFixed(3)}`\n  );\n}\n\n// Simplified smooth camera rotation - much less aggressive than before\nfunction applySmoothCameraRotation(targetLookAt: THREE.Vector3) {\n  // Calculate target rotation\n  const tempMatrix = new THREE.Matrix4();\n  tempMatrix.lookAt(camera.position, targetLookAt, camera.up);\n  const targetQuaternion = new THREE.Quaternion().setFromRotationMatrix(\n    tempMatrix\n  );\n\n  if (!prevCameraQuat) {\n    // First frame - set rotation directly\n    camera.quaternion.copy(targetQuaternion);\n    prevCameraQuat = targetQuaternion.clone();\n    return;\n  }\n\n  // Much lighter smoothing - more responsive like the working versions\n  const smoothingFactor = 0.3; // Reduced from previous values\n\n  camera.quaternion.slerpQuaternions(\n    prevCameraQuat,\n    targetQuaternion,\n    smoothingFactor\n  );\n  prevCameraQuat.copy(camera.quaternion);\n}\n\n// Smooth step function for easing\nfunction smoothStep(x: number): number {\n  return x * x * (3 - 2 * x);\n}\n","import * as THREE from \"three\";\nimport { camera } from \"./camera\";\nimport { scene, renderer } from \"./scene\";\nimport { ghosts, pacman } from \"./objects\";\nimport { getPathsForSection } from \"./paths\";\nimport { DOM_ELEMENTS } from \"./selectors\";\nimport { isPOVActive, updatePOVAnimation } from \"./pov-animation\";\n\n// Animation state management\nexport type AnimationState =\n  | \"HOME\"\n  | \"SCROLL_ANIMATION\"\n  | \"POV_ANIMATION\"\n  | \"TRANSITIONING\";\n\n// Centralized animation controller\nclass AnimationController {\n  private state: AnimationState = \"HOME\";\n  private homeProgress = 0;\n  private scrollProgress = 0;\n  private transitionProgress = 0;\n  private isTransitioning = false;\n\n  // Home positions for restoration\n  private homePositions: Record<string, THREE.Vector3> = {};\n  private homeRotations: Record<string, THREE.Euler> = {};\n  private homeScales: Record<string, THREE.Vector3> = {};\n  private homePositionsCaptured = false;\n\n  // Scroll animation curves\n  private bezierCurves: Record<string, THREE.QuadraticBezierCurve3> = {};\n  private cameraScrollCurve: THREE.CubicBezierCurve3 | null = null;\n  private cameraScrollStartQuat: THREE.Quaternion | null = null;\n\n  // Transition start positions\n  private transitionStartPositions: Record<string, THREE.Vector3> = {};\n  private transitionStartRotations: Record<string, THREE.Euler> = {};\n\n  // Animation speeds and constants\n  private readonly HOME_ANIMATION_SPEED = 0.3;\n  private readonly TRANSITION_DURATION = 0.5;\n  private readonly CAMERA_FOV = 75;\n  private readonly MAZE_CENTER = new THREE.Vector3(0.55675, 0.45, 0.45175);\n\n  // Ghost speed multipliers for scroll animation\n  private readonly GHOST_SPEED_MULTIPLIERS: Record<string, number> = {\n    ghost1: 1.2,\n    ghost2: 1.0,\n    ghost3: 0.8,\n    ghost4: 0.6,\n    ghost5: 0.4,\n    pacman: 0.3, // Pacman arrives last\n  };\n\n  constructor() {\n    this.setupHomePaths();\n  }\n\n  private setupHomePaths() {\n    const homePathKeys = [\n      \"pacman\",\n      \"ghost1\",\n      \"ghost2\",\n      \"ghost3\",\n      \"ghost4\",\n      \"ghost5\",\n    ] as const;\n    const homePaths = getPathsForSection(\"home\") as Record<\n      string,\n      THREE.CurvePath<THREE.Vector3>\n    >;\n\n    // Store home paths for later use\n    this.homePaths = homePaths;\n    this.homePathKeys = homePathKeys;\n  }\n\n  private homePaths: Record<string, THREE.CurvePath<THREE.Vector3>> = {};\n  private homePathKeys: readonly string[] = [];\n\n  public getState(): AnimationState {\n    return this.state;\n  }\n\n  public update(dt: number) {\n    // Check POV state first\n    if (isPOVActive()) {\n      this.handlePOVState();\n      return;\n    }\n\n    // Handle different states\n    switch (this.state) {\n      case \"HOME\":\n        this.animateHome(dt);\n        break;\n      case \"SCROLL_ANIMATION\":\n        this.animateScrollToCenter();\n        break;\n      case \"TRANSITIONING\":\n        this.animateTransition(dt);\n        break;\n    }\n\n    this.render();\n  }\n\n  private handlePOVState() {\n    this.state = \"POV_ANIMATION\";\n\n    // Capture home positions when POV starts\n    if (!this.homePositionsCaptured) {\n      this.captureHomePositions();\n    }\n\n    // Make sure ghosts are visible during POV\n    Object.values(ghosts).forEach((ghost) => {\n      ghost.visible = true;\n    });\n\n    this.render();\n  }\n\n  public setScrollProgress(progress: number) {\n    const newProgress = Math.max(0, Math.min(1, progress));\n\n    if (Math.abs(newProgress - this.scrollProgress) < 0.001) return;\n\n    this.scrollProgress = newProgress;\n\n    if (newProgress > 0.01) {\n      // Start scroll animation\n      if (this.state === \"HOME\") {\n        this.startScrollAnimation();\n      }\n    } else {\n      // Return to home\n      if (this.state === \"SCROLL_ANIMATION\") {\n        this.startTransitionToHome();\n      }\n    }\n  }\n\n  private startScrollAnimation() {\n    this.state = \"SCROLL_ANIMATION\";\n\n    if (!this.homePositionsCaptured) {\n      this.captureHomePositions();\n      this.createScrollCurves();\n    }\n  }\n\n  private startTransitionToHome() {\n    this.state = \"TRANSITIONING\";\n    this.isTransitioning = true;\n    this.transitionProgress = 0;\n\n    // Capture current positions as transition start points\n    this.transitionStartPositions = {};\n    this.transitionStartRotations = {};\n\n    Object.entries(ghosts).forEach(([key, ghost]) => {\n      this.transitionStartPositions[key] = ghost.position.clone();\n      this.transitionStartRotations[key] = ghost.rotation.clone();\n    });\n  }\n\n  private captureHomePositions() {\n    if (this.homePositionsCaptured) return;\n\n    Object.entries(ghosts).forEach(([key, ghost]) => {\n      this.homePositions[key] = ghost.position.clone();\n      this.homeRotations[key] = ghost.rotation.clone();\n      this.homeScales[key] = ghost.scale.clone();\n    });\n\n    this.homePositionsCaptured = true;\n  }\n\n  private createScrollCurves() {\n    // Create bezier curves for each ghost\n    this.bezierCurves = {};\n    Object.entries(this.homePositions).forEach(([key, startPos]) => {\n      const endPos = this.MAZE_CENTER.clone();\n      const midPoint = new THREE.Vector3(\n        (startPos.x + endPos.x) / 2,\n        (startPos.y + endPos.y) / 2,\n        (startPos.z + endPos.z) / 2\n      );\n\n      const control = new THREE.Vector3(\n        midPoint.x + (midPoint.x - (startPos.x + endPos.x) / 2) * 0.3,\n        midPoint.y + 1.5,\n        midPoint.z + (midPoint.z - (startPos.z + endPos.z) / 2) * 0.3\n      );\n\n      this.bezierCurves[key] = new THREE.QuadraticBezierCurve3(\n        startPos,\n        control,\n        endPos\n      );\n    });\n\n    // Create camera curve\n    this.cameraScrollCurve = new THREE.CubicBezierCurve3(\n      camera.position.clone(),\n      new THREE.Vector3(\n        (camera.position.x + this.MAZE_CENTER.x) / 2,\n        2,\n        (camera.position.z + this.MAZE_CENTER.z) / 2\n      ),\n      new THREE.Vector3(0.55675, 3, 0.45175),\n      this.MAZE_CENTER.clone()\n    );\n    this.cameraScrollStartQuat = camera.quaternion.clone();\n  }\n\n  private animateHome(dt: number) {\n    this.homeProgress =\n      (this.homeProgress + dt * this.HOME_ANIMATION_SPEED) % 1;\n\n    Object.entries(ghosts).forEach(([key, ghost]) => {\n      if (this.homePathKeys.includes(key)) {\n        const path = this.homePaths[key];\n        if (path) {\n          const t = this.homeProgress;\n          const pos = path.getPointAt(t);\n          ghost.position.copy(pos);\n\n          const tangent = path.getTangentAt(t).normalize();\n          ghost.lookAt(pos.clone().add(tangent));\n\n          // Pacman rotation smoothing\n          if (key === \"pacman\") {\n            const zRot = Math.atan2(tangent.x, tangent.z);\n            ghost.rotation.set(Math.PI / 2, Math.PI, zRot + Math.PI / 2);\n          }\n\n          this.setGhostOpacity(ghost, 1);\n        }\n      }\n    });\n  }\n\n  private animateScrollToCenter() {\n    Object.entries(ghosts).forEach(([key, ghost]) => {\n      const speed = this.GHOST_SPEED_MULTIPLIERS[key] || 1.0;\n      let ghostProgress = Math.min(this.scrollProgress * speed, 1);\n\n      const curve = this.bezierCurves[key];\n      if (!curve) return;\n\n      const pos = curve.getPointAt(ghostProgress);\n      ghost.position.copy(pos);\n\n      // Interpolate rotation\n      const origRot = this.homeRotations[key];\n      const targetRot = new THREE.Euler(-Math.PI / 2, 0, 0);\n\n      const startQuat = new THREE.Quaternion().setFromEuler(origRot);\n      const endQuat = new THREE.Quaternion().setFromEuler(targetRot);\n      const interpolatedQuat = new THREE.Quaternion();\n\n      const easedProgress = this.easeInOutCubic(ghostProgress);\n      interpolatedQuat.slerpQuaternions(startQuat, endQuat, easedProgress);\n      ghost.quaternion.copy(interpolatedQuat);\n\n      // Fade out starting at 90% of overall scroll progress\n      let opacity = 1;\n      if (this.scrollProgress >= 0.9) {\n        const fadeProgress = (this.scrollProgress - 0.9) / 0.1;\n        opacity = 1 - fadeProgress;\n        opacity = Math.max(0, opacity);\n      }\n\n      this.setGhostOpacity(ghost, opacity);\n    });\n\n    // Animate camera\n    this.animateCameraScroll();\n  }\n\n  private animateCameraScroll() {\n    if (!this.cameraScrollCurve || !this.cameraScrollStartQuat) return;\n\n    const pos = this.cameraScrollCurve.getPoint(this.scrollProgress);\n    camera.position.copy(pos);\n    camera.fov = this.CAMERA_FOV;\n    camera.updateProjectionMatrix();\n\n    const endQuaternion = new THREE.Quaternion().setFromEuler(\n      new THREE.Euler(-Math.PI / 2, 0, 0)\n    );\n    const q = new THREE.Quaternion();\n    q.slerpQuaternions(\n      this.cameraScrollStartQuat,\n      endQuaternion,\n      this.scrollProgress\n    );\n    camera.quaternion.copy(q);\n  }\n\n  private animateTransition(dt: number) {\n    this.transitionProgress += dt / this.TRANSITION_DURATION;\n    const easedProgress = this.easeInOutCubic(\n      Math.min(this.transitionProgress, 1)\n    );\n\n    Object.entries(ghosts).forEach(([key, ghost]) => {\n      if (this.homePathKeys.includes(key)) {\n        const path = this.homePaths[key];\n        if (path) {\n          const targetPos = path.getPointAt(this.homeProgress);\n          const startPos = this.transitionStartPositions[key];\n\n          ghost.position.lerpVectors(startPos, targetPos, easedProgress);\n\n          const startRot = this.transitionStartRotations[key];\n          const tangent = path.getTangentAt(this.homeProgress).normalize();\n          const targetRot = new THREE.Euler();\n\n          if (key === \"pacman\") {\n            const zRot = Math.atan2(tangent.x, tangent.z);\n            targetRot.set(Math.PI / 2, Math.PI, zRot + Math.PI / 2);\n          } else {\n            targetRot.setFromQuaternion(\n              new THREE.Quaternion().setFromUnitVectors(\n                new THREE.Vector3(0, 0, 1),\n                tangent\n              )\n            );\n          }\n\n          const startQuat = new THREE.Quaternion().setFromEuler(startRot);\n          const endQuat = new THREE.Quaternion().setFromEuler(targetRot);\n          const interpolatedQuat = new THREE.Quaternion();\n          interpolatedQuat.slerpQuaternions(startQuat, endQuat, easedProgress);\n          ghost.quaternion.copy(interpolatedQuat);\n\n          this.setGhostOpacity(ghost, 1);\n        }\n      }\n    });\n\n    if (this.transitionProgress >= 1) {\n      this.state = \"HOME\";\n      this.isTransitioning = false;\n      this.homePositionsCaptured = false;\n    }\n  }\n\n  public restoreGhostsToHome() {\n    Object.entries(ghosts).forEach(([key, ghost]) => {\n      if (this.homePositions[key]) {\n        ghost.position.copy(this.homePositions[key]);\n        ghost.rotation.copy(this.homeRotations[key]);\n        ghost.scale.copy(this.homeScales[key]);\n        ghost.visible = true;\n        this.setGhostOpacity(ghost, 1);\n      }\n    });\n\n    this.state = \"HOME\";\n    this.homePositionsCaptured = false;\n  }\n\n  private setGhostOpacity(ghost: THREE.Object3D, opacity: number) {\n    function applyOpacity(mesh: THREE.Mesh) {\n      if (mesh.material) {\n        const materials = Array.isArray(mesh.material)\n          ? mesh.material\n          : [mesh.material];\n\n        materials.forEach((material: any) => {\n          if (material) {\n            if (\n              material.isMeshBasicMaterial ||\n              material.isMeshStandardMaterial ||\n              material.isMeshPhysicalMaterial ||\n              material.isMeshMatcapMaterial\n            ) {\n              material.opacity = opacity;\n              material.transparent = opacity < 1;\n              material.depthWrite = opacity === 1;\n              material.needsUpdate = true;\n            } else if (\n              material.isShaderMaterial &&\n              material.uniforms &&\n              material.uniforms.opacity\n            ) {\n              material.uniforms.opacity.value = opacity;\n              material.needsUpdate = true;\n            } else if (\"opacity\" in material) {\n              material.opacity = opacity;\n              material.transparent = opacity < 1;\n              material.depthWrite = opacity === 1;\n              material.needsUpdate = true;\n            }\n          }\n        });\n      }\n    }\n\n    if (ghost instanceof THREE.Mesh) {\n      applyOpacity(ghost);\n    } else if (ghost instanceof THREE.Group) {\n      ghost.traverse((child) => {\n        if (child instanceof THREE.Mesh) {\n          applyOpacity(child);\n        }\n      });\n    }\n  }\n\n  private easeInOutCubic(t: number): number {\n    return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\n  }\n\n  private render() {\n    renderer.render(scene, camera);\n  }\n}\n\n// Create global animation controller instance\nconst animationController = new AnimationController();\n\n// Animation loop\nfunction animationLoop() {\n  requestAnimationFrame(animationLoop);\n  const dt = clock.getDelta();\n\n  if (pacmanMixer) pacmanMixer.update(dt);\n  animationController.update(dt);\n}\n\n// Clock for animation timing\nconst clock = new THREE.Clock();\nlet pacmanMixer: THREE.AnimationMixer | null = null;\n\n// GSAP ScrollTrigger setup\nasync function setupScrollTrigger() {\n  try {\n    const gsapModule = await import(\"gsap\");\n    const scrollTriggerModule = await import(\"gsap/ScrollTrigger\");\n\n    const gsap = gsapModule.gsap || gsapModule.default;\n    const ScrollTrigger =\n      scrollTriggerModule.ScrollTrigger || scrollTriggerModule.default;\n\n    if (!gsap || !ScrollTrigger) {\n      throw new Error(\"GSAP modules not loaded properly\");\n    }\n\n    gsap.registerPlugin(ScrollTrigger);\n\n    const homeSection = document.querySelector(\".sc--home.sc\") as HTMLElement;\n    if (!homeSection) {\n      console.warn(\"Home section not found, scroll animation disabled\");\n      return;\n    }\n\n    const tl = gsap.timeline({\n      scrollTrigger: {\n        trigger: homeSection,\n        start: \"top top\",\n        end: \"bottom top\",\n        scrub: 1,\n      },\n    });\n\n    tl.to(\n      {},\n      {\n        duration: 1,\n        onUpdate: function () {\n          const progress = this.progress();\n          animationController.setScrollProgress(progress);\n        },\n      }\n    );\n  } catch (error) {\n    console.error(\"❌ GSAP ScrollTrigger setup failed:\", error);\n    setupManualScrollListener();\n  }\n}\n\nfunction setupManualScrollListener() {\n  window.addEventListener(\"scroll\", () => {\n    const homeSection = document.querySelector(\".sc--home.sc\") as HTMLElement;\n    if (homeSection) {\n      const rect = homeSection.getBoundingClientRect();\n      const progress = Math.max(\n        0,\n        Math.min(1, 1 - rect.bottom / window.innerHeight)\n      );\n      animationController.setScrollProgress(progress);\n    }\n  });\n}\n\nexport function initAnimationSystem() {\n  animationController.restoreGhostsToHome();\n  animationLoop();\n  setupScrollTrigger();\n}\n\n// Export controller methods for POV animation\nexport function restoreGhostsToHome() {\n  animationController.restoreGhostsToHome();\n}\n\nexport function getAnimationState(): AnimationState {\n  return animationController.getState();\n}\n","// Intro animations for the intro section\n// Extracted from old animation-system.ts and adapted for current structure\n\nimport { DOM_ELEMENTS } from \"./selectors\";\n\nlet isHeaderAnimating = false;\nlet isBodyAnimating = false;\n\nfunction easeInOutCubic(t: number): number {\n  return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\n}\n\nfunction animateIntroHeaderDirect(directProgress: number) {\n  const introHeader = DOM_ELEMENTS.introHeader;\n  if (!introHeader) {\n    return;\n  }\n\n  // Header animation: directProgress goes from 0-1 for the full header animation\n  let scale = 0;\n  let opacity = 0;\n\n  if (directProgress > 0 && directProgress < 1) {\n    if (directProgress <= 0.2) {\n      // 0% - 20%: scale 0->0.8, opacity 0->1\n      const keyframeProgress = directProgress / 0.2;\n      const easedProgress = easeInOutCubic(keyframeProgress);\n      scale = easedProgress * 0.8;\n      opacity = easedProgress; // 0.0 -> 1.0\n    } else if (directProgress <= 0.8) {\n      // 20% - 80%: scale 0.8->1.2, opacity stays 1\n      const keyframeProgress = (directProgress - 0.2) / 0.6;\n      scale = 0.8 + keyframeProgress * 0.4; // 0.8 -> 1.2\n      opacity = 1;\n    } else {\n      // 80% - 100%: scale 1.2->1.5, opacity 1->0\n      const keyframeProgress = (directProgress - 0.8) / 0.2;\n      scale = 1.2 + keyframeProgress * 0.3; // 1.2 -> 1.5\n      opacity = 1 - keyframeProgress; // 1 -> 0.0\n    }\n  } else if (directProgress >= 1) {\n    // Header finished\n    scale = 1.5;\n    opacity = 0;\n  } else {\n    // Header not started\n    scale = 0;\n    opacity = 0;\n  }\n\n  // Update transform and opacity\n  introHeader.style.setProperty(\"transform\", `scale(${scale})`, \"important\");\n  introHeader.style.opacity = opacity.toString();\n}\n\nfunction animateIntroBodyDirect(directProgress: number) {\n  const introBody = DOM_ELEMENTS.introBody;\n  if (!introBody) {\n    return;\n  }\n\n  // Body animation: directProgress goes from 0-1 for the full body animation\n  let scale = 0.5;\n  let opacity = 0;\n\n  if (directProgress > 0 && directProgress < 1) {\n    if (directProgress <= 0.2) {\n      // 0% - 20%: scale 0.5->0.8, opacity 0->1\n      const keyframeProgress = directProgress / 0.2;\n      const easedProgress = easeInOutCubic(keyframeProgress);\n      scale = 0.5 + easedProgress * 0.3; // 0.5 -> 0.8\n      opacity = easedProgress; // 0.0 -> 1.0\n    } else if (directProgress <= 0.8) {\n      // 20% - 80%: scale 0.8->1.2, opacity stays 1\n      const keyframeProgress = (directProgress - 0.2) / 0.6;\n      scale = 0.8 + keyframeProgress * 0.4; // 0.8 -> 1.2\n      opacity = 1;\n    } else {\n      // 80% - 100%: scale 1.2->1.5, opacity 1->0\n      const keyframeProgress = (directProgress - 0.8) / 0.2;\n      scale = 1.2 + keyframeProgress * 0.3; // 1.2 -> 1.5\n      opacity = 1 - keyframeProgress; // 1 -> 0.0\n    }\n  } else if (directProgress >= 1) {\n    // Body finished\n    scale = 1.5;\n    opacity = 0;\n  } else {\n    // Body not started yet\n    scale = 0.5;\n    opacity = 0;\n  }\n\n  // Update transform and opacity\n  introBody.style.setProperty(\"transform\", `scale(${scale})`, \"important\");\n  introBody.style.opacity = opacity.toString();\n}\n\nasync function setupGSAPIntroAnimations() {\n  try {\n    // Dynamic import GSAP with validation\n    const gsapModule = await import(\"gsap\");\n    const scrollTriggerModule = await import(\"gsap/ScrollTrigger\");\n\n    const gsap = gsapModule.gsap || gsapModule.default;\n    const ScrollTrigger =\n      scrollTriggerModule.ScrollTrigger || scrollTriggerModule.default;\n\n    if (!gsap || !ScrollTrigger) {\n      throw new Error(\"GSAP modules not loaded properly\");\n    }\n\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Configure GSAP for smooth performance\n    gsap.config({\n      force3D: true, // Hardware acceleration\n      nullTargetWarn: false,\n      autoSleep: 60, // Keep animations responsive\n    });\n\n    // Optimize ScrollTrigger for smooth performance\n    ScrollTrigger.config({\n      autoRefreshEvents: \"visibilitychange,DOMContentLoaded,load\",\n      limitCallbacks: true,\n    });\n\n    // Header: 0% bis 50% Progress (top top bis center center)\n    ScrollTrigger.create({\n      trigger: DOM_ELEMENTS.introSection,\n      start: \"top top\",\n      end: \"center center\",\n      scrub: 0.3,\n      pin: DOM_ELEMENTS.introHeader,\n      pinSpacing: false,\n      invalidateOnRefresh: true,\n      onUpdate: (self) => {\n        const progress = self.progress;\n        animateIntroHeaderDirect(progress);\n        animateIntroBodyDirect(0);\n      },\n      onEnter: () => DOM_ELEMENTS.introHeader.classList.add(\"intro-centered\"),\n      onEnterBack: () =>\n        DOM_ELEMENTS.introHeader.classList.add(\"intro-centered\"),\n      onLeave: () =>\n        DOM_ELEMENTS.introHeader.classList.remove(\"intro-centered\"),\n      onLeaveBack: () =>\n        DOM_ELEMENTS.introHeader.classList.remove(\"intro-centered\"),\n    });\n\n    // Body: 50% bis 100% Progress (center center bis bottom bottom)\n    ScrollTrigger.create({\n      trigger: DOM_ELEMENTS.introSection,\n      start: \"center center\",\n      end: \"bottom bottom\",\n      scrub: 0.3,\n      pin: DOM_ELEMENTS.introBody,\n      pinSpacing: false,\n      invalidateOnRefresh: true,\n      onUpdate: (self) => {\n        const progress = self.progress;\n        animateIntroHeaderDirect(1);\n        animateIntroBodyDirect(progress);\n      },\n      onEnter: () => DOM_ELEMENTS.introBody.classList.add(\"intro-centered\"),\n      onEnterBack: () => DOM_ELEMENTS.introBody.classList.add(\"intro-centered\"),\n      onLeave: () => DOM_ELEMENTS.introBody.classList.remove(\"intro-centered\"),\n      onLeaveBack: () =>\n        DOM_ELEMENTS.introBody.classList.remove(\"intro-centered\"),\n    });\n  } catch (error) {\n    console.error(\"❌ GSAP intro animations setup failed:\", error);\n    setupManualIntroAnimations();\n  }\n}\n\nfunction setupManualIntroAnimations() {\n  let scrollCount = 0;\n  window.addEventListener(\"scroll\", () => {\n    scrollCount++;\n\n    // Manual intro animation: Use the exact backup.js timing\n    if (\n      DOM_ELEMENTS.introSection &&\n      DOM_ELEMENTS.introHeader &&\n      DOM_ELEMENTS.introBody\n    ) {\n      const rect = DOM_ELEMENTS.introSection.getBoundingClientRect();\n\n      if (rect.top <= 0 && rect.bottom >= 0) {\n        // Section is visible - calculate progress\n        const scrolledDistance = Math.abs(rect.top);\n        const overallProgress = Math.min(1, scrolledDistance / rect.height);\n\n        // HEADER: 0% to 50% (backup.js: \"top top\" to \"center center\")\n        if (overallProgress <= 0.5) {\n          const headerProgress = overallProgress / 0.5;\n          animateIntroHeaderDirect(headerProgress);\n          animateIntroBodyDirect(0);\n        } else {\n          // BODY: 50% to 100% (backup.js: \"center center\" to \"bottom bottom\")\n          const bodyProgress = (overallProgress - 0.5) / 0.5;\n          animateIntroHeaderDirect(1);\n          animateIntroBodyDirect(bodyProgress);\n        }\n      } else {\n        // Section not visible - reset\n        animateIntroHeaderDirect(0);\n        animateIntroBodyDirect(0);\n      }\n    }\n  });\n}\n\nexport function initIntroAnimations() {\n  setupGSAPIntroAnimations();\n}\n","import { initRenderer, setupLighting } from \"./scene\";\nimport { initCamera, setupCameraResize } from \"./camera\";\nimport { loadModel } from \"./objects\";\nimport { initAnimationSystem } from \"./animation\";\nimport { initIntroAnimations } from \"./intro-animations\";\nimport { initPOVAnimationSystem } from \"./pov-animation\";\n\nasync function init() {\n  try {\n    initRenderer();\n    setupLighting();\n    initCamera();\n    setupCameraResize();\n\n    await loadModel();\n\n    initAnimationSystem();\n    initIntroAnimations();\n    await initPOVAnimationSystem();\n  } catch (error) {\n    console.error(\"Initialization error:\", error);\n  }\n}\n\n// Start the application\ninit();\n"],"names":["leafPrototypes","getProto","module","exports","gsap","ScrollTrigger","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Object","getPrototypeOf","obj","t","value","mode","this","__esModule","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","forEach","key","d","definition","o","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","THREE","isMobile","window","innerWidth","CAMERA_POSITIONS","startMobile","startDesktop","secondMobile","secondDesktop","mobileLookAt","desktopLookAt","startPosition","secondPosition","lookAtPosition","DOM_ELEMENTS","mazeContainer","document","querySelector","canvas","finalSection","finalContainer","parentElements","querySelectorAll","scene","renderer","antialias","alpha","powerPreference","precision","setPixelRatio","pixelRatio","Math","min","devicePixelRatio","setSize","clientWidth","clientHeight","innerHeight","camera","quaternion","clone","setFromEuler","mazeTexture","load","mazeMaterial","matcap","topMaterial","color","metalness","roughness","envMapIntensity","ghostMaterial","opacity","transparent","depthWrite","depthTest","blending","side","transmission","floorMaterial","pacmanMaterials","blue","white","default","materialMap","CAM_Pacman_Backframe","CAM_Pacman_Logo_1","CAM_Pacman_Logo_2","loader","Array","fill","pacmanMixer","pacman","add","ghost1","ghost2","ghost3","ghost4","ghost5","ghostContainers","Ghost_EUR","Ghost_CHF","Ghost_YEN","Ghost_USD","Ghost_GBP","values","ghost","pacmanHomePathPoints","pos","type","curveType","ghost1HomePathPoints","ghost2HomePathPoints","ghost3HomePathPoints","ghost4HomePathPoints","ghost5HomePathPoints","cameraPOVPathPoints","ghost1POVPathPoints","ghost2POVPathPoints","ghost3POVPathPoints","ghost4POVPathPoints","ghost5POVPathPoints","paths","pacmanHome","createPath","ghost1Home","ghost2Home","ghost3Home","ghost4Home","ghost5Home","cameraPOV","ghost1POV","ghost2POV","ghost3POV","ghost4POV","ghost5POV","pathPoints","path","i","length","next","line","midPoint","x","y","z","curve","getPathsForSection","section","homeSection","introSection","introHeader","introBody","povSection","TriggerPositions","triggerPos","ghostTextPos","camTextPos","endPosition","parent","active","isPOVAnimationActive","prevCameraQuat","ghostKeys","povPaths","povTriggerStates","findClosestProgressOnPOVPath","targetPoint","samples","minDist","Infinity","minT","getPointAt","distanceTo","keys","ghostTextOpacity","camTextOpacity","originalGhostPositions","originalGhostRotations","originalGhostScales","updatePOVAnimation","progress","position","rotation","scale","currentProgress","console","log","error","cameraPosition","toFixed","copy","tangent","getTangentAt","normalize","lookAt","transitionProgress","upLookAt","frontLookAt","interpolatedLookAt","lerpVectors","smoothStep","lookAheadProgress","lookAheadPos","smoothedTangent","subVectors","upTilt","finalDirection","addVectors","targetLookAt","tempMatrix","up","targetQuaternion","setFromRotationMatrix","slerpQuaternions","applySmoothCameraRotation","fov","updateProjectionMatrix","updateMatrixWorld","updatePOVCamera","currentCameraProgress","trigger","triggerWithProgress","triggerCameraProgress","endCameraProgress","triggerProgress","endProgress","visible","normalizedProgress","smoothGhostProgress","max","set","currentTangent","lookAheadTangent","blendedTangent","multiplyScalar","lookAtPoint","fadeOpacity","material","traverse","child","needsUpdate","ghostProgress","entries","triggerState","ghostTextCameraProgress","camTextCameraProgress","targetGhostOpacity","targetCamOpacity","sectionLength","fadeInStart","fadeInEnd","stayVisibleUntil","fadeOutEnd","camFadeInStart","camFadeInEnd","povElements","camElements","cmpPovElement","cmpPovOpacity","round","style","toString","visibility","pointerEvents","transition","camOpacity","povElement","element","fadeOutOpacity","camElement","display","updatePOVTextElements","updatePOVTexts","stopPOVAnimation","animationController","restoreGhostsToHome","el","constructor","state","homeProgress","scrollProgress","isTransitioning","homePositions","homeRotations","homeScales","homePositionsCaptured","bezierCurves","cameraScrollCurve","cameraScrollStartQuat","transitionStartPositions","transitionStartRotations","HOME_ANIMATION_SPEED","TRANSITION_DURATION","CAMERA_FOV","MAZE_CENTER","GHOST_SPEED_MULTIPLIERS","homePaths","homePathKeys","setupHomePaths","getState","update","dt","handlePOVState","animateHome","animateScrollToCenter","animateTransition","render","captureHomePositions","setScrollProgress","newProgress","abs","startScrollAnimation","startTransitionToHome","createScrollCurves","startPos","endPos","control","includes","zRot","atan2","PI","setGhostOpacity","speed","origRot","targetRot","startQuat","endQuat","interpolatedQuat","easedProgress","easeInOutCubic","animateCameraScroll","getPoint","endQuaternion","q","targetPos","startRot","setFromQuaternion","setFromUnitVectors","applyOpacity","mesh","isArray","isMeshBasicMaterial","isMeshStandardMaterial","isMeshPhysicalMaterial","isMeshMatcapMaterial","isShaderMaterial","uniforms","pow","animationLoop","requestAnimationFrame","getDelta","animateIntroHeaderDirect","directProgress","keyframeProgress","setProperty","animateIntroBodyDirect","async","shadowMap","enabled","appendChild","domElement","body","readyState","addEventListener","ambientLight","directionalLight","shadow","mapSize","width","height","left","right","top","bottom","near","far","bias","radius","castShadow","setupLighting","aspect","Promise","resolve","reject","gltf","model","name","children","subChild","isMesh","push","item","pacmanActions","animations","clip","action","clipAction","setEffectiveWeight","play","ghostContainer","ghostGroup","startsWith","clonedChild","receiveShadow","node","loadModel","gsapModule","scrollTriggerModule","Error","registerPlugin","warn","timeline","scrollTrigger","start","end","scrub","to","duration","onUpdate","rect","getBoundingClientRect","setupScrollTrigger","config","force3D","nullTargetWarn","autoSleep","autoRefreshEvents","limitCallbacks","pin","pinSpacing","invalidateOnRefresh","self","onEnter","classList","onEnterBack","onLeave","remove","onLeaveBack","scrolledDistance","overallProgress","bodyProgress","setupGSAPIntroAnimations","missingGhosts","filter","missingTriggers","map","povScrollTrigger","testPOV","testPOVAnimation","startPOV","stopPOV","initPOVAnimationSystem","init"],"sourceRoot":""}