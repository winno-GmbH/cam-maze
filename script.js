(()=>{"use strict";var e={13:(e,t,o)=>{o.d(t,{l:()=>s});var r=o(340);const n={mazeContainer:".el--home-maze.el",canvas:"canvas",homeSection:r.BK.HOME,introSection:r.BK.INTRO,povSection:r.BK.POV,finalSection:r.BK.OUTRO,finalContainer:".cr--outro.cr",scrollComponent:".cmp--scroll.cmp",parentElements:".cmp--pov.cmp",pov:".pov",cam:".cam"},s={mazeContainer:document.querySelector(n.mazeContainer),canvas:document.querySelector(n.canvas),homeSection:document.querySelector(n.homeSection),introSection:document.querySelector(n.introSection),povSection:document.querySelector(n.povSection),finalSection:document.querySelector(n.finalSection),finalContainer:document.querySelector(n.finalContainer),parentElements:document.querySelectorAll(n.parentElements)}},68:(e,t,o)=>{o.d(t,{D8:()=>y,Md:()=>p,Ro:()=>i,S5:()=>m,rF:()=>c,xv:()=>a});var r=o(909),n=o(417);const s=(new r.TextureLoader).load(n.k.mazeTexture),a=new r.MeshMatcapMaterial({matcap:s}),i=new r.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),c=new r.MeshPhysicalMaterial({color:16777215,opacity:.9999,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.NormalBlending,side:r.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),p=new r.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),l={blue:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},u=new r.MeshPhysicalMaterial({color:16777215,metalness:0,roughness:.05,transmission:1,thickness:.5,ior:1.5,reflectivity:.5,clearcoat:1,clearcoatRoughness:.1,transparent:!0,opacity:1,side:r.DoubleSide,envMapIntensity:1}),d=new r.MeshPhysicalMaterial({color:16737792,metalness:0,roughness:.05,transmission:.2,thickness:.5,ior:1.5,reflectivity:.5,clearcoat:1,clearcoatRoughness:.1,transparent:!0,opacity:.98,side:r.DoubleSide,envMapIntensity:1}),h={shell:new r.MeshPhysicalMaterial({color:16729088,metalness:0,roughness:.05,transmission:.9,thickness:.5,ior:1.5,reflectivity:.5,clearcoat:1,clearcoatRoughness:.1,transparent:!0,opacity:1,side:r.DoubleSide,envMapIntensity:1}),shellFront:u,shellBack:d,bitcoin:new r.MeshStandardMaterial({color:16737792,roughness:.3,metalness:.2}),default:new r.MeshStandardMaterial({color:0,roughness:.5,metalness:.1})},m={CAM_Pacman_Backframe:l.blue,"CAM-Pacman_Bitcoin_1":l.white,"CAM-Pacman_Bitcoin_2":l.white,"CAM-Pacman_Bottom":l.blue,"CAM-Pacman_Top":l.blue,"CAM-Pacman_Eye":l.white,CAM_Pacman_Logo_1:l.white,CAM_Pacman_Logo_2:l.white,"CAM-Pacman_Shell_Boolean":l.blue,"CAM-Pacman_Shell":l.blue,"CAM-Pacman_Bottom_electronic":l.white,"CAM-Pacman_Top_electronic":l.white,"CAM-Pacman_Bottom_Text":l.white,"CAM-Pacman_Top_Text":l.white,default:l.blue},y={shell:h.shell,shellFront:h.shellFront,shellBack:h.shellBack,bitcoin:h.bitcoin,default:h.default}},70:(e,t,o)=>{o.r(t),o.d(t,{initHomeScrollAnimation:()=>L});var r=o(352),n=o.n(r),s=o(774),a=o.n(s),i=o(909),c=o(771),p=o(910),l=o(606),u=o(991),d=o(543),h=o(877),m=o(392),y=o(522),f=o(365),g=o(641),v=o(340),A=o(68);const w={x:90,y:180,z:0};let P=null;const b=50;let E={},M=[];const S=[];let x=null,O=null,F=null,C=null;const I=new i.Euler,k=Math.PI/180,T={xAxis:new i.Vector3(1,0,0),yAxis:new i.Vector3(0,1,0),zAxis:new i.Vector3(0,0,1),xRotation:new i.Quaternion,yRotation:new i.Quaternion,zRotation:new i.Quaternion,pacmanLayDown:new i.Quaternion,tempEuler:new i.Euler,endEuler:new i.Euler,offsets:{x:0,y:0,z:0}};function U(e){T.offsets.x===e.x&&T.offsets.y===e.y&&T.offsets.z===e.z||(T.offsets={...e},T.xRotation.setFromAxisAngle(T.xAxis,e.x*k),T.yRotation.setFromAxisAngle(T.yAxis,e.y*k),T.zRotation.setFromAxisAngle(T.zAxis,e.z*k),T.pacmanLayDown.copy(h.mc).multiply(T.yRotation).multiply(T.xRotation).multiply(T.zRotation),T.endEuler.setFromQuaternion(T.pacmanLayDown))}function L(){P&&(P.kill(),P=null);const e=(0,u.Y)(),t=new i.CurvePath;if(4===e.length){const o=new i.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(o)}const o=()=>{S.forEach((e=>{e.dispose()})),S.length=0},r=()=>{const e=a().getById("introScroll");M.forEach((([t,o])=>{(0,g.DB)(o),(0,f.tU)(o,1,{preserveTransmission:!0,skipCurrencySymbols:!0}),e?.isActive&&(0,g.kU)(o,t,"intro")})),o(),F=null,C=null,p.Yc&&(p.Yc.timeScale=1)},s=()=>{requestAnimationFrame((()=>{const e=a().getById("introScroll");if(e?.isActive)return;p.Yc&&(p.Yc.timeScale=2);const t=(0,y.Yw)(),o=(0,y.bd)(),r=(0,m.Zn)();Object.entries(p.VQ).forEach((([e,r])=>{if(t[e])r.position.copy(t[e]),E[e]=t[e].clone();else{const t=(0,y.Qf)()[e]||r.position;r.position.copy(t),E[e]=t.clone()}o[e]&&r.quaternion.copy(o[e])}));const n=Object.keys(o).length>0?o:(0,y.X2)();(0,m.Ui)(!0,r,E,n),L()}))};P=n().timeline({scrollTrigger:{id:"homeScroll",trigger:v.BK.HOME,start:"top top",end:"bottom top",scrub:v.jb,markers:!1,refreshPriority:0,invalidateOnRefresh:!1,onEnter:s,onEnterBack:s,onUpdate:o=>{if(t&&t.curves.length){const r=o.progress,n=Math.min(1,Math.max(0,r)),s=1-Math.pow(1-n,1.5),a=t.getPointAt(s);if(c.U.position.copy(a),F||(F=[],e.forEach((e=>{"lookAt"in e&&e.lookAt&&F.push(e.lookAt)})),F.length>=4&&(C=new i.CubicBezierCurve3(F[0],F[1],F[2],F[3]))),C){const e=C.getPointAt(s);c.U.lookAt(e);const t=17*s-17;I.setFromQuaternion(c.U.quaternion),I.z=t*k,c.U.quaternion.setFromEuler(I)}c.U.fov=b,c.U.updateProjectionMatrix()}},onLeave:r,onLeaveBack:r}}),M=Object.entries(p.VQ),M.forEach((([e,t])=>{E[e]=t.position.clone()}));const L=()=>{P&&P.clear(),M.forEach((([e,t])=>{(0,g.DB)(t)})),o();const e=JSON.stringify(E);let t;x&&O===e?t=x:(t=(0,d.Pw)(E),x=t,O=e);const r=[],n=[];M.forEach((([e,o])=>{const s=(0,f.LT)(o);(0,f.Km)(o,((e,t)=>{let o;if(e===A.rF||Object.values(A.S5).includes(e)||Object.values(A.D8).includes(e)||!t.material||Array.isArray(t.material))if(o=e.clone(),S.push(o),(0,f.LQ)(o,s,!0),Array.isArray(t.material)){const r=t.material.indexOf(e);if(-1!==r){const e=[...t.material];e[r]=o,t.material=e}}else t.material=o;else(0,f.LQ)(e,s,!0)}),{skipCurrencySymbols:!1});const a=(0,y.bd)()[e]||(0,y.X2)()[e]||o.quaternion.clone(),c=(new i.Euler).setFromQuaternion(a);let p;"pacman"===e?(U(w),p=T.endEuler.clone()):p=(new i.Euler).setFromQuaternion(h.mc);const l=t[e];if(!l)return;const u={progress:0,rotX:c.x,rotY:c.y,rotZ:c.z,opacity:s};r.push(u),n.push({key:e,object:o,path:l,startEuler:c,endEuler:p})}));const s=[[0,.7],[.05,.75],[.1,.8],[.15,.85],[.2,.9],[.25,.95]];v.HD,n.forEach(((e,t)=>{const o=r[t],n=s[t]||[0,1],[i,c]=n,u=i,d=c-i,h=e.path.getPointAt(0);e.object.position.copy(h),P.fromTo(o,{progress:0,rotX:e.startEuler.x,rotY:e.startEuler.y,rotZ:e.startEuler.z,opacity:o.opacity},{progress:1,rotX:e.endEuler.x,rotY:e.endEuler.y,rotZ:e.endEuler.z,opacity:v.Yy.HIDDEN,ease:"power2.out",immediateRender:!1,duration:d,onUpdate:function(){const t=a().getById("introScroll"),r=a().getById("homeScroll");if(t?.isActive||!r?.isActive)return;const n=o.progress,s=n*n*n,i=e.path.getPointAt(s);e.object.position.copy(i);let c,u,d,h,m=e.startEuler,y=e.endEuler;if("pacman"===e.key){U(w);const e=T.endEuler;c=m.x+(e.x-m.x)*s,u=m.y+(e.y-m.y)*s,d=m.z+(e.z-m.z)*s,p.Yc&&p.Yc.update(l.pm.getDelta())}else c=m.x+(y.x-m.x)*s,u=m.y+(y.y-m.y)*s,d=m.z+(y.z-m.z)*s;if(e.object.rotation.set(c,u,d),e.object.quaternion.setFromEuler(e.object.rotation),e.object.updateMatrixWorld(!1),"pacman"===e.key&&requestAnimationFrame((()=>{const t=a().getById("homeScroll");t?.isActive&&e.object&&(e.object.rotation.set(c,u,d),e.object.quaternion.setFromEuler(e.object.rotation),e.object.updateMatrixWorld(!1))})),n<.8)h=v.Yy.FULL;else{const e=(n-.8)/(1-.8);h=v.Yy.FULL*(1-e)}(0,f.tU)(e.object,h,{preserveTransmission:!0,skipCurrencySymbols:!0})}},u)}))};L()}},340:(e,t,o)=>{o.d(t,{B6:()=>b,BK:()=>s,Cv:()=>P,D4:()=>M,Ex:()=>w,H0:()=>A,HD:()=>m,KR:()=>S,OQ:()=>y,P5:()=>p,SM:()=>f,Xi:()=>l,Xt:()=>r,Ys:()=>g,Yy:()=>n,dU:()=>i,de:()=>u,f$:()=>E,jb:()=>h,pB:()=>a,pf:()=>c,qE:()=>C,rq:()=>O,tO:()=>x,u7:()=>d,y5:()=>F,yw:()=>v});const r={PACMAN_HOME:.05,PACMAN_INTRO:.1,GHOST_NORMAL:1,GHOST_INTRO:1.5,GHOST_POV:.5},n={FULL:1,HIDDEN:0},s={HOME:".sc--home.sc",INTRO:".sc--intro.sc",POV:".sc--pov.sc",OUTRO:".sc--outro.sc"},a={HOME_LOOP:.06,POV:.08},i=.1,c=.9,p=.1,l=.2,u={x:4.3,y:-2,z:0},d=800,h=.5,m=.15,y=1.5,f=.05,g=.07,v=.15,A=.01,w={START:.5,MID:.8,LARGE:1.2,END:1.5},P={NONE:0,FADE_IN:.3,HOLD:.4,FADE_OUT:.3},b={INTRO:20,NORMAL:1},E=1.1,M={PERCENTAGE:.25,MIN:2},S={PILL:{x:1,y:-1.5,z:.95}},x={PILL:{x:90,y:20,z:180}},O={PACMAN:{behindOffset:1.5,zOffset:.5,xOffset:0,yOffset:0,zPhase:0},GHOST1:{behindOffset:0,zOffset:.5,xOffset:.5,yOffset:-.5,zPhase:1*Math.PI},GHOST2:{behindOffset:-.005,zOffset:.5,xOffset:0,yOffset:-1,zPhase:1.5*Math.PI},GHOST3:{behindOffset:-.01,zOffset:.5,xOffset:.5,yOffset:.5,zPhase:1*Math.PI},GHOST4:{behindOffset:-.015,zOffset:.5,xOffset:.75,yOffset:.25,zPhase:1*Math.PI},GHOST5:{behindOffset:-.02,zOffset:.5,xOffset:0,yOffset:-.5,zPhase:1*Math.PI}},F={FREQUENCY:5,AMPLITUDE:.01,Y_MULTIPLIER:1.5};function C(e,t=0,o=1){return Math.max(t,Math.min(o,e))}},352:e=>{e.exports=gsap},365:(e,t,o)=>{o.d(t,{AN:()=>a,Km:()=>p,LQ:()=>s,LT:()=>i,gd:()=>c,tU:()=>n});var r=o(877);function n(e,t,o){const r=!1!==o?.preserveTransmission;p(e,(e=>{s(e,t,r)}),{skipCurrencySymbols:!0===o?.skipCurrencySymbols})}function s(e,t,o=!0){const r=e,n=r.opacity??1,s=r.transparent??!1,a=void 0!==r.transmission&&r.transmission>0;let i;i=!(!o||!a)||t>0;const c=Math.abs(n-t)>=1e-4,p=s!==i;(c||p)&&(c&&(r.opacity=t),p&&(r.transparent=i),(c||p)&&void 0!==r.needsUpdate&&(r.needsUpdate=!0))}function a(e,t,o=!0){const r=e,n=r.transparent??!1,s=!!(o&&void 0!==r.transmission&&r.transmission>0)||t;n!==s&&(r.transparent=s,void 0!==r.needsUpdate&&(r.needsUpdate=!0))}function i(e){let t=1,o=!1;return p(e,(e=>{o||(t=e.opacity??1,o=!0)}),{skipCurrencySymbols:!1}),t}function c(e){n(e,1,{preserveTransmission:!0,skipCurrencySymbols:!0})}function p(e,t,o){const n=!0===o?.skipCurrencySymbols,s=!0===o?.skipPacmanParts,a=o?.objectKey;e.traverse((e=>{if(e.isMesh&&e.material){const o=e,i=e.name||"";if(n&&(0,r.C1)(i))return;if(s&&"pacman"===a&&(0,r.yg)(i))return;Array.isArray(o.material)?o.material.forEach((e=>{t(e,o,i)})):t(o.material,o,i)}}))}},392:(e,t,o)=>{o.d(t,{KD:()=>d,Ks:()=>h,TB:()=>l,Ui:()=>u,Zn:()=>y});var r=o(352),n=o.n(r),s=o(910),a=o(877),i=o(365),c=o(641),p=o(340);function l(e,t){e&&(Object.entries(s.VQ).forEach((([e,t])=>{n().set(t,{visible:!0}),(0,c.kU)(t,e,"home"),(0,i.Km)(t,((e,t,o)=>{(0,a.C1)(o)?t.visible=!1:t.visible=!0}),{skipCurrencySymbols:!1}),(0,i.gd)(t)})),(0,c.pX)(!0,p.Yy.FULL,!1))}function u(e,t,o,r){e&&(o&&r&&Object.entries(s.VQ).forEach((([e,t])=>{o[e]&&(t.position.set(o[e].x,o[e].y,o[e].z),n().set(t.position,{x:o[e].x,y:o[e].y,z:o[e].z})),n().set(t,{visible:!0}),(0,c.kU)(t,e,"home"),(0,i.Km)(t,((e,t,o)=>{(0,a.C1)(o)?t.visible=!1:(t.visible=!0,(0,i.AN)(e,!0,!0))}),{skipCurrencySymbols:!1})})),(0,c.pX)(!0,p.Yy.FULL,!1))}function d(e,t){e&&(s.VQ.pacman&&n().set(s.VQ.pacman,{visible:!1}),Object.entries(s.VQ).forEach((([e,t])=>{"pacman"!==e&&(n().set(t,{visible:!1}),(0,c.kU)(t,e,"pov"),(0,i.Km)(t,(e=>{(0,i.LQ)(e,1,!0)}),{skipCurrencySymbols:!1}))})),(0,c.pX)(!0,p.Yy.FULL,!1))}function h(e,t){e&&(0,c.pX)(!0,p.Yy.FULL,!1)}let m=window.scrollY;function y(){const e=window.scrollY,t=e>m?"down":"up";return m=e,t}},417:(e,t,o)=>{o.d(t,{F:()=>r,k:()=>n});const r=window.innerWidth<768,n={mazeTexture:"https://c-am.b-cdn.net/CAM/matcap24.png",mazeModel:"https://c-am.b-cdn.net/CAM/c-am-assets-3.glb"}},522:(e,t,o)=>{o.d(t,{A5:()=>f,J$:()=>d,Qf:()=>m,X2:()=>y,Yw:()=>g,bd:()=>A,do:()=>v,e5:()=>w,et:()=>h,gZ:()=>u,uN:()=>P});var r=o(910),n=o(365);const s={t:0,animationTime:0},a={};let i={},c={},p=null,l=!1;function u(e){l=e}function d(e,t){s.t=e,s.animationTime=t}function h(){Object.entries(r.VQ).forEach((([e,t])=>{const o=(0,n.LT)(t);a[e]={position:t.position.clone(),rotation:t.quaternion.clone(),scale:t.scale.clone(),visible:t.visible,opacity:o}}))}function m(){const e={};return Object.entries(a).forEach((([t,o])=>{e[t]=o.position.clone()})),e}function y(){const e={};return Object.entries(a).forEach((([t,o])=>{e[t]=o.rotation.clone()})),e}function f(e,t,o=!1,r=!1){(l||o)&&(a[e]&&a[e].position.copy(t),r&&(i[e]=t.clone()))}function g(){return{...i}}function v(e,t,o=!1){a[e]&&a[e].rotation.copy(t),o&&(c[e]=t.clone())}function A(){return Object.entries(c).reduce(((e,[t,o])=>(e[t]=o.clone(),e)),{})}function w(e){p=e}function P(){return p}},543:(e,t,o)=>{o.d(t,{Jf:()=>a,KE:()=>l,Pw:()=>u,wb:()=>d});var r=o(909),n=o(991);const s=new Map;class a{constructor(e,t=.06){this.currentTangent=e.clone(),this.smoothing=t}update(e){return this.currentTangent.lerp(e,this.smoothing),this.currentTangent.normalize()}reset(e){this.currentTangent.copy(e)}getCurrentTangent(){return this.currentTangent.clone()}setSmoothingFactor(e){this.smoothing=Math.max(.001,Math.min(1,e))}}function i(e){const t=e.map((e=>`${e.pos.x},${e.pos.y},${e.pos.z},${e.type},${e.arc||""}`)).join("|");if(s.has(t))return s.get(t);const o=new r.CurvePath;let n=0;for(;n<e.length-1;){const t=e[n],s=e[n+1];if(t.curveCheckPoints?.length){const e=[t.pos,...t.curveCheckPoints,s.pos];o.add(new r.CatmullRomCurve3(e,!1,"centripetal",0))}else if("straight"===t.type)o.add(new r.LineCurve3(t.pos,s.pos));else{const e=c(t,s);o.add(new r.QuadraticBezierCurve3(t.pos,e,s.pos))}n++}return s.set(t,o),o}function c(e,t){if(e.arc){const o=e.arc;if("upperArc"===o)return new r.Vector3(e.pos.x,e.pos.y,t.pos.z);if("lowerArc"===o)return new r.Vector3(t.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===o)return new r.Vector3(e.pos.x,t.pos.y,e.pos.z)}return new r.Vector3(e.pos.x,e.pos.y,t.pos.z)}function p(e){const t=new r.CurvePath;if(4===e.length){const o=new r.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(o)}return t}function l(){const e={};return Object.entries(n._t).forEach((([t,o])=>{e[t]=i(o)})),e}function u(e){const t=(0,n.h5)(e),o={camera:p((0,n.Y)())};return Object.entries(t).forEach((([e,t])=>{o[e]=function(e){const t=new r.CurvePath;if(3===e.length){const o=new r.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);t.add(o)}return t}(t)})),o}function d(){const e={};return Object.entries(n.WZ).forEach((([t,o])=>{e[t]=i(o)})),e}},606:(e,t,o)=>{o.d(t,{Dz:()=>y,JH:()=>i,Ki:()=>u,SH:()=>h,fl:()=>f,mS:()=>m,pm:()=>p});var r=o(909),n=o(417),s=o(13),a=o(771);const i=new r.Scene,c=new r.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),p=new r.Clock,l=[];function u(){n.F?c.setPixelRatio(Math.min(window.devicePixelRatio,2)):c.setPixelRatio(window.devicePixelRatio),c.shadowMap.enabled=!0,c.shadowMap.type=r.PCFSoftShadowMap,s.l.mazeContainer?(c.setSize(s.l.mazeContainer.clientWidth,s.l.mazeContainer.clientHeight),s.l.mazeContainer.appendChild(c.domElement)):(c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement)),d(),window.addEventListener("resize",d),c.render(i,a.U)}function d(){const e=Math.min(window.devicePixelRatio,n.F?2:3);c.setPixelRatio(e),s.l.mazeContainer?(c.setSize(s.l.mazeContainer.clientWidth,s.l.mazeContainer.clientHeight),a.U.aspect=s.l.mazeContainer.clientWidth/s.l.mazeContainer.clientHeight):(c.setSize(window.innerWidth,window.innerHeight),a.U.aspect=window.innerWidth/window.innerHeight),a.U.updateProjectionMatrix()}function h(){const e=new r.AmbientLight(16777215);i.add(e);const t=new r.DirectionalLight(16777215,.8);i.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}function m(){const e=new r.Scene,t=new r.BoxGeometry(100,100,100),o=new r.MeshBasicMaterial({color:6710886,side:r.BackSide}),n=new r.Mesh(t,o);e.add(n);const s=new r.WebGLCubeRenderTarget(256);new r.CubeCamera(.1,1e3,s).update(c,e),i.environment=s.texture}function y(){const e=()=>{l.forEach((e=>e())),c.render(i,a.U),requestAnimationFrame(e)};e()}function f(e){l.push(e)}},641:(e,t,o)=>{o.d(t,{DB:()=>u,kU:()=>l,pX:()=>p});var r=o(352),n=o.n(r),s=o(909),a=o(606),i=o(340),c=o(365);function p(e,t=i.Yy.FULL,o=!1){a.JH.traverse((r=>{if("CAM-Floor"===r.name&&(r.visible=e,r instanceof s.Mesh&&r.material)){const e=r.material;e.color.setHex(16777215),e.opacity=t,e.transparent=o}}))}function l(e,t,o){let r;r="pacman"===t?"intro"===o?i.Xt.PACMAN_INTRO:i.Xt.PACMAN_HOME:"intro"===o?i.Xt.GHOST_INTRO:"pov"===o?i.Xt.GHOST_POV:i.Xt.GHOST_NORMAL,e.scale.set(r,r,r),e.updateMatrixWorld(!0),n().set(e.scale,{x:r,y:r,z:r})}function u(e){n().killTweensOf(e),n().killTweensOf(e.scale),n().killTweensOf(e.position),n().killTweensOf(e.rotation),n().killTweensOf(e.quaternion),(0,c.Km)(e,(e=>{n().killTweensOf(e),n().killTweensOf(e.opacity)}),{skipCurrencySymbols:!1})}},771:(e,t,o)=>{o.d(t,{U:()=>s,t:()=>a});var r=o(909),n=o(991);const s=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100);function a(){const e=(0,n.k6)(),t=(0,n.IS)();s.position.set(e.x,e.y,e.z),s.lookAt(t.x,t.y,t.z)}},774:e=>{e.exports=ScrollTrigger},877:(e,t,o)=>{o.d(t,{C1:()=>a,C5:()=>c,Ws:()=>d,XQ:()=>n,mc:()=>l,mh:()=>h,yg:()=>i});var r=o(909);const n=["pacman","ghost1","ghost2","ghost3","ghost4","ghost5"],s=["EUR","CHF","YEN","USD","GBP"];function a(e){return s.some((t=>e===t||e.includes(t)))}function i(e){return e.includes("Shell")||e.includes("Bitcoin_1")||e.includes("Bitcoin_2")}function c(e,t,o="ghost"){if(!t?.length())return;const r=Math.atan2(t.x,t.z);if("pacman"===o)e.rotation.set(-Math.PI/2,Math.PI,-(r+Math.PI/2));else if("ghost"===o)e.rotation.set(0,r,0);else if("camera"===o){const o=e.position.clone().add(t);e.lookAt(o)}}const p=(new r.Quaternion).setFromEuler(new r.Euler(Math.PI/2,0,0)),l=(new r.Quaternion).setFromAxisAngle(new r.Vector3(0,1,0),Math.PI).clone().multiply(p),u=(new r.Quaternion).setFromEuler(new r.Euler(-Math.PI/2,0,0));function d(e,t,o){const r=t.angleTo(l)<t.angleTo(u)?l:u;e.quaternion.copy(t.clone().slerp(r,o))}function h(e,t){let o=e.clone();return t.forEach((({axis:e,angle:t})=>{o=function(e,t,o){const n="x"===t?new r.Vector3(1,0,0):"y"===t?new r.Vector3(0,1,0):new r.Vector3(0,0,1),s=(new r.Quaternion).setFromAxisAngle(n,o);return e.clone().multiply(s)}(o,e,t)})),o}},909:e=>{e.exports=THREE},910:(e,t,o)=>{o.d(t,{VQ:()=>u,cm:()=>m,yw:()=>p,Yc:()=>c,Io:()=>d});var r=o(909);function n(e){let t,o,n,s=-1,a=0;for(let r=0;r<e.length;++r){const i=e[r];if(i.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===o&&(o=i.itemSize),o!==i.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===n&&(n=i.normalized),n!==i.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===s&&(s=i.gpuType),s!==i.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;a+=i.array.length}const i=new t(a);let c=0;for(let t=0;t<e.length;++t)i.set(e[t].array,c),c+=e[t].array.length;const p=new r.BufferAttribute(i,o,n);return void 0!==s&&(p.gpuType=s),p}var s=o(417),a=(o(606),o(68));const i=new r.GLTFLoader;let c,p={};const l=new r.Group,u={pacman:l,ghost1:new r.Mesh(new r.BufferGeometry,a.rF),ghost2:new r.Mesh(new r.BufferGeometry,a.rF),ghost3:new r.Mesh(new r.BufferGeometry,a.rF),ghost4:new r.Mesh(new r.BufferGeometry,a.rF),ghost5:new r.Mesh(new r.BufferGeometry,a.rF)},d=new r.Group;d.visible=!0;const h={Ghost_EUR:u.ghost1,Ghost_CHF:u.ghost2,Ghost_YEN:u.ghost3,Ghost_USD:u.ghost4,Ghost_GBP:u.ghost5};async function m(e){return Object.values(u).forEach((t=>e.add(t))),e.add(l),e.add(d),new Promise(((t,o)=>{i.load(s.k.mazeModel,(function(o){const s=o.scene;s.traverse((t=>{if("CAM-Pacman"===t.name){const e=[];t.traverse((t=>{if(t.isMesh&&"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name){const o=a.S5[t.name]||a.S5.default;t.material=o,e.push(t)}else"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name||(t.visible=!1)})),e.forEach((e=>u.pacman.add(e))),u.pacman.scale.set(.05,.05,.05),u.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),c=new r.AnimationMixer(u.pacman),p={},o.animations.forEach((e=>{const t=c.clipAction(e);t.getMixer().addEventListener("loop",(function(e){e.action.getRoot().traverse((function(e){e.userData&&e.userData.skipAnimation&&(e.updateMorphTargets=function(){})}))})),p[e.name]=t,t.setEffectiveWeight(0),t.play()})),Object.values(p).forEach((e=>{e.setEffectiveWeight(1)}))}else if(t.name&&h[t.name]){const e=h[t.name],o=new r.Group;t.rotation.z=Math.PI,t.rotation.x=Math.PI/2,t.scale.set(.75,.75,.75);const n=[];t.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=a.rF:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),n.push(e))})),n.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),o.add(e)})),e&&e.add(o)}else if(t.name&&!t.name.toLowerCase().includes("pacman")&&("CAM-Pill-Orange"===t.name||t.name.toLowerCase().includes("pill")&&t.name.toLowerCase().includes("orange"))){const e=new r.Group,o=[],s=[];if(t.traverse((e=>{if(e.isMesh){const t=e,r=e.name||"",n=t.clone(),a=r.toLowerCase(),i=a.includes("shell"),c=a.includes("bitcoin")||a.includes("btc_logo");i?o.push(n):s.push({mesh:n,name:r,isBitcoin:c})}})),o.length>0){const t=o.map((e=>{const t=e.geometry.clone();return t.applyMatrix4(e.matrixWorld),t}));let s;s=1===t.length?t[0]:function(e,t=!1){const o=null!==e[0].index,s=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),i={},c={},p=e[0].morphTargetsRelative,l=new r.BufferGeometry;let u=0;for(let r=0;r<e.length;++r){const n=e[r];let d=0;if(o!==(null!==n.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in n.attributes){if(!s.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[e]&&(i[e]=[]),i[e].push(n.attributes[e]),d++}if(d!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". Make sure all geometries have the same number of attributes."),null;if(p!==n.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in n.morphAttributes){if(!a.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===c[e]&&(c[e]=[]),c[e].push(n.morphAttributes[e])}if(t){let e;if(o)e=n.index.count;else{if(void 0===n.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". The geometry must have either an index or a position attribute"),null;e=n.attributes.position.count}l.addGroup(u,e,r),u+=e}}if(o){let t=0;const o=[];for(let r=0;r<e.length;++r){const n=e[r].index;for(let e=0;e<n.count;++e)o.push(n.getX(e)+t);t+=e[r].attributes.position.count}l.setIndex(o)}for(const e in i){const t=n(i[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" attribute."),null;l.setAttribute(e,t)}for(const e in c){const t=c[e][0].length;if(0===t)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[e]=[];for(let o=0;o<t;++o){const t=[];for(let r=0;r<c[e].length;++r)t.push(c[e][r][o]);const r=n(t);if(!r)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" morphAttribute."),null;l.morphAttributes[e].push(r)}}return l}(t),s.computeBoundingBox();const i=s.boundingBox,c=(i.max.y+i.min.y)/2;t.forEach((e=>{e!==s&&e.dispose()}));const{topGeometry:p,bottomGeometry:l}=function(e,t){const o=e.toNonIndexed().attributes.position.array,n=[],s=[];for(let e=0;e<o.length;e+=9){const r=(o[e+1]+o[e+4]+o[e+7])/3,a=[o[e],o[e+1],o[e+2],o[e+3],o[e+4],o[e+5],o[e+6],o[e+7],o[e+8]];r>=t?n.push(...a):s.push(...a)}const a=new r.BufferGeometry;a.setAttribute("position",new r.BufferAttribute(new Float32Array(n),3));const i=new r.BufferGeometry;return i.setAttribute("position",new r.BufferAttribute(new Float32Array(s),3)),a.computeVertexNormals(),i.computeVertexNormals(),{topGeometry:a,bottomGeometry:i}}(s,c),u=new r.Mesh(p,a.D8.shellBack.clone());u.visible=!0,u.castShadow=!0,u.receiveShadow=!0,e.add(u);const d=new r.Mesh(l,a.D8.shellFront.clone());d.visible=!0,d.castShadow=!0,d.receiveShadow=!0,e.add(d)}s.forEach((({mesh:t,name:o,isBitcoin:r})=>{t.material=r?a.D8.bitcoin:a.D8.default,t.visible=!0,t.castShadow=!0,t.receiveShadow=!0,e.add(t)})),e.children.length>0&&d.add(e)}if(t.isMesh)if("CAM-Arena_LowRes_Top"===t.name)t.material=a.Ro,t.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===t.name)t.material=a.xv,t.castShadow=!0;else if("CAM-Floor"===t.name){const o=t.clone();t.position.y=-.1,t.position.x=0,t.position.z=0,t.material=new r.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:r.FrontSide}),t.receiveShadow=!1,t.castShadow=!0,t.scale.set(.5,.5,.5),o.material=a.Md,o.position.y=-.5,o.receiveShadow=!0,e.add(o)}else t.visible=!1;t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0)})),e.add(s),s.position.set(.5,.5,.5),d.children.length>0&&(d.scale.set(.05,.05,.05),d.visible=!0,d.traverse((e=>{e.isMesh&&(e.visible=!0)}))),t()}),void 0,(function(e){o(e)}))}))}},991:(e,t,o)=>{o.d(t,{h5:()=>z,Y:()=>V,IS:()=>T,k6:()=>k,_t:()=>U,WZ:()=>L,oG:()=>I});var r=o(909),n=o(417);const s={0:-.54875,.5:-.4985,1:-.44825,1.5:-.398,2:-.34775,2.5:-.2975,3:-.24725,3.5:-.197,4:-.14675,4.5:-.0965,5:-.04625,5.5:.004,6:.05425,6.5:.1045,7:.15475,7.5:.205,8:.25525,8.5:.3055,9:.35575,9.5:.406,10:.45625,10.5:.5065,11:.55675,11.5:.607,12:.65725,12.5:.7075,13:.75775,13.5:.808,14:.85825,14.5:.9085,15:.95875,15.5:1.009,16:1.05925,16.5:1.1095,17:1.15975,17.5:1.21,18:1.26025,18.5:1.3105,19:1.36075,19.5:1.411,20:1.46125},a={0:-.302,.5:-.25175,1:-.2015,1.5:-.15125,2:-.101,2.5:-.05075,3:-5e-4,3.5:.04975,4:.1,4.5:.15025,5:.2005,5.5:.25075,6:.301,6.5:.35125,7:.4015,7.5:.45175,8:.502,8.5:.55225,9:.6025,9.5:.65275,10:.703,10.5:.75325,11:.8035,11.5:.85375,12:.904,12.5:.95425,13:1.0045,13.5:1.05475,14:1.105,14.5:1.15525,15:1.2055,15.5:1.25575,16:1.306},i=(e,t)=>new r.Vector3(s[e],.55,a[t]),c=new r.Vector3(.55675,.35,.45175),p={startMobile:new r.Vector3(.5,2.5,2.5),startDesktop:new r.Vector3(-2,2.5,2),secondMobile:new r.Vector3(.5,2.5,2),secondDesktop:new r.Vector3(-1.5,3,.75),mobileLookAt:new r.Vector3(.5,.5,-1.5),desktopLookAt:new r.Vector3(-1.25,.5,.25),cameraLookAtSecondDesktop:new r.Vector3(-.75,.5,-.75),cameraLookAtSecondMobile:new r.Vector3(-.75,.5,-.75),cameraHomeScrollEndLookAt:new r.Vector3(.55675,-5,.35),thirdPosition:new r.Vector3(.55675,3,.45175),cameraHomeScrollEndPathPoint:new r.Vector3(.55675,.5,.45175)},l=n.F?p.startMobile:p.startDesktop,u=n.F?p.secondMobile:p.secondDesktop,d=n.F?p.mobileLookAt:p.desktopLookAt,h=n.F?p.cameraLookAtSecondMobile:p.cameraLookAtSecondDesktop,m=p.thirdPosition,y=p.cameraHomeScrollEndLookAt,f=p.cameraHomeScrollEndPathPoint,g=[{pos:i("8","9"),type:"straight"},{pos:i("8","6"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("10","4"),type:"straight"},{pos:i("10","2"),type:"curve",arc:"upperArc"},{pos:i("9","1"),type:"straight"},{pos:i("7","1"),type:"curve",arc:"lowerArc"},{pos:i("6","2"),type:"curve",arc:"upperArc"},{pos:i("5","3"),type:"curve",arc:"lowerArc"},{pos:i("4","2"),type:"curve",arc:"upperArc"},{pos:i("3","1"),type:"straight",curveCheckPoints:[i("2","1"),i("1","2"),i("1","2.5"),i("1.5","3"),i("2","3.5")]},{pos:i("2","4"),type:"curve",arc:"upperArc"},{pos:i("3","5"),type:"straight"},{pos:i("5","5"),type:"curve",arc:"lowerArc"},{pos:i("6","6"),type:"curve",arc:"upperArc"},{pos:i("5","7"),type:"straight"},{pos:i("4","7"),type:"curve",arc:"lowerArc"},{pos:i("3","8"),type:"curve",arc:"upperArc"},{pos:i("4","9"),type:"straight"},{pos:i("5","9"),type:"curve",arc:"lowerArc"},{pos:i("6","10"),type:"curve",arc:"upperArc"},{pos:i("5","11"),type:"straight",curveCheckPoints:[i("3","11"),i("2","12"),i("1.5","13"),i("1","14"),i("2","15"),i("3","15"),i("4","14"),i("5","13")]},{pos:i("6","13"),type:"curve",arc:"lowerArc"},{pos:i("7","14"),type:"curve",arc:"upperArc"},{pos:i("6","15"),type:"straight"},{pos:i("5","15"),type:"curve",arc:"lowerArc"},{pos:i("4","14"),type:"curve",arc:"upperArc"},{pos:i("5","13"),type:"straight",curveCheckPoints:[i("12","13"),i("13","12"),i("12.5","11"),i("12","10.5"),i("11","10"),i("10","10.5"),i("9","11"),i("8","10"),i("8","9.5")]},{pos:i("8","9"),type:"straight"}],v=[{pos:i("1","10"),type:"straight"},{pos:i("1","6"),type:"curve",arc:"upperArc"},{pos:i("2","5"),type:"straight"},{pos:i("3","5"),type:"curve",arc:"lowerArc"},{pos:i("4","4"),type:"curve",arc:"upperArc"},{pos:i("5","3"),type:"straight"},{pos:i("9","3"),type:"curve",arc:"lowerArc"},{pos:i("10","4"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"straight",curveCheckPoints:[i("8","10"),i("9","11"),i("10","10.5"),i("11","10"),i("12","10.5"),i("13","11"),i("15","11"),i("16","10.5"),i("17","10"),i("18","10.5"),i("19","11"),i("20","10")]},{pos:i("20","6"),type:"curve",arc:"upperArc"},{pos:i("19","5"),type:"straight"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"straight",curveCheckPoints:[i("8","8"),i("7","9"),i("6","10"),i("5.5","11"),i("5","12"),i("6","13"),i("7","14"),i("6","15"),i("5","15"),i("4","14"),i("4.5","13"),i("5","12"),i("4","11")]},{pos:i("1","10"),type:"straight"}],A=[{pos:i("5","12"),type:"curve",arc:"upperArc",curveCheckPoints:[i("5.5","11")]},{pos:i("6","10"),type:"curve",arc:"upperArc"},{pos:i("5","9"),type:"straight"},{pos:i("4","9"),type:"curve",arc:"lowerArc"},{pos:i("3","8"),type:"curve",arc:"upperArc"},{pos:i("4","7"),type:"straight"},{pos:i("7","7"),type:"curve",arc:"lowerArc"},{pos:i("8","8"),type:"straight"},{pos:i("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[i("8.5","11"),i("9","12")]},{pos:i("10","13"),type:"straight"},{pos:i("12","13"),type:"curve",arc:"lowerArc"},{pos:i("13","14"),type:"curve",arc:"upperArc"},{pos:i("14","15"),type:"straight"},{pos:i("19","15"),type:"curve",arc:"lowerArc"},{pos:i("20","14"),type:"straight"},{pos:i("20","4"),type:"curve",arc:"upperArc"},{pos:i("19","3"),type:"straight"},{pos:i("17","3"),type:"curve",arc:"lowerArc"},{pos:i("16","4"),type:"curve",arc:"upperArc"},{pos:i("15","5"),type:"curve",arc:"lowerArc"},{pos:i("14","4"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("12","1.5")]},{pos:i("11","2"),type:"curve",arc:"lowerArc"},{pos:i("10","3"),type:"straight"},{pos:i("10","4"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"straight"},{pos:i("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[i("8.5","11")]},{pos:i("9","12"),type:"curve",arc:"upperArc"},{pos:i("8","13"),type:"curve",arc:"lowerArc"},{pos:i("7","14"),type:"curve",arc:"upperArc"},{pos:i("6","15"),type:"straight"},{pos:i("5","15"),type:"curve",arc:"lowerArc"},{pos:i("4","14"),type:"curve",arc:"upperArc",curveCheckPoints:[i("4.5","13"),i("5","12")]}],w=[{pos:i("14","10.5"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("12","1.5"),i("11","2"),i("10","1.5")]},{pos:i("9","1"),type:"straight"},{pos:i("7","1"),type:"curve",arc:"lowerArc"},{pos:i("6","2"),type:"curve",arc:"upperArc"},{pos:i("7","3"),type:"straight"},{pos:i("9","3"),type:"curve",arc:"lowerArc"},{pos:i("10","4"),type:"curve",arc:"upperArc"},{pos:i("11","5"),type:"straight"},{pos:i("19","5"),type:"curve",arc:"lowerArc"},{pos:i("20","6"),type:"straight"},{pos:i("20","10"),type:"curve",arc:"upperArc"},{pos:i("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("18","10.5"),i("17","10"),i("16","10.5"),i("15.5","11")]},{pos:i("15","12"),type:"straight"},{pos:i("15","14"),type:"curve",arc:"upperArc"},{pos:i("14","15"),type:"curve",arc:"lowerArc"},{pos:i("13","14"),type:"straight"},{pos:i("13","12"),type:"curve",arc:"upperArc",curveCheckPoints:[i("12.5","11"),i("12","10.5"),i("10","10.5")]},{pos:i("9","11"),type:"curve",arc:"lowerArc"},{pos:i("8","10"),type:"curve",arc:"upperArc"},{pos:i("7","9"),type:"curve",arc:"lowerArc"},{pos:i("6","10"),type:"curve",arc:"upperArc",curveCheckPoints:[i("5.5","11")]},{pos:i("5","12"),type:"curve",arc:"upperArc"},{pos:i("6","13"),type:"straight"},{pos:i("12","13"),type:"curve",arc:"lowerArc"},{pos:i("13","12"),type:"curve",arc:"upperArc"},{pos:i("13.5","11"),type:"curve",arc:"lowerArc"},{pos:i("14","10.5"),type:"straight"}],P=[{pos:i("16","7"),type:"straight"},{pos:i("16","10"),type:"curve",arc:"upperArc"},{pos:i("15","11"),type:"straight"},{pos:i("14","11"),type:"curve",arc:"lowerArc"},{pos:i("13","12"),type:"curve",arc:"upperArc"},{pos:i("12","13"),type:"straight"},{pos:i("8","13"),type:"curve",arc:"lowerArc"},{pos:i("7","14"),type:"curve",arc:"upperArc"},{pos:i("6","15"),type:"straight"},{pos:i("2","15"),type:"curve",arc:"lowerArc"},{pos:i("1","14"),type:"curve",arc:"upperArc",curveCheckPoints:[i("1.5","13"),i("2","12"),i("1.5","11")]},{pos:i("1","10"),type:"straight"},{pos:i("1","6"),type:"curve",arc:"upperArc"},{pos:i("2","5"),type:"straight"},{pos:i("5","5"),type:"curve",arc:"lowerArc"},{pos:i("6","6"),type:"curve",arc:"upperArc"},{pos:i("7","7"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"straight"},{pos:i("13","5"),type:"curve",arc:"lowerArc"},{pos:i("14","4"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("15","1"),type:"curve",arc:"lowerArc"},{pos:i("16","2"),type:"curve",arc:"upperArc"},{pos:i("17","3"),type:"straight"},{pos:i("19","3"),type:"curve",arc:"lowerArc"},{pos:i("20","2"),type:"curve",arc:"upperArc"},{pos:i("19","1"),type:"curve",arc:"lowerArc"},{pos:i("18","2"),type:"curve",arc:"upperArc"},{pos:i("19","3"),type:"curve",arc:"lowerArc"},{pos:i("20","4"),type:"straight"},{pos:i("20","10"),type:"curve",arc:"upperArc"},{pos:i("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("18","10.5")]},{pos:i("17","10"),type:"curve",arc:"lowerArc"},{pos:i("16","9"),type:"straight"},{pos:i("16","7"),type:"straight"}],b=[{pos:i("10","3.5"),type:"curve",arc:"upperArc"},{pos:i("9","3"),type:"straight"},{pos:i("5","3"),type:"curve",arc:"lowerArc"},{pos:i("4","2"),type:"curve",arc:"upperArc"},{pos:i("3","1"),type:"straight"},{pos:i("2","1"),type:"curve",arc:"lowerArc"},{pos:i("1","2"),type:"curve",arc:"upperArc"},{pos:i("1.5","3"),type:"curve",arc:"lowerArc"},{pos:i("2","4"),type:"curve",arc:"upperArc"},{pos:i("3","5"),type:"straight"},{pos:i("5","5"),type:"curve",arc:"lowerArc"},{pos:i("6","6"),type:"curve",arc:"upperArc"},{pos:i("5","7"),type:"straight"},{pos:i("4","7"),type:"curve",arc:"lowerArc"},{pos:i("3","8"),type:"curve",arc:"upperArc"},{pos:i("4","9"),type:"straight"},{pos:i("7","9"),type:"curve",arc:"lowerArc"},{pos:i("8","10"),type:"curve",arc:"upperArc"},{pos:i("8.5","11"),type:"curve",arc:"lowerArc"},{pos:i("9","12"),type:"curve",arc:"upperArc"},{pos:i("10","13"),type:"straight"},{pos:i("12","13"),type:"curve",arc:"lowerArc"},{pos:i("13","12"),type:"curve",arc:"upperArc"},{pos:i("14","11"),type:"curve",arc:"lowerArc"},{pos:i("15","12"),type:"curve",arc:"upperArc"},{pos:i("15","14"),type:"curve",arc:"upperArc"},{pos:i("16","15"),type:"straight"},{pos:i("19","15"),type:"curve",arc:"lowerArc"},{pos:i("20","14"),type:"straight"},{pos:i("20","2"),type:"curve",arc:"upperArc"},{pos:i("19","1"),type:"straight"},{pos:i("17","1"),type:"curve",arc:"lowerArc"},{pos:i("16","2"),type:"straight"},{pos:i("16","4"),type:"curve",arc:"upperArc"},{pos:i("15","5"),type:"curve",arc:"lowerArc"},{pos:i("14","4"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("13","1"),type:"curve",arc:"lowerArc"},{pos:i("12","1.5"),type:"curve",arc:"upperArc"},{pos:i("11","2"),type:"curve",arc:"lowerArc"},{pos:i("10","3.5"),type:"curve",arc:"lowerArc"}],E=[{pos:l,lookAt:d},{pos:u,lookAt:h},{pos:m,lookAt:y},{pos:f,lookAt:y}],M=[{pos:new r.Vector3(s[11],.40625,a[7.5]),type:"straight",lookAtSequence:[new r.Vector3(s[11],.2,a[8]),new r.Vector3(s[11],1.2,a[16]),new r.Vector3(s[11],.55,a[16])]},{pos:i("11","7.5"),type:"curve",arc:"lowerArc"},{pos:i("11","9"),type:"curve",arc:"upperArc",curveCheckPoints:[new r.Vector3(s[11],.55,.6525),i("11.5","10"),i("12","10.5"),i("12.5","11")]},{pos:i("13","11"),type:"straight"},{pos:i("14.5","11"),type:"curve",arc:"lowerArc"},{pos:i("15","11.5"),type:"straight"},{pos:i("15","14.5"),type:"curve",arc:"upperArc"},{pos:i("14.5","15"),type:"straight"},{pos:i("13.5","15"),type:"curve",arc:"lowerArc"},{pos:i("13","14.5"),type:"straight"},{pos:i("13","13.5"),type:"curve",arc:"upperArc"},{pos:i("12.5","13"),type:"straight"},{pos:i("7.5","13"),type:"curve",arc:"lowerArc"},{pos:i("7","13.5"),type:"straight"},{pos:i("7","14.5"),type:"curve",arc:"upperArc"},{pos:i("7.5","15"),type:"straight"},{pos:i("10.5","15"),type:"curve",arc:"lowerArc"},{pos:i("11","16"),type:"curve",arc:"upperArc"}],S=[{pos:i("16","10"),type:"straight"},{pos:i("16","10.5"),type:"curve",arc:"upperArc"},{pos:i("15.5","11"),type:"straight"},{pos:i("14.5","11"),type:"straight"}],x=[{pos:i("16","15"),type:"straight"},{pos:i("15.5","15"),type:"curve",arc:"lowerArc"},{pos:i("15","14.5"),type:"straight"},{pos:i("15","13.5"),type:"straight"}],O=[{pos:i("9","12"),type:"straight"},{pos:i("9","12.5"),type:"curve",arc:"upperArc"},{pos:i("9.5","13"),type:"straight"},{pos:i("10.5","13"),type:"straight"}],F=[{pos:i("7","14"),type:"straight"},{pos:i("7","13.5"),type:"curve",arc:"upperArc"},{pos:i("7.5","13"),type:"straight"},{pos:i("8.5","13"),type:"straight"}],C=[{pos:i("11","16"),type:"straight"},{pos:i("11","15.5"),type:"curve",arc:"upperArc"},{pos:i("10.5","15"),type:"straight"},{pos:i("9.5","15"),type:"straight"}],I={ghost1:{triggerPos:new r.Vector3(.65725,.55,.75325),ghostStartFadeIn:new r.Vector3(.7075,.55,.8035),ghostEndFadeIn:new r.Vector3(.725,.55,.8035),ghostStartFadeOut:new r.Vector3(.75,.55,.8035),camStartFadeIn:new r.Vector3(.75775,.55,.8035),camEndFadeIn:new r.Vector3(.775,.55,.8035),camStartFadeOut:new r.Vector3(.84,.55,.8035),endPosition:new r.Vector3(.85825,.55,.8035),forceEndProgress:{start:.1,end:.16}},ghost2:{triggerPos:new r.Vector3(.9085,.55,.8035),ghostStartFadeIn:new r.Vector3(.95875,.55,.85375),ghostEndFadeIn:new r.Vector3(.95875,.55,.875),ghostStartFadeOut:new r.Vector3(.95875,.55,.89),camStartFadeIn:new r.Vector3(.95875,.55,.904),camEndFadeIn:new r.Vector3(.95875,.55,.93),camStartFadeOut:new r.Vector3(.95875,.55,.9975),endPosition:new r.Vector3(.95875,.55,1.0045),forceEndProgress:{start:.17,end:.22}},ghost3:{triggerPos:new r.Vector3(.75775,.55,1.05475),ghostStartFadeIn:new r.Vector3(.7075,.55,1.0045),ghostEndFadeIn:new r.Vector3(.7075,.55,1.0045),ghostStartFadeOut:new r.Vector3(.6825,.55,1.0045),camStartFadeIn:new r.Vector3(.65725,.55,1.0045),camEndFadeIn:new r.Vector3(.65725,.55,1.0045),camStartFadeOut:new r.Vector3(.6065,.55,1.0045),endPosition:new r.Vector3(.55675,.55,1.0045),forceEndProgress:{start:.23,end:.33}},ghost4:{triggerPos:new r.Vector3(.65725,.55,1.0045),ghostStartFadeIn:new r.Vector3(.5565,.55,1.0045),ghostEndFadeIn:new r.Vector3(.5065,.55,1.0045),ghostStartFadeOut:new r.Vector3(.4815,.55,1.0045),camStartFadeIn:new r.Vector3(.45625,.55,1.0045),camEndFadeIn:new r.Vector3(.45625,.55,1.0045),camStartFadeOut:new r.Vector3(.4065,.55,1.0045),endPosition:new r.Vector3(.35575,.55,1.0045),forceEndProgress:{start:.38,end:.47}},ghost5:{triggerPos:new r.Vector3(.15475,.55,1.15525),ghostStartFadeIn:new r.Vector3(.1795,.55,1.18),ghostEndFadeIn:new r.Vector3(.205,.55,1.2055),ghostStartFadeOut:new r.Vector3(.23025,.55,1.2055),camStartFadeIn:new r.Vector3(.25525,.55,1.2055),camEndFadeIn:new r.Vector3(.25525,.55,1.2055),camStartFadeOut:new r.Vector3(.3055,.55,1.2055),endPosition:new r.Vector3(.35575,.55,1.2055),forceEndProgress:{start:.52,end:.59}}};function k(){return l}function T(){return d}const U={pacman:g,ghost1:v,ghost2:A,ghost3:w,ghost4:P,ghost5:b},L={camera:M,ghost1:S,ghost2:x,ghost3:O,ghost4:F,ghost5:C};function z(e){const t={};return Object.entries(e).forEach((([e,o])=>{const n=new r.Vector3(o.x*(1/4)+c.x*(3/4),2,o.z*(1/4)+c.z*(3/4));t[e]=[{pos:o.clone()},{pos:n},{pos:c}]})),t}function V(){return E}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=o(606),n=o(909),s=o(352),a=o.n(s),i=o(774),c=o.n(i),p=o(771),l=o(910),u=o(543),d=o(70),h=o(877),m=o(392),y=o(340),f=o(641),g=o(522),v=o(991);let A=!0,w=0,P=!1,b=0,E={},M=!1;const S={},x=Object.entries(l.VQ),O=new n.Object3D,F=new n.Quaternion,C={};function I(){if(!A)return;A=!1,(0,g.gZ)(!1),M=!0;const e=w%50/50;(0,g.e5)(e),Object.entries(l.VQ).forEach((([e,t])=>{(0,g.A5)(e,t.position.clone(),!0,!0),(0,g.do)(e,t.quaternion.clone(),!0)})),(0,d.initHomeScrollAnimation)()}function k(){const e=c().getById("introScroll");if(e?.isActive)return;A=!0,(0,g.gZ)(!0);const t=(0,u.KE)(),o=(0,g.bd)(),s=(0,g.uN)();M&&null!==s&&(w=50*s),b=0,E={};const i=(0,v.k6)(),d=p.U.position.clone(),I=d.distanceTo(i),k=c().getById("homeScroll"),T=k&&k.progress>0;if(I>.1){a().killTweensOf(p.U.position);const e=T?1:.5;a().to(p.U.position,{x:i.x,y:i.y,z:i.z,duration:e,ease:"power2.out",onUpdate:()=>{p.U.updateProjectionMatrix()}});const t=(0,v.IS)(),o={t:0},r=new n.Vector3;p.U.getWorldDirection(r),r.multiplyScalar(10).add(d),a().to(o,{t:1,duration:e,ease:"power2.out",onUpdate:()=>{const e=r.clone().lerp(t,o.t);p.U.lookAt(e),p.U.updateProjectionMatrix()}})}else{p.U.position.copy(i);const e=(0,v.IS)();p.U.lookAt(e),p.U.updateProjectionMatrix()}if((0,m.TB)(!0),function(){const e=y.pB.HOME_LOOP,t=new n.Vector3(1,0,0);h.XQ.forEach((o=>{S[o]=new u.Jf(t.clone(),e)}))}(),Object.entries(l.VQ).forEach((([e,r])=>{const n=t[e];if(n){if(M&&null!==s){const t=n.getPointAt(s);if(t){const o=r.position.clone(),n=o.distanceTo(t),s=c().getById("homeScroll"),i=s&&s.isActive;n>.001||i?(a().killTweensOf(r.position),r.position.copy(o),a().to(r.position,{x:t.x,y:t.y,z:t.z,duration:i?.8:.5,ease:"power2.out",onUpdate:()=>{(0,g.A5)(e,r.position)},onComplete:()=>{(0,g.A5)(e,t)}})):(r.position.copy(t),(0,g.A5)(e,t))}}const t=o[e];if(t){const o=r.quaternion.clone();if(o.angleTo(t)>.01){a().killTweensOf(r.quaternion);const n={t:0};a().to(n,{t:1,duration:.5,ease:"power2.out",onUpdate:()=>{r.quaternion.copy(o).slerp(t,n.t),(0,g.do)(e,r.quaternion)},onComplete:()=>{r.quaternion.copy(t),(0,g.do)(e,t),M&&(E[e]=t.clone())}})}else r.quaternion.copy(t),(0,g.do)(e,t),M&&(E[e]=t.clone())}else(0,g.do)(e,r.quaternion),M&&(E[e]=r.quaternion.clone());if("pacman"!==e&&(r.visible=!0),(0,f.kU)(r,e,"home"),S[e]&&null!==s){const t=n.getTangentAt(s);t&&S[e].reset(t)}}})),!P){let e=r.pm.getElapsedTime();(0,r.fl)((()=>{if(document.hidden)return void(e=r.pm.getElapsedTime());const t=r.pm.getElapsedTime(),o=t-e;e=t,function(e){if(!A)return;const t=c().getById("introScroll");if(t?.isActive)return;const o=c().getById("homeScroll");if(o?.isActive)return;const r=Math.min(e,.1);w+=r,b+=r;const n=w%50/50;(0,g.J$)(n,w);const s=(0,u.KE)();l.Yc&&l.Yc.update(e);const a=Math.min(b/y.OQ,1),i=M&&a<1;for(let e=0;e<x.length;e++){const[t,o]=x[e],r=s[t];if(r){const e=n,s=r.getPointAt(e);s&&(o.position.copy(s),(0,g.A5)(t,s));const c="pacman"===t?y.Xt.PACMAN_HOME:y.Xt.GHOST_NORMAL;if(C[t]!==c&&((0,f.kU)(o,t,"home"),C[t]=c),F.set(0,0,0,1),S[t]&&e>0){const o=r.getTangentAt(e);if(o&&o.length()>0){const e=S[t].update(o),r="pacman"===t?"pacman":"ghost";(0,h.C5)(O,e,r),F.copy(O.quaternion)}}if(i&&E[t]){const e=a*a*(3-2*a),r=E[t].clone().slerp(F,e);o.quaternion.copy(r)}else o.quaternion.copy(F);(0,g.do)(t,o.quaternion)}}}(o)})),P=!0}}var T=o(13),U=o(365);const L={};a().registerPlugin(c());let z=null,V=!1,B=null,D=!1,N=!1;const _=new n.Vector3(.55675,.55,1.306),R=new n.Vector3(-.14675,1,1.8085);let H=null;const q={},G={};function j(e,t){const o=v.WZ.camera;if(e<=y.SM){const t=o[0];if("lookAtSequence"in t&&t.lookAtSequence?.length){const o=e/y.SM,r=t.lookAtSequence.length,n=1/r,s=Math.floor(o/n),a=o%n/n,i=Math.min(s,r-1),c=Math.min(s+1,r-1);if(i===c)return t.lookAtSequence[i];{const e=t.lookAtSequence[i],o=t.lookAtSequence[c];return e.clone().lerp(o,a)}}}else if(e<=y.Ys){const r=o[0];if("lookAtSequence"in r&&r.lookAtSequence?.length){const o=r.lookAtSequence[r.lookAtSequence.length-1],s=t.camera.getPointAt(e),a=t.camera.getTangentAt(e).normalize(),i=new n.Vector3(a.x,0,a.z).normalize(),c=s.clone().add(i),p=(e-y.SM)/(y.Ys-y.SM);return o.clone().lerp(c,p)}}return null}function Y(){z&&(z.kill(),z=null),function(){const e=y.pB.POV;G.camera=new u.Jf(new n.Vector3(0,0,-1),e);for(let t=1;t<=5;t++)G[`ghost${t}`]=new u.Jf(new n.Vector3(1,0,0),e)}(),Object.keys(v.oG).forEach((e=>{q[e]={hasBeenTriggered:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0}})),z=a().timeline({scrollTrigger:{id:"povScroll",trigger:T.l.povSection,start:"top bottom",end:"bottom top",markers:!1,scrub:y.jb,toggleActions:"play none none reverse",onEnter:()=>{V=!1;const e=(0,m.Zn)();(0,m.KD)(!0,e)},onEnterBack:()=>{V=!1;const e=(0,m.Zn)();(0,m.KD)(!0,e)},onLeave:()=>{if(V=!0,te(),oe(),Object.entries(l.VQ).forEach((([e,t])=>{(0,f.kU)(t,e,"home")})),z){z.progress(1);const e=(0,u.wb)();if(e&&e.camera){const t=e.camera.getPointAt(1);$(1,e,t),W(t,1,e)}}V=!1},onLeaveBack:()=>{V=!0,te(),oe();const e=c().getById("introScroll");e?.isActive&&I(),Object.entries(l.VQ).forEach((([e,t])=>{(0,f.kU)(t,e,"intro")}));const t=(0,v.k6)(),o=(0,v.IS)();a().killTweensOf(p.U.position),a().killTweensOf(p.U.quaternion),a().killTweensOf(p.U.rotation),p.U.position.set(t.x,t.y,t.z),p.U.lookAt(o),p.U.fov=50,p.U.updateProjectionMatrix(),p.U.updateMatrixWorld(!0),requestAnimationFrame((()=>{a().killTweensOf(p.U.position),a().killTweensOf(p.U.quaternion),a().killTweensOf(p.U.rotation),p.U.position.set(t.x,t.y,t.z),p.U.lookAt(o),p.U.fov=50,p.U.updateProjectionMatrix(),p.U.updateMatrixWorld(!0);const e=(new n.Euler).setFromQuaternion(p.U.quaternion),r={x:180*e.x/Math.PI,y:180*e.y/Math.PI,z:180*e.z/Math.PI};console.log(`[POV->Intro Transition] Camera reset to intro position: (${t.x.toFixed(3)}, ${t.y.toFixed(3)}, ${t.z.toFixed(3)}), LookAt: (${o.x.toFixed(3)}, ${o.y.toFixed(3)}, ${o.z.toFixed(3)}), Rotation: (${r.x.toFixed(1)}°, ${r.y.toFixed(1)}°, ${r.z.toFixed(1)}°)`)})),V=!1}}}).addLabel("pov-animation-start",0).to({progress:0},{progress:1,immediateRender:!1,onStart:Q,onUpdate:function(){X.call(this)},onReverseComplete:()=>{te(),oe()},onComplete:()=>{te(),oe()}}).addLabel("pov-animation-sequence-phase",y.SM).addLabel("pov-animation-transition-phase",y.Ys).addLabel("pov-animation-end",1)}function Q(){const e=(0,u.wb)();if(G.camera&&e.camera){const t=e.camera.getTangentAt(0);t&&G.camera.reset(t)}Object.entries(l.VQ).forEach((([t,o])=>{if(e[t]&&"pacman"!==t){const r=e[t].getPointAt(0);o.position.copy(r);const n=e[t].getTangentAt(0).normalize();o.lookAt(r.clone().add(n)),o.visible=!1,(0,f.kU)(o,t,"pov")}})),l.VQ.pacman&&(l.VQ.pacman.visible=!1)}function X(){const e=this.targets()[0].progress,t=(0,u.wb)();if(!t.camera)return;const o=t.camera.getPointAt(e);B?($(e,t,o),W(o,e,t),B.copy(o)):B=o.clone()}function $(e,t,o){const r=(new n.Euler).setFromQuaternion(p.U.quaternion),s={x:180*r.x/Math.PI,y:180*r.y/Math.PI,z:180*r.z/Math.PI};if(console.log(`[POV Camera] Progress: ${e.toFixed(3)}, Position: (${o.x.toFixed(3)}, ${o.y.toFixed(3)}, ${o.z.toFixed(3)}), Rotation: (${s.x.toFixed(1)}°, ${s.y.toFixed(1)}°, ${s.z.toFixed(1)}°)`),V){p.U.position.copy(o),p.U.fov=80;const r=j(e,t);if(r)p.U.lookAt(r);else{const r=t.camera.getTangentAt(e).normalize();K(e,o.clone().add(r))}return void p.U.updateProjectionMatrix()}const a=c().getById("introScroll"),i=c().getById("povScroll"),l=a&&a.isActive,u=i&&i.isActive;if(l&&!u)return;p.U.position.copy(o),p.U.fov=80;const d=j(e,t);if(d)return p.U.lookAt(d),void p.U.updateProjectionMatrix();const h=t.camera.getTangentAt(e).normalize();let m=h;G.camera&&e>0&&(m=G.camera.update(h)),e<=y.yw&&(m=new n.Vector3(m.x,0,m.z).normalize()),K(e,o.clone().add(m)),p.U.updateProjectionMatrix()}function K(e,t){const o=(0,u.wb)(),r=re(o.camera,_),n=re(o.camera,R);(e<r||e>n)&&!N&&(H=null,D=!1,N=!1),D||N||p.U.lookAt(t)}function W(e,t,o){Object.entries(v.oG).forEach((([r,n])=>{const s=l.VQ[r],a=o[r];if(!s||!a||"pacman"===r)return;const i=t>n.forceEndProgress.start&&t<n.forceEndProgress.end;!function(e,t,o,r,n,s){const{triggerPos:a,ghostStartFadeIn:i,ghostEndFadeIn:c,ghostStartFadeOut:p,camStartFadeIn:l,camEndFadeIn:d,camStartFadeOut:m,endPosition:f}=n,g=q[e],v=parseInt(e.replace("ghost",""))-1;let A=L[v];if(!A){const e=document.querySelectorAll(".cmp--pov.cmp")[v];A={parent:e||null,povElements:e?e.querySelectorAll(".pov"):document.querySelectorAll(".nonexistent"),camElements:e?e.querySelectorAll(".cam"):document.querySelectorAll(".nonexistent")},L[v]=A}const{parent:w,povElements:P,camElements:b}=A;if(!w||!P.length||!b.length)return;const E=(0,u.wb)();null===g.triggerCameraProgress&&(g.triggerCameraProgress=re(E.camera,a,y.u7),g.ghostStartFadeInProgress=re(E.camera,i,y.u7),g.ghostEndFadeInProgress=re(E.camera,c,y.u7),g.ghostStartFadeOutProgress=re(E.camera,p,y.u7),g.camStartFadeInProgress=re(E.camera,l,y.u7),g.camEndFadeInProgress=re(E.camera,d,y.u7),g.camStartFadeOutProgress=re(E.camera,m,y.u7),g.endCameraProgress=re(E.camera,f,y.u7));const M=re(E.camera,r,y.u7);if(M>=g.triggerCameraProgress&&M<=g.endCameraProgress){if(!t.visible&&(t.visible=!0,g.hasBeenTriggered=!0,G[e])){const t=o.getTangentAt(0);t&&G[e].reset(t)}const r=(M-g.triggerCameraProgress)/(g.endCameraProgress-g.triggerCameraProgress);let n=(0,y.qE)(r);void 0===g.currentPathT?g.currentPathT=n:g.currentPathT+=(n-g.currentPathT)*y.dU,n=g.currentPathT;const s=o.getPointAt(n);if(t.position.copy(s),G[e]&&n>0){const r=o.getTangentAt(n);if(r&&r.length()>0){const o=G[e].update(r);(0,h.C5)(t,o,"ghost")}}const a=n>y.pf?1-(n-y.pf)/y.P5:1;(0,U.tU)(t,a,{preserveTransmission:!0,skipCurrencySymbols:!0})}else t.visible=!1,g.hasBeenTriggered=!1;!function(e,t,o,r,n,s,a=!1){if(a)return r.style.opacity="0",r.classList.add("no-visibility"),ee(n),void ee(s);const{targetGhostOpacity:i,targetCamOpacity:c}=function(e,t){let o=0,r=0;if(e>=t.ghostStartFadeInProgress&&e<=t.ghostEndFadeInProgress){const r=(e-t.ghostStartFadeInProgress)/(t.ghostEndFadeInProgress-t.ghostStartFadeInProgress);o=Math.min(1,r)}else if(e>t.ghostEndFadeInProgress&&e<t.ghostStartFadeOutProgress)o=1;else if(e>=t.ghostStartFadeOutProgress&&e<=t.camStartFadeInProgress){const r=(e-t.ghostStartFadeOutProgress)/(t.camStartFadeInProgress-t.ghostStartFadeOutProgress);o=Math.max(0,1-r)}if(e>=t.camStartFadeInProgress&&e<=t.camEndFadeInProgress){const o=(e-t.camStartFadeInProgress)/(t.camEndFadeInProgress-t.camStartFadeInProgress);r=Math.min(1,o)}else if(e>t.camEndFadeInProgress&&e<t.camStartFadeOutProgress)r=1;else if(e>=t.camStartFadeOutProgress&&e<=t.endCameraProgress){const o=(e-t.camStartFadeOutProgress)/(t.endCameraProgress-t.camStartFadeOutProgress);r=Math.max(0,1-o)}return{targetGhostOpacity:o,targetCamOpacity:r}}(t,o);t>=o.camStartFadeOutProgress?r.style.opacity=c.toString():t>=o.ghostStartFadeInProgress&&t<=o.ghostEndFadeInProgress&&(r.style.opacity=i.toString());const p=c>y.H0&&i>y.H0,l=r.classList.contains("no-visibility");p&&!l?r.classList.add("no-visibility"):!p&&l&&r.classList.remove("no-visibility"),i>y.H0?Z(n,i):ee(n),c>y.H0?Z(s,c):ee(s)}(0,M,g,w,P,b,s)}(r,s,a,e,n,i)}))}function Z(e,t){e.forEach((e=>{const o=e;t>y.H0?(o.classList.remove("no-visibility"),o.style.opacity=t.toString()):t<=y.H0&&!o.classList.contains("no-visibility")&&(o.classList.add("no-visibility"),o.style.opacity="0")}))}function J(){Object.keys(G).forEach((e=>{if(G[e]){const t="camera"===e?new n.Vector3(0,0,-1):new n.Vector3(1,0,0);G[e].reset(t)}}))}function ee(e){e.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"}))}function te(){Object.entries(l.VQ).forEach((([e,t])=>{if("pacman"!==e){t.visible=!1;const o=parseInt(e.replace("ghost",""))-1,r=L[o];r?.parent&&(ee(r.povElements),ee(r.camElements),r.parent.classList.add("no-visibility")),(0,U.tU)(t,1,{preserveTransmission:!0,skipCurrencySymbols:!0})}})),l.VQ.pacman&&(l.VQ.pacman.visible=!0),J()}function oe(){l.VQ.pacman&&(l.VQ.pacman.visible=!0),D=!1,H=null,N=!1,Object.keys(q).forEach((e=>{q[e]={hasBeenTriggered:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0}})),J()}function re(e,t,o=y.u7){if(!e||!t)return 0;let r=0,n=1/0;for(let s=0;s<o;s++)try{const a=s/(o-1),i=e.getPointAt(a);if(!i)continue;const c=i.distanceTo(t);c<n&&(n=c,r=a)}catch(e){}return r}let ne=null,se=!1,ae=null,ie=null,ce=null,pe={};function le(){ae=null}function ue(e){Object.values(l.VQ).forEach((t=>{t.userData.introScrollLocked=e}))}function de(){const e={visible:!0,opacity:y.Yy.FULL,transparent:!1};he&&he.visible===e.visible&&he.opacity===e.opacity&&he.transparent===e.transparent||((0,f.pX)(e.visible,e.opacity,e.transparent),he=e)}let he=null,me=null,ye=-1,fe=-1,ge=-1;function ve(e){if(!se)return;if(ae===e)return;ae=e;const t=p.U.position.x,o=p.U.position.y,r=p.U.position.z,s=(new n.Euler).setFromQuaternion(p.U.quaternion),a={x:180*s.x/Math.PI,y:180*s.y/Math.PI,z:180*s.z/Math.PI};if(console.log(`[Intro Camera] Progress: ${e.toFixed(3)}, Position: (${t.toFixed(3)}, ${o.toFixed(3)}, ${r.toFixed(3)}), Rotation: (${a.x.toFixed(1)}°, ${a.y.toFixed(1)}°, ${a.z.toFixed(1)}°)`),!isFinite(t)||!isFinite(o)||!isFinite(r))return;!function(){const e=0,t=0,o=0,r=new n.Euler(e*Math.PI/180,t*Math.PI/180,o*Math.PI/180,"XYZ");if(ie=(new n.Quaternion).setFromEuler(r),ce)return;const s=l.VQ.ghost1;if(s){pe.ghost1||(pe.ghost1=s.quaternion.clone());let e=pe.ghost1.clone();const t=new n.Object3D;t.quaternion.copy(e),(0,h.Ws)(t,e,y.Yy.FULL),e=t.quaternion.clone(),e=(0,h.mh)(e,[{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI}]),ce=e}Object.keys(l.VQ).forEach((e=>{const t=l.VQ[e];t&&!pe[e]&&(pe[e]=t.quaternion.clone())}))}();const i={visible:!0,opacity:y.Yy.HIDDEN,transparent:!0};he&&he.visible===i.visible&&he.opacity===i.opacity&&he.transparent===i.transparent||((0,f.pX)(i.visible,i.opacity,i.transparent),he=i);const c=Math.abs(y.de.z+y.rq.PACMAN.zOffset),u=p.U.fov*Math.PI/180,d=2*c*Math.tan(u/2)*p.U.aspect,m=Math.max(d*y.D4.PERCENTAGE,y.D4.MIN),g=t-d/2,v=t+d/2,A=y.de.x+y.rq.PACMAN.behindOffset,w=g-m-A,P=v+m-A,b=[{key:"pacman",...y.rq.PACMAN},{key:"ghost1",...y.rq.GHOST1},{key:"ghost2",...y.rq.GHOST2},{key:"ghost3",...y.rq.GHOST3},{key:"ghost4",...y.rq.GHOST4},{key:"ghost5",...y.rq.GHOST5},{key:"pill",behindOffset:0,zOffset:0,xOffset:0,yOffset:0,zPhase:0}],E=(0,y.qE)(e),M=.1,S=performance.now();(fe<0||Math.abs(S-ge)>16)&&(fe=function(){const e=p.U.position.x,t=(p.U.position.y,p.U.position.z,y.KR.PILL),o=Math.abs(y.de.z+y.rq.PACMAN.zOffset),r=p.U.fov*Math.PI/180,n=2*o*Math.tan(r/2)*p.U.aspect,s=Math.max(n*y.D4.PERCENTAGE,y.D4.MIN),a=e-n/2,i=e+n/2,c=y.de.x+y.rq.PACMAN.behindOffset,l=a-s-c,u=i+s-c,d=(t.x-y.rq.PACMAN.behindOffset-y.rq.PACMAN.xOffset-y.de.x-l)/(u-l);let h=d;return h=d<.5?Math.sqrt(d/2):1-Math.sqrt((1-d)/2),Math.max(0,Math.min(1,h))}(),ge=S);const x=fe;let O,F=0,C=!1;if(E<x)O=E<.5?2*E*E:1-2*(1-E)*(1-E);else if(E<x+M)O=1,!0,F=(E-x)/M;else{const e=(E-x-M)/(1-x-M),t=Math.max(0,Math.min(1,1-e));O=t<.5?2*t*t:1-2*(1-t)*(1-t),F=1}const I=w+(P-w)*(x<.5?2*x*x:1-2*(1-x)*(1-x))+y.de.x,k=o+y.de.y,T=r+y.de.z,U=w+(P-w)*O,L=U+y.de.x,z=o+y.de.y,V=r+y.de.z;if(!(isFinite(U)&&isFinite(L)&&isFinite(z)&&isFinite(V)))return;const B=E<y.Xi?E/y.Xi:1,D={};b.forEach((({key:e,behindOffset:t,zOffset:o,xOffset:r,yOffset:s,zPhase:a})=>{const i="pacman"===e||"pill"===e?0:Math.sin(E*Math.PI*2*y.y5.FREQUENCY+a)*y.y5.AMPLITUDE,c="pacman"===e||"pill"===e?0:i*y.y5.Y_MULTIPLIER;let p,l,u;if("pill"===e){p=y.KR.PILL.x;const e=0,t=y.KR.PILL.y,o=Math.min(E/y.Xi,1);l=e+(t-e)*(o<.5?2*o*o:1-Math.pow(-2*o+2,2)/2),u=y.KR.PILL.z}else p=L+t+r,l=z+s-c,u=V+o-i;!isFinite(p)||!isFinite(l)||!isFinite(u)||Math.abs(u)<.01||Math.abs(u)>100||(D[e]=new n.Vector3(p,l,u))}));const N=E>=x;if(l.Yc&&l.yw){const t=(17.5*e+y.f$)%1;Object.values(l.yw).forEach((e=>{const o=e.getClip().duration;e.time=t*o,e.paused=!1})),l.Yc.update(0)}b.forEach((({key:e,behindOffset:t,zOffset:o,xOffset:r,yOffset:s,zPhase:a})=>{const i="pill"===e?l.Io:l.VQ[e];if(!i)return;let c=D[e];if(!c)return;if(E>=x){const i="pacman"===e||"pill"===e?0:Math.sin(x*Math.PI*2*y.y5.FREQUENCY+a)*y.y5.AMPLITUDE,p="pacman"===e||"pill"===e?0:i*y.y5.Y_MULTIPLIER,l=I+t+r,u=k+s-p,d=T+o-i,h=new n.Vector3(l,u,d);if(E<x+M)c=h;else{const e=(E-x-M)/(1-x-M),o=Math.max(0,Math.min(1,e)),s=l+(w+y.de.x+t+r-l)*(o<.5?2*o*o:1-2*(1-o)*(1-o));c=new n.Vector3(s,u,d)}}if(i.position.set(c.x,c.y,c.z),"pill"===e){const e=new n.Euler(y.tO.PILL.x*Math.PI/180,y.tO.PILL.y*Math.PI/180,y.tO.PILL.z*Math.PI/180,"XYZ");i.rotation.copy(e);const t=y.Xi;let o=1;if(E<t){const e=E/t;o=10-9*(e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2)}i.scale.set(o,o,o);let r=y.Yy.FULL;E<y.Xi&&(r=E/y.Xi),N&&(r=y.Yy.HIDDEN),Math.abs(ye-r)>=.001&&(i.traverse((e=>{if(e.isMesh){const t=e.material;t&&(Array.isArray(t)?t:[t]).forEach((e=>{e.opacity=r,void 0!==e.needsUpdate&&(e.needsUpdate=!0)}))}})),ye=r)}else if("pacman"===e&&E>=x){const e=y.Xt.PACMAN_INTRO,t=e+(.15-e)*F;if(i.scale.set(t,t,t),ie){const e=(new n.Euler).setFromQuaternion(ie),t=e.z+Math.PI,o=e.z+(t-e.z)*F;i.rotation.set(e.x,e.y,o),i.quaternion.setFromEuler(i.rotation)}}else{const t="pacman"===e?ie:ce;t&&i.quaternion.copy(t),(0,f.kU)(i,e,"intro")}i.visible="pill"!==e||!N;const p="pacman"===e||"pill"===e?y.Yy.FULL:B;"pill"!==e?i.traverse((t=>{if(t.isMesh){const o=t,r=t.name||"";if((0,h.C1)(r))return void(o.visible=!1);if((0,h.C1)(r)||"pacman"===e&&(0,h.yg)(r))return void(o.visible=!1);o.visible=!0;const n=o.material;n&&(Array.isArray(n)?n:[n]).forEach((e=>{e.opacity=p,void 0!==e.transmission&&e.transmission>0?e.transparent=!0:e.transparent=p<1}))}})):i.traverse((e=>{e.isMesh&&(e.visible=!0)}))}))}let Ae=null;!async function(){(0,r.Ki)(),(0,r.SH)(),(0,r.mS)(),(0,p.t)(),await(0,l.cm)(r.JH),(0,g.et)(),window.addEventListener("scroll",(()=>{const e=c().getById("introScroll");e?.isActive?A&&I():0===window.scrollY?A||k():A&&I()})),0===window.scrollY&&k(),Y(),ne&&(ne.kill(),ne=null),ne=a().timeline({scrollTrigger:{trigger:y.BK.INTRO,start:"top top",end:"bottom bottom",scrub:y.jb,refreshPriority:1,markers:{startColor:"green",endColor:"red",fontSize:"12px",fontWeight:"bold",indent:60},onEnter:()=>{se=!0,le(),ue(!0),me=-1,ye=-1,fe=-1,ge=-1},onEnterBack:()=>{se=!0,le(),ue(!0),me=-1,ye=-1,fe=-1,ge=-1;const e=(0,v.k6)(),t=(0,v.IS)();a().killTweensOf(p.U.position),a().killTweensOf(p.U.quaternion),a().killTweensOf(p.U.rotation),p.U.position.set(e.x,e.y,e.z),p.U.lookAt(t),p.U.fov=50,p.U.updateProjectionMatrix(),p.U.updateMatrixWorld(!0),requestAnimationFrame((()=>{a().killTweensOf(p.U.position),a().killTweensOf(p.U.quaternion),a().killTweensOf(p.U.rotation),p.U.position.set(e.x,e.y,e.z),p.U.lookAt(t),p.U.fov=50,p.U.updateProjectionMatrix(),p.U.updateMatrixWorld(!0)}))},onLeave:()=>{se=!1,le(),de(),ue(!1),l.Yc&&(l.Yc.timeScale=y.B6.NORMAL)},onLeaveBack:()=>{se=!1,le(),de(),ue(!1),Object.entries(l.VQ).forEach((([e,t])=>{(0,f.kU)(t,e,"home")})),l.Yc&&(l.Yc.timeScale=y.B6.NORMAL)},onUpdate:e=>{"number"==typeof e.progress&&ve(e.progress)},id:"introScroll"}}).addLabel("intro-text-start",0).fromTo(".sc_h--intro",{scale:y.Ex.START,opacity:y.Yy.HIDDEN},{keyframes:[{scale:y.Ex.START,opacity:y.Yy.HIDDEN,duration:y.Cv.NONE},{scale:y.Ex.MID,opacity:y.Yy.FULL,duration:y.Cv.FADE_IN},{scale:y.Ex.LARGE,opacity:y.Yy.FULL,duration:y.Cv.HOLD},{scale:y.Ex.END,opacity:y.Yy.HIDDEN,duration:y.Cv.FADE_OUT}]}).addLabel("intro-text-fade-in",y.Cv.NONE).addLabel("intro-text-hold",y.Cv.NONE+y.Cv.FADE_IN).addLabel("intro-text-fade-out",y.Cv.NONE+y.Cv.FADE_IN+y.Cv.HOLD).fromTo(".sc_b--intro",{scale:y.Ex.START,opacity:y.Yy.HIDDEN},{keyframes:[{scale:y.Ex.START,opacity:y.Yy.HIDDEN,duration:y.Cv.NONE},{scale:y.Ex.MID,opacity:y.Yy.FULL,duration:y.Cv.FADE_IN},{scale:y.Ex.LARGE,opacity:y.Yy.FULL,duration:y.Cv.HOLD},{scale:y.Ex.END,opacity:y.Yy.HIDDEN,duration:y.Cv.FADE_OUT}]}).addLabel("intro-text-end",y.Cv.NONE+y.Cv.FADE_IN+y.Cv.HOLD+y.Cv.FADE_OUT),c().addEventListener("refresh",(()=>{const e=c().getById("introScroll");e&&"number"==typeof e.progress&&e.progress>0&&ve(e.progress)})),Ae=a().timeline({scrollTrigger:{trigger:y.BK.OUTRO,start:"top center",end:"bottom bottom",scrub:y.jb,markers:!1,onEnter:()=>{const e=(0,m.Zn)();(0,m.Ks)(!0,e)},onEnterBack:()=>{const e=(0,m.Zn)();(0,m.Ks)(!0,e)}}}).addLabel("outro-text-start",0).fromTo(".sc_b--outro",{scale:y.Ex.START,opacity:y.Yy.HIDDEN},{keyframes:[{scale:y.Ex.START,opacity:y.Yy.HIDDEN,duration:y.Cv.NONE},{scale:y.Ex.MID,opacity:y.Yy.FULL,duration:y.Cv.FADE_IN},{scale:y.Ex.LARGE,opacity:y.Yy.FULL,duration:y.Cv.HOLD},{scale:y.Ex.END,opacity:y.Yy.HIDDEN,duration:y.Cv.FADE_OUT}]}).addLabel("outro-text-fade-in",y.Cv.NONE).addLabel("outro-text-hold",y.Cv.NONE+y.Cv.FADE_IN).addLabel("outro-text-fade-out",y.Cv.NONE+y.Cv.FADE_IN+y.Cv.HOLD).addLabel("outro-text-end",y.Cv.NONE+y.Cv.FADE_IN+y.Cv.HOLD+y.Cv.FADE_OUT),function(){const e=document.querySelector(".wr_p--skip.wr_p");if(e){const t=document.querySelector(".sc--testimonials");t&&e.addEventListener("click",(()=>{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))}}(),(0,r.Dz)()}()})();
//# sourceMappingURL=script.js.map