(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=THREE,t=window.innerWidth<768,o=(new r.Vector3(.45175,.5,.55675),new r.Vector3(.65725,.55,.75325),new r.Vector3(.9085,.55,.8035),new r.Vector3(.75775,.55,1.05475),new r.Vector3(.65725,.55,1.0045),new r.Vector3(.15475,.55,1.15525),{startMobile:new r.Vector3(.5,2.5,2.5),startDesktop:new r.Vector3(-2,2.5,2),secondMobile:new r.Vector3(.5,2.5,2),secondDesktop:new r.Vector3(-1.5,3,2),mobileLookAt:new r.Vector3(.5,.5,-1.5),desktopLookAt:new r.Vector3(-1.25,.5,.25)}),c=t?o.startMobile:o.startDesktop,p=t?o.secondMobile:o.secondDesktop,n=t?o.mobileLookAt:o.desktopLookAt,s={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},u=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,1e3);u.quaternion.clone(),(new r.Quaternion).setFromEuler(new r.Euler(-1.5708,0,0));const y=new r.Scene,w=new r.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),a=new r.Clock;function v(){const e=Math.min(window.devicePixelRatio,t?2:3);w.setPixelRatio(e),s.mazeContainer?w.setSize(s.mazeContainer.clientWidth,s.mazeContainer.clientHeight):w.setSize(window.innerWidth,window.innerHeight)}const i=(new r.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),V=new r.MeshMatcapMaterial({matcap:i}),h=new r.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),l=new r.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.NormalBlending,side:r.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),A=new r.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),T={blue:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},g={CAM_Pacman_Backframe:T.blue,"CAM-Pacman_Bitcoin_1":T.white,"CAM-Pacman_Bitcoin_2":T.white,"CAM-Pacman_Bottom":T.blue,"CAM-Pacman_Top":T.blue,"CAM-Pacman_Eye":T.white,CAM_Pacman_Logo_1:T.white,CAM_Pacman_Logo_2:T.white,"CAM-Pacman_Shell_Boolean":T.blue,"CAM-Pacman_Shell":T.blue,"CAM-Pacman_Bottom_electronic":T.white,"CAM-Pacman_Top_electronic":T.white,"CAM-Pacman_Bottom_Text":T.white,"CAM-Pacman_Top_Text":T.white,default:T.blue},m=(Array(5).fill(l),new r.GLTFLoader);let d;const f=new r.Group;y.add(f);const M={pacman:f,ghost1:new r.Mesh(new r.BufferGeometry,l),ghost2:new r.Mesh(new r.BufferGeometry,l),ghost3:new r.Mesh(new r.BufferGeometry,l),ghost4:new r.Mesh(new r.BufferGeometry,l),ghost5:new r.Mesh(new r.BufferGeometry,l)},P={Ghost_EUR:M.ghost1,Ghost_CHF:M.ghost2,Ghost_YEN:M.ghost3,Ghost_USD:M.ghost4,Ghost_GBP:M.ghost5};Object.values(M).forEach((e=>y.add(e)));const C=new r.Vector3(.45175,.5,.55675),S={pacmanHome:[{pos:new r.Vector3(.25525,.55,.6025),type:"straight"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"straight"},{pos:new r.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new r.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.25525,.55,.6025),type:"straight"}],ghost1Home:[{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,.8035),type:"straight"},{pos:new r.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.703),type:"straight"},{pos:new r.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],ghost2Home:[{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new r.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.502),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new r.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"straight"}],ghost3Home:[{pos:new r.Vector3(.85825,.55,.75325),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.2005),type:"straight"},{pos:new r.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.301),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"straight"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"straight"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.75325),type:"straight"}],ghost4Home:[{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new r.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.8035),type:"straight"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"straight"},{pos:new r.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.1),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"}],ghost5Home:[{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new r.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new r.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],cameraPOV:[{pos:new r.Vector3(.55675,-.5,.45175),type:"curve",curveType:"forwardDownArc"},{pos:new r.Vector3(.55675,.55,.6025),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.607,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"straight"},{pos:new r.Vector3(.9085,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.85375),type:"straight"},{pos:new r.Vector3(.95875,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.9085,.55,1.2055),type:"straight"},{pos:new r.Vector3(.808,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.15525),type:"straight"},{pos:new r.Vector3(.75775,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,1.0045),type:"straight"},{pos:new r.Vector3(.205,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.05475),type:"straight"},{pos:new r.Vector3(.15475,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.205,.55,1.2055),type:"straight"},{pos:new r.Vector3(.5065,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.55675,.55,1.306),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.44825,1,2.0095),type:"straight"}],ghost1POV:[{pos:new r.Vector3(1.05925,.55,.703),type:"straight"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.009,.55,.8035),type:"straight"},{pos:new r.Vector3(.9085,.55,.8035),type:"straight"}],ghost2POV:[{pos:new r.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.009,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,1.15525),type:"straight"},{pos:new r.Vector3(.95875,.55,1.05475),type:"straight"}],ghost3POV:[{pos:new r.Vector3(.35575,.55,.904),type:"straight"},{pos:new r.Vector3(.35575,.55,.95425),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.406,.55,1.0045),type:"straight"},{pos:new r.Vector3(.5065,.55,1.0045),type:"straight"}],ghost4POV:[{pos:new r.Vector3(.15475,.55,1.105),type:"straight"},{pos:new r.Vector3(.15475,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.205,.55,1.0045),type:"straight"},{pos:new r.Vector3(.3055,.55,1.0045),type:"straight"}],ghost5POV:[{pos:new r.Vector3(.55675,.55,1.306),type:"straight"},{pos:new r.Vector3(.55675,.55,1.25575),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.5065,.55,1.2055),type:"straight"},{pos:new r.Vector3(.406,.55,1.2055),type:"straight"}]},_=new r.CubicBezierCurve3(c,p,new r.Vector3(.55675,3,.45175),new r.Vector3(.55675,.5,.45175)),b={pacmanHome:H(S.pacmanHome),ghost1Home:H(S.ghost1Home),ghost2Home:H(S.ghost2Home),ghost3Home:H(S.ghost3Home),ghost4Home:H(S.ghost4Home),ghost5Home:H(S.ghost5Home),cameraPOV:H(S.cameraPOV),ghost1POV:H(S.ghost1POV),ghost2POV:H(S.ghost2POV),ghost3POV:H(S.ghost3POV),ghost4POV:H(S.ghost4POV),ghost5POV:H(S.ghost5POV)};function H(e){const t=new r.CurvePath;for(let o=0;o<e.length-1;o++){const c=e[o],p=e[o+1];if("straight"===c.type)t.add(new r.LineCurve3(c.pos,p.pos));else if("curve"===c.type){const n=o>0&&"curve"===e[o-1].type,s=o<e.length-2&&"curve"===e[o+1].type,u=n||s?E(c,p,n,s):z(c,p);t.add(new r.QuadraticBezierCurve3(c.pos,u,p.pos))}}return t}function z(e,t){const{curveType:o}=e;return"upperArc"===o?new r.Vector3(e.pos.x,e.pos.y,t.pos.z):"lowerArc"===o?new r.Vector3(t.pos.x,e.pos.y,e.pos.z):"forwardDownArc"===o?new r.Vector3(e.pos.x,t.pos.y,e.pos.z):new r.Vector3(e.pos.x,e.pos.y,t.pos.z)}function E(e,r,t,o){const c=z(e,r),p=e.pos.clone().lerp(r.pos,.5),n=t&&o?.6:.3;return c.clone().lerp(p,n)}const B={pacman:"pacmanHome",ghost1:"ghost1Home",ghost2:"ghost2Home",ghost3:"ghost3Home",ghost4:"ghost4Home",ghost5:"ghost5Home"},O={};let x=!0,L=!1,G=0,k=0;const I=["ghost1","ghost2","ghost3","ghost4","ghost5","pacman"];let R=!1,q={},D={};function W(){R=!0,D={},I.forEach((e=>{const r="pacman"===e?f:M[e];r&&(D[e]=r.position.clone())})),q=function(e,t){const o={},c=e=>{const t=new r.CurvePath,o=(e.x+C.x)/2,c=(e.z+C.z)/2,p=new r.Vector3(o,1,c),n=new r.QuadraticBezierCurve3(e,p,C);return t.add(n),t};return e&&(o.pacman=c(e.position.clone())),Object.entries(t).forEach((([e,r])=>{r&&(o[e]=c(r.position.clone()))})),o}(f,M)}function F(){R=!1,q={}}const j=gsap;var U=e.n(j);const Q=ScrollTrigger;var N=e.n(Q);U().registerPlugin(N());let Y=null,J=null,K=!1,X=0;!async function(){try{u.position.copy(c),u.lookAt(n),await async function(){return new Promise(((e,t)=>{m.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(t){const o=t.scene;o.traverse((e=>{if("CAM-Pacman"===e.name){const o=[];e.traverse((e=>{if(e.isMesh&&"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name){const r=g[e.name]||g.default;e.material=r,o.push(e)}else"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name||(e.visible=!1)})),o.forEach((e=>M.pacman.add(e))),M.pacman.scale.set(.05,.05,.05),M.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),d=new r.AnimationMixer(M.pacman);const c={};t.animations.forEach((e=>{const r=d.clipAction(e);c[e.name]=r,r.setEffectiveWeight(1),r.play()}))}else if(e.name&&P[e.name]){const t=P[e.name],o=new r.Group;e.rotation.z=Math.PI,e.rotation.x=Math.PI/2,e.scale.set(.75,.75,.75);const c=[];e.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=l:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),o.add(e)})),t.add(o)}if(e.isMesh)if("CAM-Arena_LowRes_Top"===e.name)e.material=h,e.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===e.name)e.material=V,e.castShadow=!0;else if("CAM-Floor"===e.name){const t=e.clone();e.position.y=-.1,e.position.x=0,e.position.z=0,e.material=new r.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:r.FrontSide}),e.receiveShadow=!1,e.castShadow=!0,e.scale.set(.5,.5,.5),t.material=A,t.position.y=-.5,t.receiveShadow=!0,y.add(t)}})),o.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),y.add(o),o.position.set(.5,.5,.5),e()}),(function(e){}),(function(e){t(e)}))}))}(),function(){const e=new r.AmbientLight(16777215);y.add(e);const t=new r.DirectionalLight(16777215,.8);y.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}(),t?w.setPixelRatio(Math.min(window.devicePixelRatio,2)):w.setPixelRatio(window.devicePixelRatio),w.shadowMap.enabled=!0,w.shadowMap.type=r.PCFSoftShadowMap,w.shadowMap.enabled=!0,w.shadowMap.type=r.PCFSoftShadowMap,s.mazeContainer?(w.setSize(s.mazeContainer.clientWidth,s.mazeContainer.clientHeight),s.mazeContainer.appendChild(w.domElement)):(w.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(w.domElement)),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v(),window.addEventListener("resize",v),w.render(y,u),Y=u.quaternion.clone();const e=_.getPoint(1),o=_.getTangent(1);if(e&&o){const r=e.clone().add(o);u.position.copy(e),u.lookAt(r),J=u.quaternion.clone()}u.position.copy(_.getPoint(0)),u.quaternion.copy(Y),function(){let e=!0;window.addEventListener("scroll",(()=>{const r=0===window.scrollY;e&&!r?(x=!1,L=!0,G=performance.now()/1e3):!e&&r&&function(){if(!R)return!1;for(const e of I){const r="pacman"===e?f:M[e],t=D[e];if(r&&t&&r.position.distanceTo(t)>.01)return!1}return!0}()&&function(){if(x=!0,L){const e=performance.now()/1e3;k+=e-G,L=!1}}(),e=r}))}(),U().timeline({scrollTrigger:{trigger:".sc--home",start:"top top",end:"bottom top",scrub:5,onEnter:()=>{W(),K=!1},onLeave:()=>{F(),K=!1},onEnterBack:()=>{W(),K=!1},onLeaveBack:()=>{F(),K=!1}}}).to({t:0},{t:1,immediateRender:!1,onUpdate:function(){const e=this.targets()[0].t;e<X?K=!0:K&&e>=X&&(K=!1),X=e;const r=_.getPoint(e);if(u.position.copy(r),Y&&J){const r=new THREE.Quaternion;r.slerpQuaternions(Y,J,e),u.quaternion.copy(r)}u.updateProjectionMatrix(),function(e){if(!R)return;I.forEach((r=>{const t="pacman"===r?f:M[r];if(!t)return;const o=q[r];if(!o)return;const c=o.getPointAt(e);c&&t.position.copy(c)}));const r=a.getDelta();d&&d.update(r)}(e)}}),function(){const e=()=>{!function(){if(!x)return;const e=(performance.now()/1e3-k)%40/40;e<.01&&Object.keys(O).forEach((e=>{delete O[e]})),Object.entries(M).forEach((([r,t])=>{const o=b[B[r]];if(!o)return;const c=o.getPointAt(e);if(!c)return;const p=o.getTangentAt(e);if(!p||0===p.length())return;t.position.copy(c);const n=Math.atan2(p.x,p.z);void 0===O[r]&&(O[r]=n);const s=O[r];let u=n-s;for(;u>Math.PI;)u-=2*Math.PI;for(;u<-Math.PI;)u+=2*Math.PI;O[r]=s+.1*u,"pacman"===r?t.rotation.set(Math.PI/2,Math.PI,O[r]+Math.PI/2):t.rotation.set(0,O[r],0)}));const r=a.getDelta();d&&d.update(r)}(),w.render(y,u),requestAnimationFrame(e)};e()}(),console.log("🚀 Application initialized successfully")}catch(e){console.error("Initialization error:",e)}}()})();
//# sourceMappingURL=script.js.map