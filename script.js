(()=>{"use strict";const e=THREE,o=window.innerWidth<768,r={startMobile:new e.Vector3(.5,2.5,2.5),startDesktop:new e.Vector3(-2,2.5,2),secondMobile:new e.Vector3(.5,2.5,2),secondDesktop:new e.Vector3(-1.5,3,2),mobileLookAt:new e.Vector3(.5,.5,-1.5),desktopLookAt:new e.Vector3(-1.25,.5,.25)},t=o?r.startMobile:r.startDesktop,c=o?r.mobileLookAt:r.desktopLookAt,p=new e.Vector3(.55675,.5,.45175),n="https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",s=(new e.Vector3(.65725,.55,.75325),new e.Vector3(.9085,.55,.8035),new e.Vector3(.75775,.55,1.05475),new e.Vector3(.65725,.55,1.0045),new e.Vector3(.15475,.55,1.15525),new e.Scene),a=new e.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),i=document.querySelector("#canvas-container");i||console.error("Container #canvas-container not found!");const u=new e.Clock;function y(){const e=Math.min(window.devicePixelRatio,o?2:3);a.setPixelRatio(e),a.setSize(i.clientWidth,i.clientHeight)}document.querySelector("canvas");const l=document.querySelector(".sc--final.sc"),w=(l?.querySelector(".cr--final.cr"),document.querySelectorAll(".cmp--pov.cmp"),new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,1e3));w.quaternion.clone(),(new e.Quaternion).setFromEuler(new e.Euler(-1.5708,0,0)),window.setCamera=function(o){if("string"==typeof o){const[r,t,c]=o.split(",").map(Number);o=new e.Vector3(r,t,c)}w.lookAt(o),w.updateProjectionMatrix(),w.updateMatrix(),w.updateMatrixWorld()};const v=(new e.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),h=new e.MeshMatcapMaterial({matcap:v}),V=new e.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),A=new e.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:e.NormalBlending,side:e.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),g=new e.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),d={blue:new e.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new e.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new e.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},m={CAM_Pacman_Backframe:d.blue,"CAM-Pacman_Bitcoin_1":d.white,"CAM-Pacman_Bitcoin_2":d.white,"CAM-Pacman_Bottom":d.blue,"CAM-Pacman_Top":d.blue,"CAM-Pacman_Eye":d.white,CAM_Pacman_Logo_1:d.white,CAM_Pacman_Logo_2:d.white,"CAM-Pacman_Shell_Boolean":d.blue,"CAM-Pacman_Shell":d.blue,"CAM-Pacman_Bottom_electronic":d.white,"CAM-Pacman_Top_electronic":d.white,"CAM-Pacman_Bottom_Text":d.white,"CAM-Pacman_Top_Text":d.white,default:d.blue},T=(Array(5).fill(A),new e.GLTFLoader);let f;const M=new e.Group;s.add(M);const P={pacman:M,ghost1:new e.Mesh(new e.BufferGeometry,A),ghost2:new e.Mesh(new e.BufferGeometry,A),ghost3:new e.Mesh(new e.BufferGeometry,A),ghost4:new e.Mesh(new e.BufferGeometry,A),ghost5:new e.Mesh(new e.BufferGeometry,A)},S={Ghost_EUR:P.ghost1,Ghost_CHF:P.ghost2,Ghost_YEN:P.ghost3,Ghost_USD:P.ghost4,Ghost_GBP:P.ghost5};Object.values(P).forEach((e=>s.add(e)));const C=[{pos:new e.Vector3(.25525,.55,.6025),type:"straight"},{pos:new e.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,.1),type:"straight"},{pos:new e.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new e.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new e.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new e.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new e.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new e.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new e.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new e.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new e.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new e.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new e.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.25525,.55,.6025),type:"straight"}],b=[{pos:new e.Vector3(-.44825,.55,.502),type:"straight"},{pos:new e.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new e.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new e.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.301),type:"straight"},{pos:new e.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.75775,.55,.8035),type:"straight"},{pos:new e.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.46125,.55,.703),type:"straight"},{pos:new e.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new e.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.301),type:"straight"},{pos:new e.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new e.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new e.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.44825,.55,.703),type:"straight"},{pos:new e.Vector3(-.44825,.55,.502),type:"straight"}],_=[{pos:new e.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new e.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new e.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.502),type:"straight"},{pos:new e.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new e.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new e.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new e.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new e.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.85825,.55,.1),type:"straight"},{pos:new e.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new e.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.301),type:"straight"},{pos:new e.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new e.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"}],x=[{pos:new e.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.85825,.55,.703),type:"straight"},{pos:new e.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new e.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new e.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,.2005),type:"straight"},{pos:new e.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.46125,.55,.301),type:"straight"},{pos:new e.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.95875,.55,.904),type:"straight"},{pos:new e.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,1.105),type:"straight"},{pos:new e.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new e.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.808,.55,.8035),type:"curve",curveType:"upperArc"}],z=[{pos:new e.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new e.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.95875,.55,.8035),type:"straight"},{pos:new e.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new e.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new e.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.44825,.55,.703),type:"straight"},{pos:new e.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new e.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,.2005),type:"straight"},{pos:new e.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.85825,.55,.1),type:"straight"},{pos:new e.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new e.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.46125,.55,.1),type:"straight"},{pos:new e.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new e.Vector3(1.05925,.55,.4015),type:"straight"}],E=[{pos:new e.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new e.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new e.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new e.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new e.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new e.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new e.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new e.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new e.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new e.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new e.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.85825,.55,.1),type:"straight"},{pos:new e.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],O=[{pos:new e.Vector3(.55675,.5,.45175),type:"curve",curveType:"forwardDownArc"},{pos:new e.Vector3(.55675,.55,.6025),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.607,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.7075,.55,.8035),type:"straight"},{pos:new e.Vector3(.9085,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.95875,.55,.85375),type:"straight"},{pos:new e.Vector3(.95875,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.9085,.55,1.2055),type:"straight"},{pos:new e.Vector3(.808,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.75775,.55,1.15525),type:"straight"},{pos:new e.Vector3(.75775,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.7075,.55,1.0045),type:"straight"},{pos:new e.Vector3(.205,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.15475,.55,1.05475),type:"straight"},{pos:new e.Vector3(.15475,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.205,.55,1.2055),type:"straight"},{pos:new e.Vector3(.5065,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.55675,.55,1.306),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(-.44825,1,2.0095),type:"straight"}],I=[{pos:new e.Vector3(1.05925,.55,.703),type:"straight"},{pos:new e.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(1.009,.55,.8035),type:"straight"},{pos:new e.Vector3(.9085,.55,.8035),type:"straight"}],L=[{pos:new e.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new e.Vector3(1.009,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new e.Vector3(.95875,.55,1.15525),type:"straight"},{pos:new e.Vector3(.95875,.55,1.05475),type:"straight"}],$=[{pos:new e.Vector3(.35575,.55,.904),type:"straight"},{pos:new e.Vector3(.35575,.55,.95425),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.406,.55,1.0045),type:"straight"},{pos:new e.Vector3(.5065,.55,1.0045),type:"straight"}],k=[{pos:new e.Vector3(.15475,.55,1.105),type:"straight"},{pos:new e.Vector3(.15475,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.205,.55,1.0045),type:"straight"},{pos:new e.Vector3(.3055,.55,1.0045),type:"straight"}],F=[{pos:new e.Vector3(.55675,.55,1.306),type:"straight"},{pos:new e.Vector3(.55675,.55,1.25575),type:"curve",curveType:"upperArc"},{pos:new e.Vector3(.5065,.55,1.2055),type:"straight"},{pos:new e.Vector3(.406,.55,1.2055),type:"straight"}],H=o?r.startMobile:r.startDesktop,R=o?r.secondMobile:r.secondDesktop,B=(new e.CubicBezierCurve3(H,R,new e.Vector3(.55675,3,.45175),new e.Vector3(.55675,.5,.45175)),{pacmanHomePath:{points:C,color:16776960},ghost1HomePath:{points:b,color:16711680},ghost2HomePath:{points:_,color:16753920},ghost3HomePath:{points:x,color:16738740},ghost4HomePath:{points:z,color:3329330},ghost5HomePath:{points:E,color:16767673},cameraPOVPath:{points:O,color:16777215},ghost1POVPath:{points:I,color:16711680},ghost2POVPath:{points:L,color:16753920},ghost3POVPath:{points:$,color:16738740},ghost4POVPath:{points:k,color:3329330},ghost5POVPath:{points:F,color:16767673}}),G={};Object.entries(B).forEach((([o,r])=>{G[o]=function(o){const r=new e.CurvePath;for(let t=0;t<o.length-1;t++){const c=o[t],p=o[t+1];if("straight"===c.type){const o=new e.LineCurve3(c.pos,p.pos);r.add(o)}else if("curve"===c.type){let o;o="upperArc"===c.curveType?new e.Vector3(c.pos.x,c.pos.y,p.pos.z):"lowerArc"===c.curveType?new e.Vector3(p.pos.x,c.pos.y,c.pos.z):"forwardDownArc"===c.curveType?new e.Vector3(c.pos.x,p.pos.y,c.pos.z):new e.Vector3(c.pos.x,c.pos.y,p.pos.z);const t=new e.QuadraticBezierCurve3(c.pos,o,p.pos);r.add(t)}}return r}(r.points)}));const D={pacman:G.pacmanHomePath,ghost1:G.ghost1HomePath,ghost2:G.ghost2HomePath,ghost3:G.ghost3HomePath,ghost4:G.ghost4HomePath,ghost5:G.ghost5HomePath};let q="HOME",j=!0;const N={},W={},Q={};let U,Z=0,Y=new e.Vector3,J=new e.Vector3,K=new e.Quaternion;function X(o,r){if(!(Q[o]&&P[o]&&N[o]&&W[o]))return;const t=P[o],c=Q[o].getPoint(r);t.position.copy(c),r<.1&&console.log(`👻 ${o} at progress ${r.toFixed(3)} moved to (${c.x.toFixed(2)}, ${c.y.toFixed(2)}, ${c.z.toFixed(2)})`);const p=W[o],n=new e.Euler(Math.PI/-2,0,0),s=new e.Euler(p.x+(n.x-p.x)*r,p.y+(n.y-p.y)*r,p.z+(n.z-p.z)*r);t.rotation.copy(s);let a=1;r>=.8&&(a=1-(r-.8)/(1-.8),a=Math.max(0,a)),t instanceof e.Mesh&&t.material?Array.isArray(t.material)?t.material.forEach((e=>{"opacity"in e&&(e.opacity=a)})):"opacity"in t.material&&(t.material.opacity=a):t instanceof e.Group&&t.traverse((o=>{o instanceof e.Mesh&&o.material&&(Array.isArray(o.material)?o.material.forEach((e=>{"opacity"in e&&(e.opacity=a)})):"opacity"in o.material&&(o.material.opacity=a))}))}function ee(){if(!j)return;console.log("🛑 onFirstScroll called - stopping all animations immediately"),console.log("📊 Current ghost positions before capture:"),Object.keys(P).forEach((e=>{P[e]&&console.log(`  ${e}: (${P[e].position.x.toFixed(2)}, ${P[e].position.y.toFixed(2)}, ${P[e].position.z.toFixed(2)})`)})),j=!1,Z=Date.now(),q="SCROLL_ANIMATION",console.log("🔄 State changed to SCROLL_ANIMATION"),console.log("🔄 Current state is now:",q),setTimeout((()=>{console.log("🔄 State check after 100ms:",q)}),100);const o=w.position.clone(),r=w.quaternion.clone(),t=new e.Vector3(0,0,-1);t.applyQuaternion(w.quaternion);const c=w.position.clone().add(t.multiplyScalar(5));Y.copy(o),J.copy(c),K.copy(r),Object.keys(P).forEach((e=>{P[e]&&(N[e]=P[e].position.clone(),W[e]=P[e].rotation.clone(),console.log(`Captured ${e} at position:`,P[e].position,"rotation:",P[e].rotation))})),console.log("All ghost positions captured:",N),console.log("All ghost rotations captured:",W),Object.keys(N).forEach((o=>{const r=N[o].clone(),t=p.clone(),c=new e.Vector3((r.x+t.x)/2,2,(r.z+t.z)/2);Q[o]=new e.QuadraticBezierCurve3(r,c,t),console.log(`Created bezier curve for ${o}:`,{start:r,control:c,end:t})})),function(){const o=Y.clone(),r=window.innerWidth<768,t=new e.Vector3(.5,2.5,2),c=new e.Vector3(-1.5,3,2),p=r?t:c,n=(new e.Vector3).lerpVectors(o,p,.3);U=new e.CubicBezierCurve3(o,n,new e.Vector3(.55675,3,.45175),new e.Vector3(.55675,.5,.45175)),console.log("Camera path created starting from current position:",`${o.x.toFixed(2)}, ${o.y.toFixed(2)}, ${o.z.toFixed(2)}`,"to maze center (0.55675, 0.5, 0.45175)")}(),console.log("First scroll detected - animation STOPPED immediately, bezier curves created")}function oe(o){if(!U)return;const r=U.getPointAt(o);w.position.copy(r),new e.Vector3(.55675,.5,.45175);const t=(new e.Quaternion).setFromEuler(new e.Euler(-Math.PI/2,0,0));if(0===o)w.quaternion.copy(K);else{const r=new e.Quaternion;r.slerpQuaternions(K,t,o),w.quaternion.copy(r)}console.log(`Camera at progress ${o.toFixed(2)}: position=${r.x.toFixed(2)}, ${r.y.toFixed(2)}, ${r.z.toFixed(2)}`)}function re(){if(q="HOME",j=!0,Z){const e=Date.now()-Z;window.updateAnimationTimeOffset&&window.updateAnimationTimeOffset(e),Z=0}w.position.copy(Y),w.quaternion.copy(K),Object.keys(P).forEach((o=>{if(N[o]&&W[o]&&P[o]){console.log(`Resetting ${o} to captured position:`,N[o]),P[o].position.copy(N[o]),P[o].rotation.copy(W[o]);const r=P[o];r instanceof e.Mesh&&r.material?Array.isArray(r.material)?r.material.forEach((e=>{"opacity"in e&&(e.opacity=1)})):"opacity"in r.material&&(r.material.opacity=1):r instanceof e.Group&&r.traverse((o=>{o instanceof e.Mesh&&o.material&&(Array.isArray(o.material)?o.material.forEach((e=>{"opacity"in e&&(e.opacity=1)})):"opacity"in o.material&&(o.material.opacity=1))}))}})),console.log("State reset to HOME - all ghosts back to original positions")}function te(){const e=document.querySelector(".sc--home");if(!e)return void console.warn(".sc--home element not found");const o=e.getBoundingClientRect(),r=window.innerHeight;if(!(o.top<r&&o.bottom>0))return void("SCROLL_ANIMATION"===q&&(re(),console.log("Left home section - resuming home animation")));const t=e.offsetHeight,c=Math.max(0,-o.top),p=Math.min(c/t,1);if(console.log(`Scroll Debug: rect.top=${o.top}, windowHeight=${r}, scrolledIntoSection=${c}, sectionHeight=${t}, scrollProgress=${p}, currentState=${q}`),p>0&&"HOME"===q&&(console.log("🚀 TRIGGERING FIRST SCROLL - Starting scroll animation..."),ee()),"SCROLL_ANIMATION"===q){if(0===p)return console.log("Scroll progress at 0, resetting to home state"),void re();console.log(`Animating with scrollProgress: ${p}`),Object.keys(P).forEach((e=>{Q[e]&&X(e,Math.min(p/.8,1))})),oe(p)}}function ce(){const e=document.querySelector(".sc--intro");if(!e)return;const o=e.getBoundingClientRect(),r=window.innerHeight,t=e.offsetHeight;if(!(o.top<r&&o.bottom>0))return;const c=Math.max(0,-o.top),p=Math.min(c/t,1);console.log(`Intro Scroll Progress: ${p.toFixed(3)}`),function(e){const o=document.querySelector(".sc_h--intro");if(!o)return;o.style.display="block";let r=0,t=0;if(e<=.3){const o=e/.3;r=.8*o,t=o}else if(e<=.7)r=.8+(e-.3)/.4*.4,t=1;else{const o=(e-.7)/.3;r=1.2+.3*o,t=1-o}o.style.transform=`scale(${r})`,o.style.opacity=t.toString()}(Math.min(2*p,1)),function(e){const o=document.querySelector(".sc_b--intro");if(!o)return;o.style.display="block";let r=.5,t=0;if(e<=.3){const o=e/.3;r=.5+.3*o,t=o}else if(e<=.7)r=.8+(e-.3)/.4*.4,t=1;else{const o=(e-.7)/.3;r=1.2+.3*o,t=1-o}o.style.transform=`scale(${r})`,o.style.opacity=t.toString()}(Math.max(0,2*(p-.5)))}let pe=Date.now(),ne=0,se=0;function ae(){if(f){const e=u.getDelta();f.update(e)}!function(){if("HOME"!==q)return se%60==0&&console.log(`⏸️ Skipping home animation - current state: ${q}`),void se++;se%60==0&&console.log(`🏠 Running home animation - state: ${q}`),se++;const o=(Date.now()-pe-ne)/1e3*.1%1;Object.entries(P).forEach((([r,t])=>{if(D[r])if("pacman"===r){const e=D[r].getPointAt(o);t.position.copy(e);const c=D[r].getTangentAt(o).normalize();t.lookAt(e.clone().add(c));const p=Math.atan2(c.x,c.z);void 0===t.previousZRotation&&(t.previousZRotation=p);let n=p-t.previousZRotation;n>Math.PI?n-=2*Math.PI:n<-Math.PI&&(n+=2*Math.PI);const s=.1,a=t.previousZRotation+n*s;t.previousZRotation=a,t.rotation.set(Math.PI/2,Math.PI,a+Math.PI/2)}else{const c=D[r].getPointAt(o);t.position.copy(c);const p=D[r].getTangentAt(o).normalize();t.lookAt(c.clone().add(p)),t instanceof e.Mesh&&t.material&&"opacity"in t.material&&(t.material.opacity=1)}}))}(),a.render(s,w),requestAnimationFrame(ae)}function ie(){console.log("Initializing animation system..."),window.animationDebugInfo={state:"HOME",isFirstScroll:!0,capturedPositions:{},bezierCurves:{}},Object.keys(P).forEach((o=>{if(P[o]){P[o].visible=!0,console.log(`Ghost ${o} set to visible:`,P[o].visible);const r=P[o];r instanceof e.Mesh&&r.material&&"opacity"in r.material?r.material.opacity=1:r instanceof e.Group&&r.traverse((o=>{o instanceof e.Mesh&&o.material&&"opacity"in o.material&&(o.material.opacity=1)}))}})),console.log("Available paths:",Object.keys(D)),console.log("Ghosts:",Object.keys(P)),window.updateAnimationTimeOffset=e=>{ne+=e},function(){Y=w.position.clone(),K=w.quaternion.clone();const o=new e.Vector3(0,0,-1);o.applyQuaternion(w.quaternion),J=w.position.clone().add(o.multiplyScalar(5)),console.log("Captured initial camera position:",Y),console.log("Captured initial camera quaternion:",K),window.addEventListener("scroll",te),window.testScrollAnimation=()=>{console.log("🧪 Manual test trigger - forcing scroll animation"),ee(),setTimeout((()=>{console.log("🧪 Testing animation at 0.5 progress"),Object.keys(P).forEach((e=>{Q[e]&&X(e,.5)})),oe(.5)}),100)},console.log("Scroll system initialized - you can test with window.testScrollAnimation()")}(),function(){console.log("Setting up intro animations...");const e=document.querySelector(".sc_h--intro");e?(e.style.transform="scale(0)",e.style.opacity="0",e.style.display="none",console.log("✅ Intro header element found and initialized")):console.warn("❌ Intro header element (.sc_h--intro) not found in DOM");const o=document.querySelector(".sc_b--intro");o?(o.style.transform="scale(0.5)",o.style.opacity="0",o.style.display="none",console.log("✅ Intro body element found and initialized")):console.warn("❌ Intro body element (.sc_b--intro) not found in DOM");const r=document.querySelectorAll('[class*="intro"]');console.log(`Found ${r.length} elements with 'intro' in class name:`,Array.from(r).map((e=>e.className)))}(),window.addEventListener("scroll",ce),console.log("Intro animations initialized"),ae(),console.log("Animation system initialized")}async function ue(){console.log("Starting CAM 3D Animation...");try{o?a.setPixelRatio(Math.min(window.devicePixelRatio,2)):a.setPixelRatio(window.devicePixelRatio),a.shadowMap.enabled=!0,a.shadowMap.type=e.PCFSoftShadowMap,a.shadowMap.enabled=!0,a.shadowMap.type=e.PCFSoftShadowMap,i?(a.setSize(i.clientWidth,i.clientHeight),i.appendChild(a.domElement)):(a.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(a.domElement)),console.log("Renderer initialized"),window.addEventListener("load",y),window.addEventListener("resize",y),console.log("Renderer initialized"),function(){const o=new e.AmbientLight(16777215);s.add(o);const r=new e.DirectionalLight(16777215,.8);s.add(r),r.position.set(-5,15,10),r.shadow.mapSize.width=4096,r.shadow.mapSize.height=4096,r.shadow.camera.left=-20,r.shadow.camera.right=20,r.shadow.camera.top=20,r.shadow.camera.bottom=-20,r.shadow.camera.near=.1,r.shadow.camera.far=50,r.shadow.bias=-.001,r.shadow.radius=3,r.castShadow=!0,console.log("Lighting setup complete")}(),console.log("Lighting setup complete"),console.log("Camera start position:",t),console.log("Camera look at position:",c),w.position.copy(t),w.lookAt(c),console.log("Camera initialized at position:",w.position),console.log("Camera looking at:",c),console.log("Camera initialized"),window.addEventListener("resize",(()=>{w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix()})),console.log("Camera resize setup complete"),console.log("Loading 3D model..."),await async function(){return new Promise(((o,r)=>{console.log("Loading model from:",n),T.load(n,(function(r){console.log("GLTF model loaded successfully");const t=r.scene;t.traverse((o=>{if("CAM-Pacman"===o.name){const t=[];o.traverse((e=>{if(e.isMesh&&"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name){const o=m[e.name]||m.default;e.material=o,t.push(e)}else"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name||(e.visible=!1)})),t.forEach((e=>P.pacman.add(e))),P.pacman.scale.set(.05,.05,.05),P.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),f=new e.AnimationMixer(P.pacman);const c={};r.animations.forEach((e=>{const o=f.clipAction(e);c[e.name]=o,o.setEffectiveWeight(1),o.play()}))}else if(o.name&&S[o.name]){const r=S[o.name],t=new e.Group;o.rotation.z=Math.PI,o.rotation.x=Math.PI/2,o.scale.set(.75,.75,.75);const c=[];o.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=A:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),t.add(e)})),r.add(t)}if(o.isMesh)if("CAM-Arena_LowRes_Top"===o.name)console.log("Found maze top mesh:",o.name),o.material=V,o.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===o.name)console.log("Found maze bottom mesh:",o.name),o.material=h,o.castShadow=!0;else if("CAM-Floor"===o.name){const r=o.clone();o.position.y=-.1,o.position.x=0,o.position.z=0,o.material=new e.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:e.FrontSide}),o.receiveShadow=!1,o.castShadow=!0,o.scale.set(.5,.5,.5),r.material=g,r.position.y=-.5,r.receiveShadow=!0,s.add(r)}})),t.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),s.add(t),t.position.set(.5,.5,.5),console.log("Model added to scene with",s.children.length,"total children"),o()}),(function(e){console.log("Loading progress:",e)}),(function(e){console.error("Error loading 3D model:",e),r(e)}))}))}(),console.log("Model loading complete"),console.log("Initializing animation system..."),ie(),console.log("Animation system initialized"),console.log("Scene children count:",s.children.length),s.children.forEach(((e,o)=>{console.log(`Child ${o}:`,e.type,e.name||"unnamed")}))}catch(e){console.error("Initialization error:",e)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",ue):ue()})();
//# sourceMappingURL=script.js.map