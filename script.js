(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=THREE,t=window.innerWidth<768,o={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},c=gsap;var p=e.n(c);const n=ScrollTrigger;var s=e.n(n);const u=new r.Vector3(.55675,.35,.45175),w={startMobile:new r.Vector3(.5,2.5,2.5),startDesktop:new r.Vector3(-2,2.5,2),secondMobile:new r.Vector3(.5,2.5,2),secondDesktop:new r.Vector3(-1.5,3,.75),mobileLookAt:new r.Vector3(.5,.5,-1.5),desktopLookAt:new r.Vector3(-1.25,.5,.25),cameraLookAtSecondDesktop:new r.Vector3(-.75,.5,-.75),cameraLookAtSecondMobile:new r.Vector3(-.75,.5,-.75),cameraHomeScrollEndLookAt:new r.Vector3(.55675,-5,.35),thirdPosition:new r.Vector3(.55675,3,.45175),cameraHomeScrollEndPathPoint:new r.Vector3(.55675,.5,.45175)},a=t?w.startMobile:w.startDesktop,y=t?w.secondMobile:w.secondDesktop,i=t?w.mobileLookAt:w.desktopLookAt,v=t?w.cameraLookAtSecondMobile:w.cameraLookAtSecondDesktop,l=w.thirdPosition,V=w.cameraHomeScrollEndLookAt,h=w.cameraHomeScrollEndPathPoint,A=[{pos:new r.Vector3(.25525,.55,.6025),type:"straight"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"straight"},{pos:new r.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new r.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.25525,.55,.6025),type:"straight"}],T=[{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,.8035),type:"straight"},{pos:new r.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.703),type:"straight"},{pos:new r.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],m=[{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new r.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.502),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new r.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],g=[{pos:new r.Vector3(.85825,.55,.75325),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.2005),type:"straight"},{pos:new r.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.301),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"straight"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"straight"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.75325),type:"straight"}],d=[{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new r.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.8035),type:"straight"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"straight"},{pos:new r.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.1),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"}],f=[{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new r.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new r.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],M=[{pos:a,lookAt:i},{pos:y,lookAt:v},{pos:l,lookAt:V},{pos:h,lookAt:V}];function C(){return a}function P(){return i}new r.Vector3(.55675,.5,.45175),new r.Vector3(.55675,.55,.6025),new r.Vector3(.607,.55,.703),new r.Vector3(.65725,.55,.75325),new r.Vector3(.7075,.55,.8035),new r.Vector3(.9085,.55,.8035),new r.Vector3(.95875,.55,.85375),new r.Vector3(.95875,.55,1.15525),new r.Vector3(.9085,.55,1.2055),new r.Vector3(.808,.55,1.2055),new r.Vector3(.75775,.55,1.15525),new r.Vector3(.75775,.55,1.05475),new r.Vector3(.7075,.55,1.0045),new r.Vector3(.205,.55,1.0045),new r.Vector3(.15475,.55,1.05475),new r.Vector3(.15475,.55,1.15525),new r.Vector3(.205,.55,1.2055),new r.Vector3(.5065,.55,1.2055),new r.Vector3(.55675,.55,1.306),new r.Vector3(-.44825,1,2.0095),new r.Vector3(1.05925,.55,.703),new r.Vector3(1.05925,.55,.75325),new r.Vector3(1.009,.55,.8035),new r.Vector3(.9085,.55,.8035),new r.Vector3(1.05925,.55,1.2055),new r.Vector3(1.009,.55,1.2055),new r.Vector3(.95875,.55,1.15525),new r.Vector3(.95875,.55,1.05475),new r.Vector3(.35575,.55,.904),new r.Vector3(.35575,.55,.95425),new r.Vector3(.406,.55,1.0045),new r.Vector3(.5065,.55,1.0045),new r.Vector3(.15475,.55,1.105),new r.Vector3(.15475,.55,1.05475),new r.Vector3(.205,.55,1.0045),new r.Vector3(.3055,.55,1.0045),new r.Vector3(.55675,.55,1.306),new r.Vector3(.55675,.55,1.25575),new r.Vector3(.5065,.55,1.2055),new r.Vector3(.406,.55,1.2055),new r.Vector3(.65725,.55,.75325),new r.Vector3(.7075,.55,.8035),new r.Vector3(.75775,.55,.8035),new r.Vector3(.85825,.55,.8035),new r.Vector3(.9085,.55,.8035),new r.Vector3(.95875,.55,.85375),new r.Vector3(.95875,.55,.904),new r.Vector3(.95875,.55,1.0045),new r.Vector3(.75775,.55,1.05475),new r.Vector3(.7075,.55,1.0045),new r.Vector3(.65725,.55,1.0045),new r.Vector3(.55675,.55,1.0045),new r.Vector3(.65725,.55,1.0045),new r.Vector3(.5065,.55,1.0045),new r.Vector3(.45625,.55,1.0045),new r.Vector3(.35575,.55,1.0045),new r.Vector3(.15475,.55,1.15525),new r.Vector3(.205,.55,1.2055),new r.Vector3(.25525,.55,1.2055),new r.Vector3(.35575,.55,1.2055);const S={pacman:A,ghost1:T,ghost2:m,ghost3:g,ghost4:d,ghost5:f};function z(){return M}p().registerPlugin(s());const _=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100),b=new r.Scene,x=new r.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),$=new r.Clock,E=[];function k(){const e=Math.min(window.devicePixelRatio,t?2:3);x.setPixelRatio(e),o.mazeContainer?x.setSize(o.mazeContainer.clientWidth,o.mazeContainer.clientHeight):x.setSize(window.innerWidth,window.innerHeight)}const B=(new r.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),L=new r.MeshMatcapMaterial({matcap:B}),R=new r.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),G=new r.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.NormalBlending,side:r.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),I=new r.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),D={blue:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},H={CAM_Pacman_Backframe:D.blue,"CAM-Pacman_Bitcoin_1":D.white,"CAM-Pacman_Bitcoin_2":D.white,"CAM-Pacman_Bottom":D.blue,"CAM-Pacman_Top":D.blue,"CAM-Pacman_Eye":D.white,CAM_Pacman_Logo_1:D.white,CAM_Pacman_Logo_2:D.white,"CAM-Pacman_Shell_Boolean":D.blue,"CAM-Pacman_Shell":D.blue,"CAM-Pacman_Bottom_electronic":D.white,"CAM-Pacman_Top_electronic":D.white,"CAM-Pacman_Bottom_Text":D.white,"CAM-Pacman_Top_Text":D.white,default:D.blue},j=new r.GLTFLoader;let W;const q=new r.Group,O={pacman:q,ghost1:new r.Mesh(new r.BufferGeometry,G),ghost2:new r.Mesh(new r.BufferGeometry,G),ghost3:new r.Mesh(new r.BufferGeometry,G),ghost4:new r.Mesh(new r.BufferGeometry,G),ghost5:new r.Mesh(new r.BufferGeometry,G)},F={Ghost_EUR:O.ghost1,Ghost_CHF:O.ghost2,Ghost_YEN:O.ghost3,Ghost_USD:O.ghost4,Ghost_GBP:O.ghost5},U=new Map;function Q(e,t){if(e.curveType){const o=e.curveType;if("upperArc"===o)return new r.Vector3(e.pos.x,e.pos.y,t.pos.z);if("lowerArc"===o)return new r.Vector3(t.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===o)return new r.Vector3(e.pos.x,t.pos.y,e.pos.z)}return new r.Vector3(e.pos.x,e.pos.y,t.pos.z)}function Y(e){const t=new r.CurvePath;if(4===e.length){const o=new r.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(o)}return t}function N(){const e={};return Object.entries(S).forEach((([t,o])=>{e[t]=function(e,t){const o=e.map((e=>`${e.pos.x},${e.pos.y},${e.pos.z},${e.type},${e.curveType||""}`)).join("|");if(U.has(o))return U.get(o);const c=new r.CurvePath;let p=[];console.log(`Initial catmullPoints for ${t}:`,p.length,"points");let n=0;for(;n<e.length-1;){const o=e[n],s=e[n+1];if("straight"===o.type)p.length>=2&&(p.push(o.pos),console.log("Straight to catmullPoints",p),console.log("Creating CatmullRomCurve3 with points:",p.map((e=>`(${e.x}, ${e.y}, ${e.z})`))),c.add(new r.CatmullRomCurve3(p))),console.log("Creating LineCurve3 from",`(${o.pos.x}, ${o.pos.y}, ${o.pos.z})`,"to",`(${s.pos.x}, ${s.pos.y}, ${s.pos.z})`),c.add(new r.LineCurve3(o.pos,s.pos)),p=[],n++;else if("curve"===o.type&&"curve"===s.type&&o.curveType!==s.curveType){const e=p.some((e=>e.x===o.pos.x&&e.y===o.pos.y&&e.z===o.pos.z)),r=p.some((e=>e.x===s.pos.x&&e.y===s.pos.y&&e.z===s.pos.z));e||p.push(o.pos),r||p.push(s.pos),console.log(`Segment ${n}: Added points to catmullPoints for ${t}`,p.length,"total points"),n++}else{const e=Q(o,s);p.length>=1?(p.some((e=>e.x===o.pos.x&&e.y===o.pos.y&&e.z===o.pos.z))?(p.push(s.pos),console.log("Curve to catmullPoints",p),console.log("Creating CatmullRomCurve3 with points:",p.map((e=>`(${e.x}, ${e.y}, ${e.z})`))),c.add(new r.CatmullRomCurve3(p)),p=[]):(p.push(o.pos),p.push(s.pos),console.log("Curve to catmullPoints",p),console.log("Creating CatmullRomCurve3 with points:",p.map((e=>`(${e.x}, ${e.y}, ${e.z})`))),c.add(new r.CatmullRomCurve3(p)),p=[]),n++):(console.log("Creating QuadraticBezierCurve3 from",`(${o.pos.x}, ${o.pos.y}, ${o.pos.z})`,"via",`(${e.x}, ${e.y}, ${e.z})`,"to",`(${s.pos.x}, ${s.pos.y}, ${s.pos.z})`),c.add(new r.QuadraticBezierCurve3(o.pos,e,s.pos)),p=[],n++)}}return U.set(o,c),c}(o,t)})),e}function J(e,t,o){const c=(new r.Quaternion).setFromEuler(new r.Euler(Math.PI/2,0,0)),p=(new r.Quaternion).setFromEuler(new r.Euler(-Math.PI/2,0,0)),n=t.angleTo(c)<t.angleTo(p)?c:p;e.quaternion.copy(t.clone().slerp(n,o))}let K=null,X=!1;const Z={pacman:.9,ghost1:1,ghost2:1.1,ghost3:1.2,ghost4:1.3,ghost5:1.4};function ee(e,t){K&&(K.kill(),K=null);const o=function(e){const t=function(e){const t={};return Object.entries(e).forEach((([e,o])=>{const c=new r.Vector3(o.x*(1/4)+u.x*(3/4),1.5,o.z*(1/4)+u.z*(3/4));t[e]=[{pos:o.clone()},{pos:c},{pos:u}]})),t}(e),o={camera:Y(z())};return Object.entries(t).forEach((([e,t])=>{o[e]=function(e){const t=new r.CurvePath;if(3===e.length){const o=new r.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);t.add(o)}return t}(t)})),o}(e),c=z();K=p().timeline({scrollTrigger:{id:"homeScroll",trigger:".sc--home",start:"top top",end:"bottom top",scrub:.5,onScrubComplete:()=>{ue()}}}).to({progress:0},{progress:1,immediateRender:!1,onUpdate:function(){!function(e,t,o,c){if(t.camera){const o=t.camera.getPointAt(e);_.position.copy(o);const p=new r.CubicBezierCurve3(c[0].lookAt,c[1].lookAt,c[2].lookAt,c[3].lookAt).getPoint(e);_.lookAt(p),_.updateProjectionMatrix()}const p=.85,n=e<p?1:e>.95?0:1-(e-p)/.09999999999999998;if(t.pacman&&q){const r=Z.pacman??1,c=Math.min(e*r,1),p=Math.pow(c,1.25),s=t.pacman.getPointAt(p);s&&(q.position.copy(s),J(q,o.pacman,p),q.traverse((e=>{e.isMesh&&e.material&&(e.material.opacity=n)})))}Object.entries(O).forEach((([r,c])=>{const p=t[r];if(p){const t=Z[r]??1,s=Math.min(e*t,1),u=Math.pow(s,1.25),w=p.getPointAt(u);w&&(c.position.copy(w),J(c,o[r],u),c.material&&(c.material.opacity=n))}}))}(this.targets()[0].progress,o,t,c)}});const s=n.ScrollTrigger.getById("homeScroll");s&&K&&(X?K.progress(s.progress):(X=!0,p().to(K,{progress:s.progress,duration:.5,ease:"power2.out"})))}const re=50;let te=!0,oe=0,ce=0,pe={},ne={},se=!1;function ue(){0===window.scrollY&&function(){te=!0,oe=ce*re;const e=N();var r;Object.entries(O).forEach((([r,t])=>{const o=e[r];if(o){const e=o.getPointAt(0);e&&t.position.copy(e)}})),se||(r=()=>function(e){if(!te)return;oe+=e;const r=oe%re/re,t=N();Object.entries(O).forEach((([e,o])=>{const c=t[e];if(c){const t=c.getPointAt(r),p=c.getTangentAt(r);t&&o.position.copy(t),p&&p.length()>0&&function(e,r,t="ghost"){if(!r||0===r.length())return;const o=Math.atan2(r.x,r.z);if("pacman"===t)e.rotation.set(Math.PI/2,Math.PI,o+Math.PI/2);else if("ghost"===t)e.rotation.set(0,o,0);else if("camera"===t){const t=e.position.clone().add(r);e.lookAt(t)}}(o,p,"pacman"===e?"pacman":"ghost")}}))}($.getDelta()),E.push(r),se=!0)}()}!async function(){t?x.setPixelRatio(Math.min(window.devicePixelRatio,2)):x.setPixelRatio(window.devicePixelRatio),x.shadowMap.enabled=!0,x.shadowMap.type=r.PCFSoftShadowMap,o.mazeContainer?(x.setSize(o.mazeContainer.clientWidth,o.mazeContainer.clientHeight),o.mazeContainer.appendChild(x.domElement)):(x.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(x.domElement)),k(),window.addEventListener("resize",k),x.render(b,_),function(){const e=new r.AmbientLight(16777215);b.add(e);const t=new r.DirectionalLight(16777215,.8);b.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}(),function(){const e=C(),r=P();_.position.set(e.x,e.y,e.z),_.lookAt(r.x,r.y,r.z)}(),await async function(e){return Object.values(O).forEach((r=>e.add(r))),e.add(q),new Promise(((t,o)=>{j.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(o){const c=o.scene;console.log("=== 3D Model Hierarchy ==="),c.traverse((e=>{console.log(`[${e.type}] ${e.name}`)})),console.log("========================="),c.traverse((t=>{if("CAM-Pacman"===t.name){const e=[];t.traverse((r=>{if(r.isMesh&&"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name){const t=H[r.name]||H.default;r.material=t,e.push(r)}else"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name||(r.visible=!1)})),e.forEach((e=>O.pacman.add(e))),O.pacman.scale.set(.05,.05,.05),O.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),W=new r.AnimationMixer(O.pacman);const c={};o.animations.forEach((e=>{const r=W.clipAction(e);c[e.name]=r,r.setEffectiveWeight(1),r.play()}))}else if(t.name&&F[t.name]){const e=F[t.name],o=new r.Group;t.rotation.z=Math.PI,t.rotation.x=Math.PI/2,t.scale.set(.75,.75,.75);const c=[];t.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=G:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),o.add(e)})),e?e.add(o):console.warn(`ghostContainer for ${t.name} is undefined!`)}if(t.isMesh)if("CAM-Arena_LowRes_Top"===t.name)t.material=R,t.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===t.name)t.material=L,t.castShadow=!0;else if("CAM-Floor"===t.name){const o=t.clone();t.position.y=-.1,t.position.x=0,t.position.z=0,t.material=new r.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:r.FrontSide}),t.receiveShadow=!1,t.castShadow=!0,t.scale.set(.5,.5,.5),o.material=I,o.position.y=-.5,o.receiveShadow=!0,e.add(o)}})),c.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(c),c.position.set(.5,.5,.5),t()}),(function(e){}),(function(e){o(e)}))}))}(b),ue(),window.addEventListener("scroll",(()=>{0!==window.scrollY&&te&&(te=!1,ce=oe%re/re,pe={},ne={},Object.entries(O).forEach((([e,r])=>{pe[e]=r.position.clone(),ne[e]=r.quaternion.clone()})),ee(pe,ne))})),function(){const e=()=>{E.forEach((e=>e())),x.render(b,_),requestAnimationFrame(e)};e()}()}()})();
//# sourceMappingURL=script.js.map