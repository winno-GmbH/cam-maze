(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=THREE,t=window.innerWidth<768,o={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},c=gsap;var n=e.n(c);const a=ScrollTrigger;var s=e.n(a);const p=new r.Vector3(.55675,.35,.45175),i={startMobile:new r.Vector3(.5,2.5,2.5),startDesktop:new r.Vector3(-2,2.5,2),secondMobile:new r.Vector3(.5,2.5,2),secondDesktop:new r.Vector3(-1.5,3,.75),mobileLookAt:new r.Vector3(.5,.5,-1.5),desktopLookAt:new r.Vector3(-1.25,.5,.25),cameraLookAtSecondDesktop:new r.Vector3(-.75,.5,-.75),cameraLookAtSecondMobile:new r.Vector3(-.75,.5,-.75),cameraHomeScrollEndLookAt:new r.Vector3(.55675,-5,.35),thirdPosition:new r.Vector3(.55675,3,.45175),cameraHomeScrollEndPathPoint:new r.Vector3(.55675,.5,.45175)},w=t?i.startMobile:i.startDesktop,u=t?i.secondMobile:i.secondDesktop,l=t?i.mobileLookAt:i.desktopLookAt,y=t?i.cameraLookAtSecondMobile:i.cameraLookAtSecondDesktop,h=i.thirdPosition,V=i.cameraHomeScrollEndLookAt,g=i.cameraHomeScrollEndPathPoint,m=[{pos:new r.Vector3(.25525,.55,.6025),type:"straight"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"straight"},{pos:new r.Vector3(.45625,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",arc:"upperArc",curveCheckPoints:[new r.Vector3(-.44825,.55,-.05),new r.Vector3(-.398,.55,-5e-4),new r.Vector3(-.34775,.55,.05)]},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(-.04625,.55,.6025),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new r.Vector3(-.24725,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",arc:"upperArc",curveCheckPoints:[new r.Vector3(-.34775,.55,.95),new r.Vector3(-.398,.55,1.0045),new r.Vector3(-.44825,.55,1.05)]},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.24725,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.25525,.55,.6025),type:"straight"}],d=[{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.24725,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.75775,.55,.8035),type:"straight"},{pos:new r.Vector3(.95875,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.703),type:"straight"},{pos:new r.Vector3(1.46125,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.502),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],v=[{pos:new r.Vector3(-.04625,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new r.Vector3(-.14675,.55,.6025),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.502),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new r.Vector3(1.15975,.55,-5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],A=[{pos:new r.Vector3(.85825,.55,.75325),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.15125),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,.2005),type:"straight"},{pos:new r.Vector3(1.36075,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.301),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.009,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"straight"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"straight"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.808,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.85825,.55,.75325),type:"straight"}],f=[{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new r.Vector3(1.05925,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.95875,.55,.8035),type:"straight"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.398,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"straight"},{pos:new r.Vector3(.75775,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.95875,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.26025,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.1),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"}],P=[{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new r.Vector3(-.04625,.55,5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.398,.55,5e-4),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new r.Vector3(1.15975,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",arc:"lowerArc"}],S=[{pos:h,lookAt:V},{pos:u,lookAt:y},{pos:h,lookAt:V},{pos:g,lookAt:V}],M=[{pos:new r.Vector3(.55675,.5,.45175),type:"curve",arc:"forwardDownArc"},{pos:new r.Vector3(.55675,.55,.6025),type:"curve",arc:"upperArc",curveCheckPoints:[new r.Vector3(.55675,.55,.6525),new r.Vector3(.607,.55,.703),new r.Vector3(.65725,.55,.75325),new r.Vector3(.7075,.55,.8035)]},{pos:new r.Vector3(.75775,.55,.8035),type:"straight"},{pos:new r.Vector3(.9085,.55,.8035),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.95875,.55,.85375),type:"straight"},{pos:new r.Vector3(.95875,.55,1.15525),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.9085,.55,1.2055),type:"straight"},{pos:new r.Vector3(.808,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.15525),type:"straight"},{pos:new r.Vector3(.75775,.55,1.05475),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.7075,.55,1.0045),type:"straight"},{pos:new r.Vector3(.205,.55,1.0045),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.05475),type:"straight"},{pos:new r.Vector3(.15475,.55,1.15525),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.205,.55,1.2055),type:"straight"},{pos:new r.Vector3(.5065,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.55675,.55,1.306),type:"curve",arc:"upperArc"},{pos:new r.Vector3(-.44825,1,2.0095),type:"straight"}],C=[{pos:new r.Vector3(1.05925,.55,.703),type:"straight"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",arc:"upperArc"},{pos:new r.Vector3(1.009,.55,.8035),type:"straight"},{pos:new r.Vector3(.9085,.55,.8035),type:"straight"}],b=[{pos:new r.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.009,.55,1.2055),type:"curve",arc:"lowerArc"},{pos:new r.Vector3(.95875,.55,1.15525),type:"straight"},{pos:new r.Vector3(.95875,.55,1.05475),type:"straight"}],F=[{pos:new r.Vector3(.35575,.55,.904),type:"straight"},{pos:new r.Vector3(.35575,.55,.95425),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.406,.55,1.0045),type:"straight"},{pos:new r.Vector3(.5065,.55,1.0045),type:"straight"}],E=[{pos:new r.Vector3(.15475,.55,1.105),type:"straight"},{pos:new r.Vector3(.15475,.55,1.05475),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.205,.55,1.0045),type:"straight"},{pos:new r.Vector3(.3055,.55,1.0045),type:"straight"}],I=[{pos:new r.Vector3(.55675,.55,1.306),type:"straight"},{pos:new r.Vector3(.55675,.55,1.25575),type:"curve",arc:"upperArc"},{pos:new r.Vector3(.5065,.55,1.2055),type:"straight"},{pos:new r.Vector3(.406,.55,1.2055),type:"straight"}],k={ghost1:{triggerPos:new r.Vector3(.65725,.55,.75325),ghostStartFadeIn:new r.Vector3(.7075,.55,.8035),ghostEndFadeIn:new r.Vector3(.725,.55,.8035),ghostStartFadeOut:new r.Vector3(.75,.55,.8035),camStartFadeIn:new r.Vector3(.75775,.55,.8035),camEndFadeIn:new r.Vector3(.775,.55,.8035),camStartFadeOut:new r.Vector3(.84,.55,.8035),endPosition:new r.Vector3(.85825,.55,.8035)},ghost2:{triggerPos:new r.Vector3(.9085,.55,.8035),ghostStartFadeIn:new r.Vector3(.95875,.55,.85375),ghostEndFadeIn:new r.Vector3(.95875,.55,.875),ghostStartFadeOut:new r.Vector3(.95875,.55,.89),camStartFadeIn:new r.Vector3(.95875,.55,.904),camEndFadeIn:new r.Vector3(.95875,.55,.93),camStartFadeOut:new r.Vector3(.95875,.55,.9975),endPosition:new r.Vector3(.95875,.55,1.0045)}};function z(){return w}function x(){return l}const T={pacman:m,ghost1:d,ghost2:v,ghost3:A,ghost4:f,ghost5:P},_={camera:M,ghost1:C,ghost2:b,ghost3:F,ghost4:E,ghost5:I};function O(){return S}n().registerPlugin(s());const L=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100),B=new r.Scene,$=new r.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),q=new r.Clock,j=[];function G(){const e=Math.min(window.devicePixelRatio,t?2:3);$.setPixelRatio(e),o.mazeContainer?$.setSize(o.mazeContainer.clientWidth,o.mazeContainer.clientHeight):$.setSize(window.innerWidth,window.innerHeight)}const R=(new r.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),D=new r.MeshMatcapMaterial({matcap:R}),H=new r.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),W=new r.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.NormalBlending,side:r.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),U=new r.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),Q={blue:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},Y={CAM_Pacman_Backframe:Q.blue,"CAM-Pacman_Bitcoin_1":Q.white,"CAM-Pacman_Bitcoin_2":Q.white,"CAM-Pacman_Bottom":Q.blue,"CAM-Pacman_Top":Q.blue,"CAM-Pacman_Eye":Q.white,CAM_Pacman_Logo_1:Q.white,CAM_Pacman_Logo_2:Q.white,"CAM-Pacman_Shell_Boolean":Q.blue,"CAM-Pacman_Shell":Q.blue,"CAM-Pacman_Bottom_electronic":Q.white,"CAM-Pacman_Top_electronic":Q.white,"CAM-Pacman_Bottom_Text":Q.white,"CAM-Pacman_Top_Text":Q.white,default:Q.blue},N=new r.GLTFLoader;let J;const K=new r.Group,X={pacman:K,ghost1:new r.Mesh(new r.BufferGeometry,W),ghost2:new r.Mesh(new r.BufferGeometry,W),ghost3:new r.Mesh(new r.BufferGeometry,W),ghost4:new r.Mesh(new r.BufferGeometry,W),ghost5:new r.Mesh(new r.BufferGeometry,W)},Z={Ghost_EUR:X.ghost1,Ghost_CHF:X.ghost2,Ghost_YEN:X.ghost3,Ghost_USD:X.ghost4,Ghost_GBP:X.ghost5},ee=new Map;class re{constructor(e,r=.05){this.currentTangent=e.clone(),this.smoothing=r}update(e){return this.currentTangent.lerp(e,this.smoothing),this.currentTangent.normalize()}reset(e){this.currentTangent.copy(e)}setSmoothingFactor(e){this.smoothing=Math.max(.001,Math.min(1,e))}}function te(e,t){const o=e.map((e=>`${e.pos.x},${e.pos.y},${e.pos.z},${e.type},${e.arc||""}`)).join("|");if(ee.has(o))return ee.get(o);const c=new r.CurvePath;let n=0;for(;n<e.length-1;){const o=e[n],a=e[n+1];if(o.curveCheckPoints&&o.curveCheckPoints.length>0){const e=[o.pos,...o.curveCheckPoints,a.pos];console.log(`Creating CatmullRomCurve3 for ${t} with curveCheckPoints:`,e.map((e=>`(${e.x}, ${e.y}, ${e.z})`))),c.add(new r.CatmullRomCurve3(e,!1,"centripetal",0))}else if("straight"===o.type)console.log("Creating LineCurve3 from",`(${o.pos.x}, ${o.pos.y}, ${o.pos.z})`,"to",`(${a.pos.x}, ${a.pos.y}, ${a.pos.z})`),c.add(new r.LineCurve3(o.pos,a.pos));else{const e=oe(o,a);console.log("Creating QuadraticBezierCurve3 from",`(${o.pos.x}, ${o.pos.y}, ${o.pos.z})`,"via",`(${e.x}, ${e.y}, ${e.z})`,"to",`(${a.pos.x}, ${a.pos.y}, ${a.pos.z})`),c.add(new r.QuadraticBezierCurve3(o.pos,e,a.pos))}n++}return ee.set(o,c),c}function oe(e,t){if(e.arc){const o=e.arc;if("upperArc"===o)return new r.Vector3(e.pos.x,e.pos.y,t.pos.z);if("lowerArc"===o)return new r.Vector3(t.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===o)return new r.Vector3(e.pos.x,t.pos.y,e.pos.z)}return new r.Vector3(e.pos.x,e.pos.y,t.pos.z)}function ce(e){const t=new r.CurvePath;if(4===e.length){const o=new r.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(o)}return t}function ne(){const e={};return Object.entries(T).forEach((([r,t])=>{e[r]=te(t,r)})),e}function ae(){const e={};return Object.entries(_).forEach((([r,t])=>{e[r]=te(t,r)})),e}function se(e,r,t="ghost"){if(!r||0===r.length())return;const o=Math.atan2(r.x,r.z);if("pacman"===t)e.rotation.set(Math.PI/2,Math.PI,o+Math.PI/2);else if("ghost"===t)e.rotation.set(0,o,0);else if("camera"===t){const t=e.position.clone().add(r);e.lookAt(t)}}function pe(e,t,o){const c=(new r.Quaternion).setFromEuler(new r.Euler(Math.PI/2,0,0)),n=(new r.Quaternion).setFromEuler(new r.Euler(-Math.PI/2,0,0)),a=t.angleTo(c)<t.angleTo(n)?c:n;e.quaternion.copy(t.clone().slerp(a,o))}let ie=null;const we={pacman:.9,ghost1:1,ghost2:1.1,ghost3:1.2,ghost4:1.3,ghost5:1.4};function ue(e,t){ie&&(ie.kill(),ie=null);const o=function(e){const t=function(e){const t={};return Object.entries(e).forEach((([e,o])=>{const c=new r.Vector3(o.x*(1/4)+p.x*(3/4),1.5,o.z*(1/4)+p.z*(3/4));t[e]=[{pos:o.clone()},{pos:c},{pos:p}]})),t}(e),o={camera:ce(O())};return Object.entries(t).forEach((([e,t])=>{o[e]=function(e){const t=new r.CurvePath;if(3===e.length){const o=new r.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);t.add(o)}return t}(t)})),o}(e),c=O();ie=n().timeline({scrollTrigger:{id:"homeScroll",trigger:".sc--home",start:"top top",end:"bottom top",scrub:.5,onScrubComplete:()=>{Ae()}}}).to({progress:0},{progress:1,immediateRender:!1,onUpdate:function(){!function(e,t,o,c){if(t.camera){const o=t.camera.getPointAt(e);L.position.copy(o);const n=new r.CubicBezierCurve3(c[0].lookAt,c[1].lookAt,c[2].lookAt,c[3].lookAt).getPoint(e);L.lookAt(n),L.updateProjectionMatrix()}const n=.85,a=e<n?1:e>.95?0:1-(e-n)/.09999999999999998;if(t.pacman&&K){const r=we.pacman??1,c=Math.min(e*r,1),n=Math.pow(c,1.25),s=t.pacman.getPointAt(n);s&&(K.position.copy(s),pe(K,o.pacman,n),K.traverse((e=>{e.isMesh&&e.material&&(e.material.opacity=a)})))}Object.entries(X).forEach((([r,c])=>{const n=t[r];if(n){const t=we[r]??1,s=Math.min(e*t,1),p=Math.pow(s,1.25),i=n.getPointAt(p);i&&(c.position.copy(i),pe(c,o[r],p),c.material&&(c.material.opacity=a))}}))}(this.targets()[0].progress,o,t,c)}})}const le=50;let ye=!0,he=0,Ve=0,ge={},me={},de=!1;const ve={};function Ae(){0===window.scrollY&&function(){ye=!0,he=Ve*le,ve.pacman=new re(new r.Vector3(1,0,0),.06),ve.ghost1=new re(new r.Vector3(1,0,0),.06),ve.ghost2=new re(new r.Vector3(1,0,0),.06),ve.ghost3=new re(new r.Vector3(1,0,0),.06),ve.ghost4=new re(new r.Vector3(1,0,0),.06),ve.ghost5=new re(new r.Vector3(1,0,0),.06);const e=ne();var t;Object.entries(X).forEach((([r,t])=>{const o=e[r];if(o){const e=o.getPointAt(0);if(e&&t.position.copy(e),ve[r]){const e=o.getTangentAt(0);e&&ve[r].reset(e)}}})),de||(t=()=>function(e){if(!ye)return;he+=e;const r=he%le/le,t=ne();Object.entries(X).forEach((([e,o])=>{const c=t[e];if(c){const t=c.getPointAt(r);if(t&&o.position.copy(t),ve[e]&&r>0){const t=c.getTangentAt(r);t&&t.length()>0&&se(o,ve[e].update(t),"pacman"===e?"pacman":"ghost")}}}))}(q.getDelta()),j.push(t),de=!0)}()}let fe=null,Pe=!1,Se=null,Me=!1,Ce=!1,be=!1,Fe=!1,Ee=0;const Ie=new r.Vector3(.55675,.55,1.306),ke=new r.Vector3(-.14675,1,1.8085),ze=new r.Vector3(.55675,.1,1.306),xe=new r.Vector3(-.14675,0,1.8085),Te=new r.Vector3(7.395407041377711,.9578031302345096,-4.312450290270135);let _e=null,Oe=!0;const Le={},Be={};function $e(){fe&&(fe.kill(),fe=null),ae(),Be.camera=new re(new r.Vector3(0,0,-1),.08),Be.ghost1=new re(new r.Vector3(1,0,0),.08),Be.ghost2=new re(new r.Vector3(1,0,0),.08),Be.ghost3=new re(new r.Vector3(1,0,0),.08),Be.ghost4=new re(new r.Vector3(1,0,0),.08),Be.ghost5=new re(new r.Vector3(1,0,0),.08),Object.keys(k).forEach((e=>{Le[e]={hasBeenTriggered:!1,hasBeenDeactivated:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0,ghostTextOpacity:0,camTextOpacity:0,lastProgress:0}})),fe=n().timeline({scrollTrigger:{id:"povScroll",trigger:o.povSection,start:"top bottom",end:"bottom top",endTrigger:".sc--final",scrub:.5,toggleActions:"play none none reverse",onEnter:()=>{Pe=!0},onLeave:Ge,onLeaveBack:Ge}}).to({progress:0},{progress:1,immediateRender:!1,onStart:qe,onUpdate:function(){je.call(this)},onReverseComplete:()=>Re(!0),onComplete:Re})}function qe(){const e=ae();if(Be.camera&&e.camera){const r=e.camera.getTangentAt(0);r&&Be.camera.reset(r)}Object.entries(X).forEach((([r,t])=>{if(e[r]&&"pacman"!==r){const o=e[r].getPointAt(0);t.position.copy(o);const c=e[r].getTangentAt(0).normalize();t.lookAt(o.clone().add(c)),t.visible=!1,t.scale.set(.5,.5,.5)}})),X.pacman&&(X.pacman.visible=!1),Me=!0}function je(){const e=this.targets()[0].progress,t=ae();if(!t.camera)return;const o=t.camera.getPointAt(e);Se?(function(e,t){const o=t.camera.getPointAt(e);L.position.copy(o),L.fov=80;const c=document.querySelector("canvas");c&&"none"===c.style.display&&e<.99&&(c.style.display="block");const a=t.camera.getTangentAt(e).normalize();let s=a;Be.camera&&e>0&&(s=Be.camera.update(a));const p=o.clone().add(s);e>=.973?function(e,t,o){const c=He(ae().camera,Ie),a=He(ae().camera,ke);if(e>=c&&e<=a){const s=(e-c)/(a-c);if(null===_e){const e=new r.Vector2(o.x-t.x,o.z-t.z).normalize();_e=Math.atan2(e.y,e.x),_e=_e>3?_e/2:_e}const p=new r.Vector2(ze.x-t.x,ze.z-t.z).normalize();let i=Math.atan2(p.y,p.x),w=i-_e;w>Math.PI?w-=2*Math.PI:w<-Math.PI&&(w+=2*Math.PI),w=1.75*-w,i=_e+w;const u=De(s),l=_e*(1-u)+i*u,y=1,h=new r.Vector3(t.x+Math.cos(l)*y,t.y,t.z+Math.sin(l)*y);L.lookAt(h),Ce=!0,e>=.8&&!be&&(be=!0,function(){const e=document.querySelector(".sc--final.sc");e&&n().timeline({scrollTrigger:{trigger:".sc--final",start:"top top",end:"bottom bottom",scrub:.5,toggleActions:"play none none reverse"}}).to(e,{opacity:1,ease:"power2.inOut",onComplete:()=>{Fe=!0,be=!1}})}())}}(e,o,p):e>.8&&Fe?function(e){if(0===Ee&&1!==e){const r=Math.floor(100*e)/100;Ee=.99===r?.973:e}const t=(e-Ee)/(1-Ee);if(Oe&&t>0){const e=function(){const e=new r.Vector3(0,0,-1);e.applyQuaternion(L.quaternion);const t=new r.Vector3;return t.copy(L.position).add(e.multiplyScalar(10)),t}(),o=(new r.Vector3).lerpVectors(e,xe,De(t)),c=80,n=20;L.fov=c+(n-c)*De(t),L.lookAt(o)}else if(t>0){const e=(new r.Vector3).lerpVectors(Te,xe,De(t)),o=20,c=80;L.fov=c-(c-o)*De(t),L.lookAt(e)}}(e):function(e,r){const t=He(ae().camera,Ie),o=He(ae().camera,ke);if((e<t||e>o)&&!be){_e=null,Ce=!1,Fe=!1,be=!1;const e=document.querySelector(".sc--final.sc");e&&(e.style.opacity="0")}Ce||be||L.lookAt(r),Fe&&e>.8||(Ee=0)}(e,p),L.updateProjectionMatrix()}(e,t),function(e,r,t){Object.entries(k).forEach((([r,o])=>{const c=X[r],n=t[r];c&&n&&"pacman"!==r&&function(e,r,t,o,c){const{triggerPos:n,ghostStartFadeIn:a,ghostEndFadeIn:s,ghostStartFadeOut:p,camStartFadeIn:i,camEndFadeIn:w,camStartFadeOut:u,endPosition:l}=c,y=Le[e],h=document.querySelectorAll(".cmp--pov.cmp")[parseInt(e.replace("ghost",""))-1];if(!h)return;const V=h.querySelectorAll(".pov"),g=h.querySelectorAll(".cam");if(!V||!g||0===V.length||0===g.length)return;null===y.triggerCameraProgress&&(y.triggerCameraProgress=He(ae().camera,n,800),y.ghostStartFadeInProgress=He(ae().camera,a,800),y.ghostEndFadeInProgress=He(ae().camera,s,800),y.ghostStartFadeOutProgress=He(ae().camera,p,800),y.camStartFadeInProgress=He(ae().camera,i,800),y.camEndFadeInProgress=He(ae().camera,w,800),y.camStartFadeOutProgress=He(ae().camera,u,800),y.endCameraProgress=He(ae().camera,l,800));const m=He(ae().camera,o,800);if(m>=y.triggerCameraProgress&&m<=y.endCameraProgress){if(!r.visible&&(r.visible=!0,y.hasBeenTriggered=!0,Be[e])){const r=t.getTangentAt(0);r&&Be[e].reset(r)}const o=(m-y.triggerCameraProgress)/(y.endCameraProgress-y.triggerCameraProgress);let c=Math.max(0,Math.min(1,o));if(void 0===y.currentPathT)y.currentPathT=c;else{const e=.1;y.currentPathT+=(c-y.currentPathT)*e}c=y.currentPathT;const n=t.getPointAt(c);if(r.position.copy(n),Be[e]&&c>0){const o=t.getTangentAt(c);o&&o.length()>0&&se(r,Be[e].update(o),"ghost")}if(c>.9){const e=r;e.material&&"opacity"in e.material&&(e.material.opacity=1-(c-.9)/.1)}else{const e=r;e.material&&"opacity"in e.material&&(e.material.opacity=1)}}else r.visible=!1,y.hasBeenTriggered=!1;!function(e,r,t,o,c,n){let a=0,s=0;if(r>=t.ghostStartFadeInProgress&&r<=t.ghostEndFadeInProgress){const e=(r-t.ghostStartFadeInProgress)/(t.ghostEndFadeInProgress-t.ghostStartFadeInProgress);a=Math.min(1,e),o.style.opacity=a.toString()}else if(r>t.ghostEndFadeInProgress&&r<t.ghostStartFadeOutProgress)a=1;else if(r>=t.ghostStartFadeOutProgress&&r<=t.camStartFadeInProgress){const e=(r-t.ghostStartFadeOutProgress)/(t.camStartFadeInProgress-t.ghostStartFadeOutProgress);a=Math.max(0,1-e)}if(r>=t.camStartFadeInProgress&&r<=t.camEndFadeInProgress){const e=(r-t.camStartFadeInProgress)/(t.camEndFadeInProgress-t.camStartFadeInProgress);s=Math.min(1,e)}else if(r>t.camEndFadeInProgress&&r<t.camStartFadeOutProgress)s=1;else if(r>=t.camStartFadeOutProgress&&r<=t.endCameraProgress){const e=(r-t.camStartFadeOutProgress)/(t.endCameraProgress-t.camStartFadeOutProgress);s=Math.max(0,1-e),o.style.opacity=s.toString()}s>.01&&a>.01?o.classList.contains("no-visibility")||o.classList.add("no-visibility"):o.classList.contains("no-visibility")||o.classList.remove("no-visibility"),c.forEach((e=>{const r=e;a>.01?(r.classList.remove("no-visibility"),r.style.opacity=a.toString()):a<=.01&&!r.classList.contains("no-visibility")&&(r.classList.add("no-visibility"),r.style.opacity="0")})),n.forEach((e=>{const r=e;s>.01?(r.classList.remove("no-visibility"),r.style.opacity=s.toString()):s<=.01&&!r.classList.contains("no-visibility")&&(r.classList.add("no-visibility"),r.style.opacity="0")}))}(0,m,y,h,V,g)}(r,c,n,e,o)}))}(o,0,t),Se.copy(o)):Se=o.clone()}function Ge(){Pe=!1,Object.entries(X).forEach((([e,r])=>{if("pacman"!==e){r.visible=!1;const t=parseInt(e.replace("ghost",""))-1,o=document.querySelectorAll(".cmp--pov.cmp")[t];if(o){const e=document.querySelectorAll(".pov"),r=document.querySelectorAll(".cam");e.forEach((e=>{const r=e;r.classList.add("no-visibility"),r.style.opacity="0"})),r.forEach((e=>{const r=e;r.classList.add("no-visibility"),r.style.opacity="0"}))}o.classList.contains("no-visibility")||o.classList.add("no-visibility");const c=r;c.material&&"opacity"in c.material&&(c.material.opacity=1)}})),X.pacman&&(X.pacman.visible=!0),L.fov=50,L.updateProjectionMatrix(),Object.keys(Be).forEach((e=>{if(Be[e]){const t="camera"===e?new r.Vector3(0,0,-1):new r.Vector3(1,0,0);Be[e].reset(t)}}))}function Re(e=!1){if(X.pacman&&(X.pacman.visible=!0),Ce=!1,_e=null,Ee=0,be=!1,e)Fe=!1;else{const e=document.querySelector("canvas");e&&(e.style.display="none"),L.lookAt(xe),Fe=!0}Object.keys(Le).forEach((e=>{Le[e]={hasBeenTriggered:!1,hasBeenDeactivated:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0,ghostTextOpacity:0,camTextOpacity:0,lastProgress:0},Be[e]&&Be[e].reset(new r.Vector3(1,0,0))})),Be.camera&&Be.camera.reset(new r.Vector3(0,0,-1))}function De(e){return e*e*(3-2*e)}function He(e,r,t=2e3){if(!e||!r)return 0;let o=0,c=1/0;for(let n=0;n<t;n++)try{const a=n/(t-1),s=e.getPointAt(a);if(!s)continue;const p=s.distanceTo(r);p<c&&(c=p,o=a)}catch(e){}return o}let We=0;window.addEventListener("scroll",(()=>{const e=window.scrollY;Oe=e>We,We=e})),async function(){t?$.setPixelRatio(Math.min(window.devicePixelRatio,2)):$.setPixelRatio(window.devicePixelRatio),$.shadowMap.enabled=!0,$.shadowMap.type=r.PCFSoftShadowMap,o.mazeContainer?($.setSize(o.mazeContainer.clientWidth,o.mazeContainer.clientHeight),o.mazeContainer.appendChild($.domElement)):($.setSize(window.innerWidth,window.innerHeight),document.body.appendChild($.domElement)),G(),window.addEventListener("resize",G),$.render(B,L),function(){const e=new r.AmbientLight(16777215);B.add(e);const t=new r.DirectionalLight(16777215,.8);B.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}(),function(){const e=z(),r=x();L.position.set(e.x,e.y,e.z),L.lookAt(r.x,r.y,r.z)}(),await async function(e){return Object.values(X).forEach((r=>e.add(r))),e.add(K),new Promise(((t,o)=>{N.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(o){const c=o.scene;console.log("=== 3D Model Hierarchy ==="),c.traverse((e=>{console.log(`[${e.type}] ${e.name}`)})),console.log("========================="),c.traverse((t=>{if("CAM-Pacman"===t.name){const e=[];t.traverse((r=>{if(r.isMesh&&"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name){const t=Y[r.name]||Y.default;r.material=t,e.push(r)}else"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name||(r.visible=!1)})),e.forEach((e=>X.pacman.add(e))),X.pacman.scale.set(.05,.05,.05),X.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),J=new r.AnimationMixer(X.pacman);const c={};o.animations.forEach((e=>{const r=J.clipAction(e);c[e.name]=r,r.setEffectiveWeight(1),r.play()}))}else if(t.name&&Z[t.name]){const e=Z[t.name],o=new r.Group;t.rotation.z=Math.PI,t.rotation.x=Math.PI/2,t.scale.set(.75,.75,.75);const c=[];t.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=W:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),o.add(e)})),e?e.add(o):console.warn(`ghostContainer for ${t.name} is undefined!`)}if(t.isMesh)if("CAM-Arena_LowRes_Top"===t.name)t.material=H,t.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===t.name)t.material=D,t.castShadow=!0;else if("CAM-Floor"===t.name){const o=t.clone();t.position.y=-.1,t.position.x=0,t.position.z=0,t.material=new r.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:r.FrontSide}),t.receiveShadow=!1,t.castShadow=!0,t.scale.set(.5,.5,.5),o.material=U,o.position.y=-.5,o.receiveShadow=!0,e.add(o)}})),c.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(c),c.position.set(.5,.5,.5),t()}),(function(e){}),(function(e){o(e)}))}))}(B),Ae(),window.addEventListener("scroll",(()=>{0!==window.scrollY&&ye&&(ye=!1,Ve=he%le/le,ge={},me={},Object.entries(X).forEach((([e,r])=>{ge[e]=r.position.clone(),me[e]=r.quaternion.clone()})),ue(ge,me))})),$e(),function(){const e=()=>{j.forEach((e=>e())),$.render(B,L),requestAnimationFrame(e)};e()}()}()})();
//# sourceMappingURL=script.js.map