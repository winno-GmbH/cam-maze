(()=>{"use strict";var e,t,r={352:e=>{e.exports=gsap},774:e=>{e.exports=ScrollTrigger}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var p=o[e]={exports:{}};return r[e](p,p.exports,c),p.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"==typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"==typeof r.then)return r}var p=Object.create(null);c.r(p);var n={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>n[e]=()=>r[e]));return n.default=()=>r,c.d(p,n),p},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const p=THREE,n=window.innerWidth<768,s=new p.Vector3(.55675,.45,.45175),a=(new p.Vector3(.65725,.55,.75325),new p.Vector3(.9085,.55,.8035),new p.Vector3(.75775,.55,1.05475),new p.Vector3(.65725,.55,1.0045),new p.Vector3(.15475,.55,1.15525),{startMobile:new p.Vector3(.5,2.5,2.5),startDesktop:new p.Vector3(-2,2.5,2),secondMobile:new p.Vector3(.5,2.5,2),secondDesktop:new p.Vector3(-1.5,3,2),mobileLookAt:new p.Vector3(.5,.5,-1.5),desktopLookAt:new p.Vector3(-1.25,.5,.25)}),i=n?a.startMobile:a.startDesktop,u=n?a.secondMobile:a.secondDesktop,y=n?a.mobileLookAt:a.desktopLookAt,w=".sc--home.sc",l={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},v=new p.Scene,h=new p.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),V=new p.Clock;function g(){const e=Math.min(window.devicePixelRatio,n?2:3);h.setPixelRatio(e),l.mazeContainer?h.setSize(l.mazeContainer.clientWidth,l.mazeContainer.clientHeight):h.setSize(window.innerWidth,window.innerHeight)}const d=new p.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,1e3);d.quaternion.clone();const A=(new p.Quaternion).setFromEuler(new p.Euler(-1.5708,0,0)),m=(new p.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),T=new p.MeshMatcapMaterial({matcap:m}),f=new p.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),P=new p.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:p.NormalBlending,side:p.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),M=new p.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),b={blue:new p.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new p.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new p.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},S={CAM_Pacman_Backframe:b.blue,"CAM-Pacman_Bitcoin_1":b.white,"CAM-Pacman_Bitcoin_2":b.white,"CAM-Pacman_Bottom":b.blue,"CAM-Pacman_Top":b.blue,"CAM-Pacman_Eye":b.white,CAM_Pacman_Logo_1:b.white,CAM_Pacman_Logo_2:b.white,"CAM-Pacman_Shell_Boolean":b.blue,"CAM-Pacman_Shell":b.blue,"CAM-Pacman_Bottom_electronic":b.white,"CAM-Pacman_Top_electronic":b.white,"CAM-Pacman_Bottom_Text":b.white,"CAM-Pacman_Top_Text":b.white,default:b.blue},x=(Array(5).fill(P),new p.GLTFLoader);let C;const O=new p.Group;v.add(O);const z={pacman:O,ghost1:new p.Mesh(new p.BufferGeometry,P),ghost2:new p.Mesh(new p.BufferGeometry,P),ghost3:new p.Mesh(new p.BufferGeometry,P),ghost4:new p.Mesh(new p.BufferGeometry,P),ghost5:new p.Mesh(new p.BufferGeometry,P)},E={Ghost_EUR:z.ghost1,Ghost_CHF:z.ghost2,Ghost_YEN:z.ghost3,Ghost_USD:z.ghost4,Ghost_GBP:z.ghost5};Object.values(z).forEach((e=>v.add(e)));const _=[{pos:new p.Vector3(.25525,.55,.6025),type:"straight"},{pos:new p.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,.1),type:"straight"},{pos:new p.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new p.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new p.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new p.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new p.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new p.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new p.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new p.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new p.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new p.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new p.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.25525,.55,.6025),type:"straight"}],B=[{pos:new p.Vector3(-.44825,.55,.502),type:"straight"},{pos:new p.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new p.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new p.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.301),type:"straight"},{pos:new p.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.75775,.55,.8035),type:"straight"},{pos:new p.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.46125,.55,.703),type:"straight"},{pos:new p.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new p.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.301),type:"straight"},{pos:new p.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new p.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new p.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.44825,.55,.703),type:"straight"},{pos:new p.Vector3(-.44825,.55,.502),type:"straight"}],L=[{pos:new p.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new p.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new p.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.502),type:"straight"},{pos:new p.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new p.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new p.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new p.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new p.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.85825,.55,.1),type:"straight"},{pos:new p.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new p.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.301),type:"straight"},{pos:new p.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new p.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"}],H=[{pos:new p.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.85825,.55,.703),type:"straight"},{pos:new p.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new p.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new p.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,.2005),type:"straight"},{pos:new p.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.46125,.55,.301),type:"straight"},{pos:new p.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.95875,.55,.904),type:"straight"},{pos:new p.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,1.105),type:"straight"},{pos:new p.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new p.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.808,.55,.8035),type:"curve",curveType:"upperArc"}],j=[{pos:new p.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new p.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.95875,.55,.8035),type:"straight"},{pos:new p.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new p.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new p.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.44825,.55,.703),type:"straight"},{pos:new p.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new p.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,.2005),type:"straight"},{pos:new p.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.85825,.55,.1),type:"straight"},{pos:new p.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new p.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.46125,.55,.1),type:"straight"},{pos:new p.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new p.Vector3(1.05925,.55,.4015),type:"straight"}],k=[{pos:new p.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new p.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new p.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new p.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new p.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new p.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new p.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new p.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new p.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new p.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new p.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.85825,.55,.1),type:"straight"},{pos:new p.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],q=[{pos:new p.Vector3(.55675,-.5,.45175),type:"curve",curveType:"forwardDownArc"},{pos:new p.Vector3(.55675,.55,.6025),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.607,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.7075,.55,.8035),type:"straight"},{pos:new p.Vector3(.9085,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.95875,.55,.85375),type:"straight"},{pos:new p.Vector3(.95875,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.9085,.55,1.2055),type:"straight"},{pos:new p.Vector3(.808,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.75775,.55,1.15525),type:"straight"},{pos:new p.Vector3(.75775,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.7075,.55,1.0045),type:"straight"},{pos:new p.Vector3(.205,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.15475,.55,1.05475),type:"straight"},{pos:new p.Vector3(.15475,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.205,.55,1.2055),type:"straight"},{pos:new p.Vector3(.5065,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.55675,.55,1.306),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(-.44825,1,2.0095),type:"straight"}],$=[{pos:new p.Vector3(1.05925,.55,.703),type:"straight"},{pos:new p.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(1.009,.55,.8035),type:"straight"},{pos:new p.Vector3(.9085,.55,.8035),type:"straight"}],F=[{pos:new p.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new p.Vector3(1.009,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new p.Vector3(.95875,.55,1.15525),type:"straight"},{pos:new p.Vector3(.95875,.55,1.05475),type:"straight"}],G=[{pos:new p.Vector3(.35575,.55,.904),type:"straight"},{pos:new p.Vector3(.35575,.55,.95425),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.406,.55,1.0045),type:"straight"},{pos:new p.Vector3(.5065,.55,1.0045),type:"straight"}],R=[{pos:new p.Vector3(.15475,.55,1.105),type:"straight"},{pos:new p.Vector3(.15475,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.205,.55,1.0045),type:"straight"},{pos:new p.Vector3(.3055,.55,1.0045),type:"straight"}],I=[{pos:new p.Vector3(.55675,.55,1.306),type:"straight"},{pos:new p.Vector3(.55675,.55,1.25575),type:"curve",curveType:"upperArc"},{pos:new p.Vector3(.5065,.55,1.2055),type:"straight"},{pos:new p.Vector3(.406,.55,1.2055),type:"straight"}],W=(new p.CubicBezierCurve3(i,u,new p.Vector3(.55675,3,.45175),new p.Vector3(.55675,.5,.45175)),{pacmanHome:D(_),ghost1Home:D(B),ghost2Home:D(L),ghost3Home:D(H),ghost4Home:D(j),ghost5Home:D(k),cameraPOV:D(q),ghost1POV:D($),ghost2POV:D(F),ghost3POV:D(G),ghost4POV:D(R),ghost5POV:D(I)});function D(e){const t=new p.CurvePath;for(let r=0;r<e.length-1;r++){const o=e[r],c=e[r+1];if("straight"===o.type){const e=new p.LineCurve3(o.pos,c.pos);t.add(e)}else if("curve"===o.type){let e;e="upperArc"===o.curveType?new p.Vector3(o.pos.x,o.pos.y,c.pos.z):"lowerArc"===o.curveType?new p.Vector3(c.pos.x,o.pos.y,o.pos.z):"forwardDownArc"===o.curveType?new p.Vector3(o.pos.x,c.pos.y,o.pos.z):new p.Vector3(o.pos.x,o.pos.y,c.pos.z);const r=new p.QuadraticBezierCurve3(o.pos,e,c.pos);t.add(r)}}return t}function U(e){return"home"===e?{pacman:W.pacmanHome,ghost1:W.ghost1Home,ghost2:W.ghost2Home,ghost3:W.ghost3Home,ghost4:W.ghost4Home,ghost5:W.ghost5Home}:"pov"===e?{pacman:W.cameraPOV,ghost1:W.ghost1POV,ghost2:W.ghost2POV,ghost3:W.ghost3POV,ghost4:W.ghost4POV,ghost5:W.ghost5POV}:{}}const Q={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),introHeader:document.querySelector(".sc_h--intro"),introBody:document.querySelector(".sc_b--intro"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},N={ghost1:{triggerPos:new p.Vector3(.65725,.55,.75325),ghostTextPos:new p.Vector3(.7075,.55,.8035),camTextPos:new p.Vector3(.75775,.55,.8035),endPosition:new p.Vector3(.85825,.55,.8035),parent:Q.parentElements[0]||null,active:!1},ghost2:{triggerPos:new p.Vector3(.9085,.55,.8035),ghostTextPos:new p.Vector3(.95875,.55,.85375),camTextPos:new p.Vector3(.95875,.55,.904),endPosition:new p.Vector3(.95875,.55,1.0045),parent:Q.parentElements[1]||null,active:!1},ghost3:{triggerPos:new p.Vector3(.75775,.55,1.05475),ghostTextPos:new p.Vector3(.7075,.55,1.0045),camTextPos:new p.Vector3(.65725,.55,1.0045),endPosition:new p.Vector3(.55675,.55,1.0045),parent:Q.parentElements[2]||null,active:!1},ghost4:{triggerPos:new p.Vector3(.65725,.55,1.0045),ghostTextPos:new p.Vector3(.5065,.55,1.0045),camTextPos:new p.Vector3(.45625,.55,1.0045),endPosition:new p.Vector3(.35575,.55,1.0045),parent:Q.parentElements[3]||null,active:!1},ghost5:{triggerPos:new p.Vector3(.15475,.55,1.15525),ghostTextPos:new p.Vector3(.205,.55,1.2055),camTextPos:new p.Vector3(.25525,.55,1.2055),endPosition:new p.Vector3(.35575,.55,1.2055),parent:Q.parentElements[4]||null,active:!1}};let Y=!1;const J=U("pov");console.log("POV Paths loaded:",Object.keys(J)),console.log("Maze Center:",s),Object.entries(J).forEach((([e,t])=>{console.log(`${e} path length:`,t.getLength()),console.log(`${e} start point:`,t.getPointAt(0)),console.log(`${e} end point:`,t.getPointAt(1));for(let r=0;r<=10;r++){const o=r/10,c=t.getPointAt(o);console.log(`${e} at ${100*o}%:`,c)}}));const K=["ghost1","ghost2","ghost3","ghost4","ghost5"];console.log("Available ghosts:",Object.keys(z)),K.forEach((e=>{console.log(`${e} exists:`,!!z[e]),z[e]&&(console.log(`${e} position:`,z[e].position),console.log(`${e} visible:`,z[e].visible))})),console.log("Camera position:",d.position),console.log("Camera FOV:",d.fov);let X=null;const Z={ghost1:1.4,ghost2:1.3,ghost3:1.2,ghost4:1.1,ghost5:1,pacman:.9};let ee="HOME",te=0,re=0,oe={},ce={},pe={},ne=null,se=null,ae=!1,ie=!1,ue=0,ye=!1,we=0,le={},ve={};const he=["pacman","ghost1","ghost2","ghost3","ghost4","ghost5"],Ve=U("home");function ge(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function de(e,t){let r=!1;function o(e){e.material&&"opacity"in e.material&&(e.material.opacity=t,e.material.transparent=t<1||e.material.transparent,e.material.depthWrite=1===t,e.material.needsUpdate=!0,r=!0)}e instanceof p.Mesh?o(e):e instanceof p.Group&&e.traverse((e=>{e instanceof p.Mesh&&o(e)}))}let Ae=0;function me(e){Math.abs(e-Ae)<.001||(re=Math.max(0,Math.min(1,e)),Ae=e)}function Te(){h.render(v,d)}function fe(){requestAnimationFrame(fe);const e=V.getDelta();var t;C&&C.update(e),Y||(ye?function(e){we+=e/.5;const t=ge(Math.min(we,1));Object.entries(z).forEach((([e,r])=>{if(he.includes(e)){const o=Ve[e];if(o){const c=o.getPointAt(te),n=le[e];r.position.lerpVectors(n,c,t);const s=ve[e],a=o.getTangentAt(te).normalize(),i=new p.Euler;if("pacman"===e){const e=Math.atan2(a.x,a.z);i.set(Math.PI/2,Math.PI,e+Math.PI/2)}else i.setFromQuaternion((new p.Quaternion).setFromUnitVectors(new p.Vector3(0,0,1),a));r.rotation.set(s.x+(i.x-s.x)*t,s.y+(i.y-s.y)*t,s.z+(i.z-s.z)*t),de(r,1)}}})),we>=1&&(ye=!1,ie=!1)}(e):re>.01?(ie||(ie||(Object.entries(z).forEach((([e,t])=>{ce[e]=t.position.clone(),pe[e]=t.rotation.clone()})),oe={},Object.entries(ce).forEach((([e,t])=>{const r=s.clone(),o=new p.Vector3((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2),c=new p.Vector3(o.x+.3*(o.x-(t.x+r.x)/2),o.y+1.5,o.z+.3*(o.z-(t.z+r.z)/2));oe[e]=new p.QuadraticBezierCurve3(t,c,r)})),ne=new p.CubicBezierCurve3(d.position.clone(),new p.Vector3((d.position.x+s.x)/2,2,(d.position.z+s.z)/2),new p.Vector3(.55675,3,.45175),s.clone()),se=d.quaternion.clone(),ie=!0),ue=te),t=re,Object.entries(z).forEach((([e,r])=>{const o=Z[e]||1;let c=Math.min(t*o,1);const n=oe[e];if(!n)return;const s=n.getPointAt(c);r.position.copy(s);const a=pe[e],i=new p.Euler(-Math.PI/2,0,0),u=ge(c);r.rotation.set(a.x+(i.x-a.x)*u,a.y+(i.y-a.y)*u,a.z+(i.z-a.z)*u);let y=1;c>=.95&&(y=1-(c-.95)/.05,y=Math.max(0,y)),de(r,y)})),function(e){if(!ne||!se)return;const t=ne.getPoint(e);d.position.copy(t),d.fov=50,d.updateProjectionMatrix();const r=new p.Quaternion;r.slerpQuaternions(se,A,e),d.quaternion.copy(r)}(re)):ie&&!ye?(ye=!0,we=0,le={},ve={},Object.entries(z).forEach((([e,t])=>{le[e]=t.position.clone(),ve[e]=t.rotation.clone()}))):ye||function(e){te=(te+.03*e)%1,Object.entries(z).forEach((([e,t])=>{if(he.includes(e)){const r=Ve[e];if(r){const o=te,c=r.getPointAt(o);t.position.copy(c);const p=r.getTangentAt(o).normalize();if(t.lookAt(c.clone().add(p)),"pacman"===e){const e=Math.atan2(p.x,p.z);t.rotation.set(Math.PI/2,Math.PI,e+Math.PI/2)}de(t,1)}}}))}(e)),Te()}function Pe(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Me(e){const t=Q.introHeader;if(!t)return;let r=0,o=0;if(e>0&&e<1)if(e<=.2){const t=Pe(e/.2);r=.8*t,o=t}else if(e<=.8)r=.8+(e-.2)/.6*.4,o=1;else{const t=(e-.8)/.2;r=1.2+.3*t,o=1-t}else e>=1?(r=1.5,o=0):(r=0,o=0);t.style.setProperty("transform",`scale(${r})`,"important"),t.style.opacity=o.toString()}function be(e){const t=Q.introBody;if(!t)return;let r=.5,o=0;if(e>0&&e<1)if(e<=.2){const t=Pe(e/.2);r=.5+.3*t,o=t}else if(e<=.8)r=.8+(e-.2)/.6*.4,o=1;else{const t=(e-.8)/.2;r=1.2+.3*t,o=1-t}else e>=1?(r=1.5,o=0):(r=.5,o=0);t.style.setProperty("transform",`scale(${r})`,"important"),t.style.opacity=o.toString()}!async function(){try{n?h.setPixelRatio(Math.min(window.devicePixelRatio,2)):h.setPixelRatio(window.devicePixelRatio),h.shadowMap.enabled=!0,h.shadowMap.type=p.PCFSoftShadowMap,h.shadowMap.enabled=!0,h.shadowMap.type=p.PCFSoftShadowMap,l.mazeContainer?(h.setSize(l.mazeContainer.clientWidth,l.mazeContainer.clientHeight),l.mazeContainer.appendChild(h.domElement)):(h.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(h.domElement)),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",g):g(),window.addEventListener("resize",g),function(){const e=new p.AmbientLight(16777215);v.add(e);const t=new p.DirectionalLight(16777215,.8);v.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}(),d.position.copy(i),d.lookAt(y),window.addEventListener("resize",(()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix()})),await async function(){return new Promise(((e,t)=>{x.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(t){const r=t.scene;r.traverse((e=>{if("CAM-Pacman"===e.name){const r=[];e.traverse((e=>{if(e.isMesh&&"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name){const t=S[e.name]||S.default;e.material=t,r.push(e)}else"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name||(e.visible=!1)})),r.forEach((e=>z.pacman.add(e))),z.pacman.scale.set(.05,.05,.05),z.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),C=new p.AnimationMixer(z.pacman);const o={};t.animations.forEach((e=>{const t=C.clipAction(e);o[e.name]=t,t.setEffectiveWeight(1),t.play()}))}else if(e.name&&E[e.name]){const t=E[e.name],r=new p.Group;e.rotation.z=Math.PI,e.rotation.x=Math.PI/2,e.scale.set(.75,.75,.75);const o=[];e.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=P:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),o.push(e))})),o.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),r.add(e)})),t.add(r)}if(e.isMesh)if("CAM-Arena_LowRes_Top"===e.name)e.material=f,e.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===e.name)e.material=T,e.castShadow=!0;else if("CAM-Floor"===e.name){const t=e.clone();e.position.y=-.1,e.position.x=0,e.position.z=0,e.material=new p.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:p.FrontSide}),e.receiveShadow=!1,e.castShadow=!0,e.scale.set(.5,.5,.5),t.material=M,t.position.y=-.5,t.receiveShadow=!0,v.add(t)}})),r.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),v.add(r),r.position.set(.5,.5,.5),e()}),(function(e){}),(function(e){t(e)}))}))}(),ee="HOME",te=0,re=0,fe(),async function(){try{const e=await Promise.resolve().then(c.t.bind(c,352,23)),t=await Promise.resolve().then(c.t.bind(c,774,23)),r=e.gsap||e.default,o=t.ScrollTrigger||t.default;if(!r||!o)throw new Error("GSAP modules not loaded properly");r.registerPlugin(o);const p=document.querySelector(w);if(!p)return void console.warn("Home section not found, scroll animation disabled");r.timeline({scrollTrigger:{trigger:p,start:"top top",end:"bottom top",scrub:1}}).to({},{duration:1,onUpdate:function(){me(this.progress())}}),ae=!0}catch(e){console.error("❌ GSAP ScrollTrigger setup failed:",e),window.addEventListener("scroll",(()=>{const e=document.querySelector(w);if(e){const t=e.getBoundingClientRect();me(Math.max(0,Math.min(1,1-t.bottom/window.innerHeight)))}}))}}(),async function(){try{const e=await Promise.resolve().then(c.t.bind(c,352,23)),t=await Promise.resolve().then(c.t.bind(c,774,23)),r=e.gsap||e.default,o=t.ScrollTrigger||t.default;if(!r||!o)throw new Error("GSAP modules not loaded properly");r.registerPlugin(o),r.config({force3D:!0,nullTargetWarn:!1,autoSleep:60}),o.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load",limitCallbacks:!0}),o.create({trigger:Q.introSection,start:"top top",end:"center center",scrub:.3,pin:Q.introHeader,pinSpacing:!1,invalidateOnRefresh:!0,onUpdate:e=>{Me(e.progress),be(0)},onEnter:()=>Q.introHeader.classList.add("intro-centered"),onEnterBack:()=>Q.introHeader.classList.add("intro-centered"),onLeave:()=>Q.introHeader.classList.remove("intro-centered"),onLeaveBack:()=>Q.introHeader.classList.remove("intro-centered")}),o.create({trigger:Q.introSection,start:"center center",end:"bottom bottom",scrub:.3,pin:Q.introBody,pinSpacing:!1,invalidateOnRefresh:!0,onUpdate:e=>{const t=e.progress;Me(1),be(t)},onEnter:()=>Q.introBody.classList.add("intro-centered"),onEnterBack:()=>Q.introBody.classList.add("intro-centered"),onLeave:()=>Q.introBody.classList.remove("intro-centered"),onLeaveBack:()=>Q.introBody.classList.remove("intro-centered")})}catch(e){console.error("❌ GSAP intro animations setup failed:",e),window.addEventListener("scroll",(()=>{if(Q.introSection&&Q.introHeader&&Q.introBody){const e=Q.introSection.getBoundingClientRect();if(e.top<=0&&e.bottom>=0){const t=Math.abs(e.top),r=Math.min(1,t/e.height);if(r<=.5)Me(r/.5),be(0);else{const e=(r-.5)/.5;Me(1),be(e)}}else Me(0),be(0)}}))}}(),await async function(){if(console.log("Initializing POV Animation System..."),!Q.povSection)return console.error("POV section not found! Check if .sc--pov.sc exists in HTML"),console.log("Available DOM elements:",{homeSection:!!Q.homeSection,introSection:!!Q.introSection,povSection:!!Q.povSection,finalSection:!!Q.finalSection}),void console.log("All sections in document:",document.querySelectorAll('[class*="sc--"]'));if(console.log("POV section found:",Q.povSection),!J.pacman)return console.error("POV paths not found! Check pathPoints.ts for POV path definitions"),void console.log("Available POV paths:",Object.keys(J));console.log("POV paths loaded successfully:",Object.keys(J));const e=K.filter((e=>!z[e]));e.length>0&&(console.warn("Some ghosts are missing:",e),console.log("Available ghosts:",Object.keys(z)));const t=Object.entries(N).filter((([e,t])=>!t.parent));t.length>0&&(console.warn("Some trigger elements are missing:",t.map((([e])=>e))),console.log("Available parent elements:",Q.parentElements.length));const r=await Promise.resolve().then(c.t.bind(c,352,23)),o=await Promise.resolve().then(c.t.bind(c,774,23)),n=r.gsap||r.default,s=o.ScrollTrigger||o.default;n.registerPlugin(s);const a=s.create({trigger:".sc--pov",start:"top top",end:"bottom bottom",scrub:.3,onUpdate:e=>{const t=e.progress;console.log("ScrollTrigger progress:",t),function(e){if(Y=!0,J.pacman){let t=J.pacman.getPointAt(e);t.y<.5&&(t=new p.Vector3(t.x,.5,t.z)),d.position.copy(t);{const r=Math.min(e+.03,1),o=J.pacman.getPointAt(r),c=(new p.Vector3).subVectors(o,t).normalize(),n=new p.Vector3(0,1,0),s=(new p.Matrix4).lookAt(t,t.clone().add(c),n),a=(new p.Quaternion).setFromRotationMatrix(s);X?(d.quaternion.slerpQuaternions(X,a,.18),X.copy(d.quaternion)):(d.quaternion.copy(a),X=d.quaternion.clone())}d.fov=80,d.updateProjectionMatrix(),d.updateMatrixWorld()}K.forEach((t=>{const r=z[t],o=J[t];if(r&&o){const c=Math.min(.6*e,1),p=o.getPointAt(c);r.position.copy(p);const n=Math.min(c+.03,1),s=o.getPointAt(n);r.lookAt(s),r.visible=!0,e%.2<.01&&console.log(`${t} at progress ${e.toFixed(2)}: ghostProgress=${c.toFixed(2)}, position=${p.x.toFixed(3)}, ${p.y.toFixed(3)}, ${p.z.toFixed(3)}`)}})),Object.entries(N).forEach((([t,r],o)=>{if(!r.parent)return void console.warn(`Trigger ${t} has no parent element`);const c=J.pacman;if(!c)return void console.warn("Camera POV path not found for trigger logic");function p(e,t=1e3){let r=1/0,o=0;for(let p=0;p<=t;p++){const n=p/t,s=c.getPointAt(n).distanceTo(e);s<r&&(r=s,o=n)}return o}const n=p(r.triggerPos),s=p(r.endPosition);console.log(`Trigger ${t}: triggerT=${n.toFixed(3)}, endT=${s.toFixed(3)}, current=${e.toFixed(3)}`);let a=0;if(e>=n&&e<=s){const t=n+.1*(s-n),r=s-.1*(s-n);a=e<t?(e-n)/(t-n):e>r?1-(e-r)/(s-r):1}const i=r.parent;i&&(i.style.opacity=String(a),i.style.visibility=a>.01?"visible":"hidden",i.style.pointerEvents=a>.01?"auto":"none",a>.01&&!r.active?(console.log(`Trigger ${t} became visible at progress ${e.toFixed(3)}`),r.active=!0):a<=.01&&r.active&&(console.log(`Trigger ${t} became hidden at progress ${e.toFixed(3)}`),r.active=!1))}))}(t)},onEnter:()=>{console.log("POV section entered!"),Y=!0},onLeave:()=>{console.log("POV section left!"),Y=!1,d.fov=50,d.updateProjectionMatrix()}});console.log("POV Animation System initialized successfully!"),console.log("ScrollTrigger created:",a)}()}catch(e){console.error("Initialization error:",e)}}()})();
//# sourceMappingURL=script.js.map