(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=THREE,o=window.innerWidth<768,r=".sc--home.sc",n=".sc--intro.sc",s=".sc--outro.sc",a=800,c=.5,i=.05,p=.01,l=.5,u=.3,d=.4,h=.3;function g(e,t=0,o=1){return Math.max(t,Math.min(o,e))}const y=".el--home-maze.el",m="canvas",f=r,w=n,v=".sc--pov.sc",b=s,A=".cr--outro.cr",x=".cmp--pov.cmp",P={mazeContainer:document.querySelector(y),canvas:document.querySelector(m),homeSection:document.querySelector(f),introSection:document.querySelector(w),povSection:document.querySelector(v),finalSection:document.querySelector(b),finalContainer:document.querySelector(A),parentElements:document.querySelectorAll(x)},S={0:-.54875,.5:-.4985,1:-.44825,1.5:-.398,2:-.34775,2.5:-.2975,3:-.24725,3.5:-.197,4:-.14675,4.5:-.0965,5:-.04625,5.5:.004,6:.05425,6.5:.1045,7:.15475,7.5:.205,8:.25525,8.5:.3055,9:.35575,9.5:.406,10:.45625,10.5:.5065,11:.55675,11.5:.607,12:.65725,12.5:.7075,13:.75775,13.5:.808,14:.85825,14.5:.9085,15:.95875,15.5:1.009,16:1.05925,16.5:1.1095,17:1.15975,17.5:1.21,18:1.26025,18.5:1.3105,19:1.36075,19.5:1.411,20:1.46125},M={0:-.302,.5:-.25175,1:-.2015,1.5:-.15125,2:-.101,2.5:-.05075,3:-5e-4,3.5:.04975,4:.1,4.5:.15025,5:.2005,5.5:.25075,6:.301,6.5:.35125,7:.4015,7.5:.45175,8:.502,8.5:.55225,9:.6025,9.5:.65275,10:.703,10.5:.75325,11:.8035,11.5:.85375,12:.904,12.5:.95425,13:1.0045,13.5:1.05475,14:1.105,14.5:1.15525,15:1.2055,15.5:1.25575,16:1.306},C=(e,o)=>new t.Vector3(S[e],.55,M[o]),k=new t.Vector3(.55675,.35,.45175),E={startMobile:new t.Vector3(.5,2.5,2.5),startDesktop:new t.Vector3(-2,2.5,2),secondMobile:new t.Vector3(.5,2.5,2),secondDesktop:new t.Vector3(-1.5,3,.75),mobileLookAt:new t.Vector3(.5,.5,-1.5),desktopLookAt:new t.Vector3(-1.25,.5,.25),cameraLookAtSecondDesktop:new t.Vector3(-.75,.5,-.75),cameraLookAtSecondMobile:new t.Vector3(-.75,.5,-.75),cameraHomeScrollEndLookAt:new t.Vector3(.55675,-5,.35),thirdPosition:new t.Vector3(.55675,3,.45175),cameraHomeScrollEndPathPoint:new t.Vector3(.55675,.5,.45175)},F=o?E.startMobile:E.startDesktop,O=o?E.secondMobile:E.secondDesktop,I=o?E.mobileLookAt:E.desktopLookAt,T=o?E.cameraLookAtSecondMobile:E.cameraLookAtSecondDesktop,L=E.thirdPosition,V=E.cameraHomeScrollEndLookAt,z=E.cameraHomeScrollEndPathPoint,B=[{pos:C("8","9"),type:"straight"},{pos:C("8","6"),type:"curve",arc:"upperArc"},{pos:C("9","5"),type:"curve",arc:"lowerArc"},{pos:C("10","4"),type:"straight"},{pos:C("10","2"),type:"curve",arc:"upperArc"},{pos:C("9","1"),type:"straight"},{pos:C("7","1"),type:"curve",arc:"lowerArc"},{pos:C("6","2"),type:"curve",arc:"upperArc"},{pos:C("5","3"),type:"curve",arc:"lowerArc"},{pos:C("4","2"),type:"curve",arc:"upperArc"},{pos:C("3","1"),type:"straight",curveCheckPoints:[C("2","1"),C("1","2"),C("1","2.5"),C("1.5","3"),C("2","3.5")]},{pos:C("2","4"),type:"curve",arc:"upperArc"},{pos:C("3","5"),type:"straight"},{pos:C("5","5"),type:"curve",arc:"lowerArc"},{pos:C("6","6"),type:"curve",arc:"upperArc"},{pos:C("5","7"),type:"straight"},{pos:C("4","7"),type:"curve",arc:"lowerArc"},{pos:C("3","8"),type:"curve",arc:"upperArc"},{pos:C("4","9"),type:"straight"},{pos:C("5","9"),type:"curve",arc:"lowerArc"},{pos:C("6","10"),type:"curve",arc:"upperArc"},{pos:C("5","11"),type:"straight",curveCheckPoints:[C("3","11"),C("2","12"),C("1.5","13"),C("1","14"),C("2","15"),C("3","15"),C("4","14"),C("5","13")]},{pos:C("6","13"),type:"curve",arc:"lowerArc"},{pos:C("7","14"),type:"curve",arc:"upperArc"},{pos:C("6","15"),type:"straight"},{pos:C("5","15"),type:"curve",arc:"lowerArc"},{pos:C("4","14"),type:"curve",arc:"upperArc"},{pos:C("5","13"),type:"straight",curveCheckPoints:[C("12","13"),C("13","12"),C("12.5","11"),C("12","10.5"),C("11","10"),C("10","10.5"),C("9","11"),C("8","10"),C("8","9.5")]},{pos:C("8","9"),type:"straight"}],q=[{pos:C("1","10"),type:"straight"},{pos:C("1","6"),type:"curve",arc:"upperArc"},{pos:C("2","5"),type:"straight"},{pos:C("3","5"),type:"curve",arc:"lowerArc"},{pos:C("4","4"),type:"curve",arc:"upperArc"},{pos:C("5","3"),type:"straight"},{pos:C("9","3"),type:"curve",arc:"lowerArc"},{pos:C("10","4"),type:"curve",arc:"upperArc"},{pos:C("9","5"),type:"curve",arc:"lowerArc"},{pos:C("8","6"),type:"straight",curveCheckPoints:[C("8","10"),C("9","11"),C("10","10.5"),C("11","10"),C("12","10.5"),C("13","11"),C("15","11"),C("16","10.5"),C("17","10"),C("18","10.5"),C("19","11"),C("20","10")]},{pos:C("20","6"),type:"curve",arc:"upperArc"},{pos:C("19","5"),type:"straight"},{pos:C("9","5"),type:"curve",arc:"lowerArc"},{pos:C("8","6"),type:"straight",curveCheckPoints:[C("8","8"),C("7","9"),C("6","10"),C("5.5","11"),C("5","12"),C("6","13"),C("7","14"),C("6","15"),C("5","15"),C("4","14"),C("4.5","13"),C("5","12"),C("4","11")]},{pos:C("1","10"),type:"straight"}],_=[{pos:C("5","12"),type:"curve",arc:"upperArc",curveCheckPoints:[C("5.5","11")]},{pos:C("6","10"),type:"curve",arc:"upperArc"},{pos:C("5","9"),type:"straight"},{pos:C("4","9"),type:"curve",arc:"lowerArc"},{pos:C("3","8"),type:"curve",arc:"upperArc"},{pos:C("4","7"),type:"straight"},{pos:C("7","7"),type:"curve",arc:"lowerArc"},{pos:C("8","8"),type:"straight"},{pos:C("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[C("8.5","11"),C("9","12")]},{pos:C("10","13"),type:"straight"},{pos:C("12","13"),type:"curve",arc:"lowerArc"},{pos:C("13","14"),type:"curve",arc:"upperArc"},{pos:C("14","15"),type:"straight"},{pos:C("19","15"),type:"curve",arc:"lowerArc"},{pos:C("20","14"),type:"straight"},{pos:C("20","4"),type:"curve",arc:"upperArc"},{pos:C("19","3"),type:"straight"},{pos:C("17","3"),type:"curve",arc:"lowerArc"},{pos:C("16","4"),type:"curve",arc:"upperArc"},{pos:C("15","5"),type:"curve",arc:"lowerArc"},{pos:C("14","4"),type:"straight"},{pos:C("14","2"),type:"curve",arc:"upperArc"},{pos:C("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[C("12","1.5")]},{pos:C("11","2"),type:"curve",arc:"lowerArc"},{pos:C("10","3"),type:"straight"},{pos:C("10","4"),type:"curve",arc:"upperArc"},{pos:C("9","5"),type:"curve",arc:"lowerArc"},{pos:C("8","6"),type:"straight"},{pos:C("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[C("8.5","11")]},{pos:C("9","12"),type:"curve",arc:"upperArc"},{pos:C("8","13"),type:"curve",arc:"lowerArc"},{pos:C("7","14"),type:"curve",arc:"upperArc"},{pos:C("6","15"),type:"straight"},{pos:C("5","15"),type:"curve",arc:"lowerArc"},{pos:C("4","14"),type:"curve",arc:"upperArc",curveCheckPoints:[C("4.5","13"),C("5","12")]}],j=[{pos:C("14","10.5"),type:"straight"},{pos:C("14","2"),type:"curve",arc:"upperArc"},{pos:C("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[C("12","1.5"),C("11","2"),C("10","1.5")]},{pos:C("9","1"),type:"straight"},{pos:C("7","1"),type:"curve",arc:"lowerArc"},{pos:C("6","2"),type:"curve",arc:"upperArc"},{pos:C("7","3"),type:"straight"},{pos:C("9","3"),type:"curve",arc:"lowerArc"},{pos:C("10","4"),type:"curve",arc:"upperArc"},{pos:C("11","5"),type:"straight"},{pos:C("19","5"),type:"curve",arc:"lowerArc"},{pos:C("20","6"),type:"straight"},{pos:C("20","10"),type:"curve",arc:"upperArc"},{pos:C("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[C("18","10.5"),C("17","10"),C("16","10.5"),C("15.5","11")]},{pos:C("15","12"),type:"straight"},{pos:C("15","14"),type:"curve",arc:"upperArc"},{pos:C("14","15"),type:"curve",arc:"lowerArc"},{pos:C("13","14"),type:"straight"},{pos:C("13","12"),type:"curve",arc:"upperArc",curveCheckPoints:[C("12.5","11"),C("12","10.5"),C("10","10.5")]},{pos:C("9","11"),type:"curve",arc:"lowerArc"},{pos:C("8","10"),type:"curve",arc:"upperArc"},{pos:C("7","9"),type:"curve",arc:"lowerArc"},{pos:C("6","10"),type:"curve",arc:"upperArc",curveCheckPoints:[C("5.5","11")]},{pos:C("5","12"),type:"curve",arc:"upperArc"},{pos:C("6","13"),type:"straight"},{pos:C("12","13"),type:"curve",arc:"lowerArc"},{pos:C("13","12"),type:"curve",arc:"upperArc"},{pos:C("13.5","11"),type:"curve",arc:"lowerArc"},{pos:C("14","10.5"),type:"straight"}],G=[{pos:C("16","7"),type:"straight"},{pos:C("16","10"),type:"curve",arc:"upperArc"},{pos:C("15","11"),type:"straight"},{pos:C("14","11"),type:"curve",arc:"lowerArc"},{pos:C("13","12"),type:"curve",arc:"upperArc"},{pos:C("12","13"),type:"straight"},{pos:C("8","13"),type:"curve",arc:"lowerArc"},{pos:C("7","14"),type:"curve",arc:"upperArc"},{pos:C("6","15"),type:"straight"},{pos:C("2","15"),type:"curve",arc:"lowerArc"},{pos:C("1","14"),type:"curve",arc:"upperArc",curveCheckPoints:[C("1.5","13"),C("2","12"),C("1.5","11")]},{pos:C("1","10"),type:"straight"},{pos:C("1","6"),type:"curve",arc:"upperArc"},{pos:C("2","5"),type:"straight"},{pos:C("5","5"),type:"curve",arc:"lowerArc"},{pos:C("6","6"),type:"curve",arc:"upperArc"},{pos:C("7","7"),type:"curve",arc:"lowerArc"},{pos:C("8","6"),type:"curve",arc:"upperArc"},{pos:C("9","5"),type:"straight"},{pos:C("13","5"),type:"curve",arc:"lowerArc"},{pos:C("14","4"),type:"straight"},{pos:C("14","2"),type:"curve",arc:"upperArc"},{pos:C("15","1"),type:"curve",arc:"lowerArc"},{pos:C("16","2"),type:"curve",arc:"upperArc"},{pos:C("17","3"),type:"straight"},{pos:C("19","3"),type:"curve",arc:"lowerArc"},{pos:C("20","2"),type:"curve",arc:"upperArc"},{pos:C("19","1"),type:"curve",arc:"lowerArc"},{pos:C("18","2"),type:"curve",arc:"upperArc"},{pos:C("19","3"),type:"curve",arc:"lowerArc"},{pos:C("20","4"),type:"straight"},{pos:C("20","10"),type:"curve",arc:"upperArc"},{pos:C("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[C("18","10.5")]},{pos:C("17","10"),type:"curve",arc:"lowerArc"},{pos:C("16","9"),type:"straight"},{pos:C("16","7"),type:"straight"}],H=[{pos:C("10","3.5"),type:"curve",arc:"upperArc"},{pos:C("9","3"),type:"straight"},{pos:C("5","3"),type:"curve",arc:"lowerArc"},{pos:C("4","2"),type:"curve",arc:"upperArc"},{pos:C("3","1"),type:"straight"},{pos:C("2","1"),type:"curve",arc:"lowerArc"},{pos:C("1","2"),type:"curve",arc:"upperArc"},{pos:C("1.5","3"),type:"curve",arc:"lowerArc"},{pos:C("2","4"),type:"curve",arc:"upperArc"},{pos:C("3","5"),type:"straight"},{pos:C("5","5"),type:"curve",arc:"lowerArc"},{pos:C("6","6"),type:"curve",arc:"upperArc"},{pos:C("5","7"),type:"straight"},{pos:C("4","7"),type:"curve",arc:"lowerArc"},{pos:C("3","8"),type:"curve",arc:"upperArc"},{pos:C("4","9"),type:"straight"},{pos:C("7","9"),type:"curve",arc:"lowerArc"},{pos:C("8","10"),type:"curve",arc:"upperArc"},{pos:C("8.5","11"),type:"curve",arc:"lowerArc"},{pos:C("9","12"),type:"curve",arc:"upperArc"},{pos:C("10","13"),type:"straight"},{pos:C("12","13"),type:"curve",arc:"lowerArc"},{pos:C("13","12"),type:"curve",arc:"upperArc"},{pos:C("14","11"),type:"curve",arc:"lowerArc"},{pos:C("15","12"),type:"curve",arc:"upperArc"},{pos:C("15","14"),type:"curve",arc:"upperArc"},{pos:C("16","15"),type:"straight"},{pos:C("19","15"),type:"curve",arc:"lowerArc"},{pos:C("20","14"),type:"straight"},{pos:C("20","2"),type:"curve",arc:"upperArc"},{pos:C("19","1"),type:"straight"},{pos:C("17","1"),type:"curve",arc:"lowerArc"},{pos:C("16","2"),type:"straight"},{pos:C("16","4"),type:"curve",arc:"upperArc"},{pos:C("15","5"),type:"curve",arc:"lowerArc"},{pos:C("14","4"),type:"straight"},{pos:C("14","2"),type:"curve",arc:"upperArc"},{pos:C("13","1"),type:"curve",arc:"lowerArc"},{pos:C("12","1.5"),type:"curve",arc:"upperArc"},{pos:C("11","2"),type:"curve",arc:"lowerArc"},{pos:C("10","3.5"),type:"curve",arc:"lowerArc"}],D=[{pos:F,lookAt:I},{pos:O,lookAt:T},{pos:L,lookAt:V},{pos:z,lookAt:V}],R=[{pos:new t.Vector3(S[11],.40625,M[7.5]),type:"straight",lookAtSequence:[new t.Vector3(S[11],.2,M[8]),new t.Vector3(S[11],1.2,M[16]),new t.Vector3(S[11],.55,M[16])]},{pos:C("11","7.5"),type:"curve",arc:"lowerArc"},{pos:C("11","9"),type:"curve",arc:"upperArc",curveCheckPoints:[new t.Vector3(S[11],.55,.6525),C("11.5","10"),C("12","10.5"),C("12.5","11")]},{pos:C("13","11"),type:"straight"},{pos:C("14.5","11"),type:"curve",arc:"lowerArc"},{pos:C("15","11.5"),type:"straight"},{pos:C("15","14.5"),type:"curve",arc:"upperArc"},{pos:C("14.5","15"),type:"straight"},{pos:C("13.5","15"),type:"curve",arc:"lowerArc"},{pos:C("13","14.5"),type:"straight"},{pos:C("13","13.5"),type:"curve",arc:"upperArc"},{pos:C("12.5","13"),type:"straight"},{pos:C("7.5","13"),type:"curve",arc:"lowerArc"},{pos:C("7","13.5"),type:"straight"},{pos:C("7","14.5"),type:"curve",arc:"upperArc"},{pos:C("7.5","15"),type:"straight"},{pos:C("10.5","15"),type:"curve",arc:"lowerArc"},{pos:C("11","16"),type:"curve",arc:"upperArc"}],$=[{pos:C("16","10"),type:"straight"},{pos:C("16","10.5"),type:"curve",arc:"upperArc"},{pos:C("15.5","11"),type:"straight"},{pos:C("14.5","11"),type:"straight"}],W=[{pos:C("16","15"),type:"straight"},{pos:C("15.5","15"),type:"curve",arc:"lowerArc"},{pos:C("15","14.5"),type:"straight"},{pos:C("15","13.5"),type:"straight"}],U=[{pos:C("9","12"),type:"straight"},{pos:C("9","12.5"),type:"curve",arc:"upperArc"},{pos:C("9.5","13"),type:"straight"},{pos:C("10.5","13"),type:"straight"}],Y=[{pos:C("7","14"),type:"straight"},{pos:C("7","13.5"),type:"curve",arc:"upperArc"},{pos:C("7.5","13"),type:"straight"},{pos:C("8.5","13"),type:"straight"}],Q=[{pos:C("11","16"),type:"straight"},{pos:C("11","15.5"),type:"curve",arc:"upperArc"},{pos:C("10.5","15"),type:"straight"},{pos:C("9.5","15"),type:"straight"}],N={ghost1:{triggerPos:new t.Vector3(.65725,.55,.75325),ghostStartFadeIn:new t.Vector3(.7075,.55,.8035),ghostEndFadeIn:new t.Vector3(.725,.55,.8035),ghostStartFadeOut:new t.Vector3(.75,.55,.8035),camStartFadeIn:new t.Vector3(.75775,.55,.8035),camEndFadeIn:new t.Vector3(.775,.55,.8035),camStartFadeOut:new t.Vector3(.84,.55,.8035),endPosition:new t.Vector3(.85825,.55,.8035),forceEndProgress:{start:.1,end:.16}},ghost2:{triggerPos:new t.Vector3(.9085,.55,.8035),ghostStartFadeIn:new t.Vector3(.95875,.55,.85375),ghostEndFadeIn:new t.Vector3(.95875,.55,.875),ghostStartFadeOut:new t.Vector3(.95875,.55,.89),camStartFadeIn:new t.Vector3(.95875,.55,.904),camEndFadeIn:new t.Vector3(.95875,.55,.93),camStartFadeOut:new t.Vector3(.95875,.55,.9975),endPosition:new t.Vector3(.95875,.55,1.0045),forceEndProgress:{start:.17,end:.22}},ghost3:{triggerPos:new t.Vector3(.75775,.55,1.05475),ghostStartFadeIn:new t.Vector3(.7075,.55,1.0045),ghostEndFadeIn:new t.Vector3(.7075,.55,1.0045),ghostStartFadeOut:new t.Vector3(.6825,.55,1.0045),camStartFadeIn:new t.Vector3(.65725,.55,1.0045),camEndFadeIn:new t.Vector3(.65725,.55,1.0045),camStartFadeOut:new t.Vector3(.6065,.55,1.0045),endPosition:new t.Vector3(.55675,.55,1.0045),forceEndProgress:{start:.23,end:.33}},ghost4:{triggerPos:new t.Vector3(.65725,.55,1.0045),ghostStartFadeIn:new t.Vector3(.5565,.55,1.0045),ghostEndFadeIn:new t.Vector3(.5065,.55,1.0045),ghostStartFadeOut:new t.Vector3(.4815,.55,1.0045),camStartFadeIn:new t.Vector3(.45625,.55,1.0045),camEndFadeIn:new t.Vector3(.45625,.55,1.0045),camStartFadeOut:new t.Vector3(.4065,.55,1.0045),endPosition:new t.Vector3(.35575,.55,1.0045),forceEndProgress:{start:.38,end:.47}},ghost5:{triggerPos:new t.Vector3(.15475,.55,1.15525),ghostStartFadeIn:new t.Vector3(.1795,.55,1.18),ghostEndFadeIn:new t.Vector3(.205,.55,1.2055),ghostStartFadeOut:new t.Vector3(.23025,.55,1.2055),camStartFadeIn:new t.Vector3(.25525,.55,1.2055),camEndFadeIn:new t.Vector3(.25525,.55,1.2055),camStartFadeOut:new t.Vector3(.3055,.55,1.2055),endPosition:new t.Vector3(.35575,.55,1.2055),forceEndProgress:{start:.52,end:.59}}};function X(){return F}function Z(){return I}const K={pacman:B,ghost1:q,ghost2:_,ghost3:j,ghost4:G,ghost5:H},J={camera:R,ghost1:$,ghost2:W,ghost3:U,ghost4:Y,ghost5:Q};function ee(){return D}const te=new t.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100),oe=new t.Scene,re=new t.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),ne=new t.Clock,se=[];function ae(){const e=Math.min(window.devicePixelRatio,o?2:3);re.setPixelRatio(e),P.mazeContainer?(re.setSize(P.mazeContainer.clientWidth,P.mazeContainer.clientHeight),te.aspect=P.mazeContainer.clientWidth/P.mazeContainer.clientHeight):(re.setSize(window.innerWidth,window.innerHeight),te.aspect=window.innerWidth/window.innerHeight),te.updateProjectionMatrix()}const ce=ScrollTrigger;var ie=e.n(ce);const pe=(new t.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),le=new t.MeshMatcapMaterial({matcap:pe}),ue=new t.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),de=new t.MeshPhysicalMaterial({color:16777215,opacity:.9999,transparent:!0,depthWrite:!1,depthTest:!0,blending:t.NormalBlending,side:t.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),he=new t.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),ge={blue:new t.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new t.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new t.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},ye={shell:new t.MeshBasicMaterial({color:65280}),default:new t.MeshBasicMaterial({color:65280})},me={CAM_Pacman_Backframe:ge.blue,"CAM-Pacman_Bitcoin_1":ge.white,"CAM-Pacman_Bitcoin_2":ge.white,"CAM-Pacman_Bottom":ge.blue,"CAM-Pacman_Top":ge.blue,"CAM-Pacman_Eye":ge.white,CAM_Pacman_Logo_1:ge.white,CAM_Pacman_Logo_2:ge.white,"CAM-Pacman_Shell_Boolean":ge.blue,"CAM-Pacman_Shell":ge.blue,"CAM-Pacman_Bottom_electronic":ge.white,"CAM-Pacman_Top_electronic":ge.white,"CAM-Pacman_Bottom_Text":ge.white,"CAM-Pacman_Top_Text":ge.white,default:ge.blue},fe={shell:ye.shell,default:ye.default},we=new t.GLTFLoader;let ve;const be=new t.Group,Ae={pacman:be,ghost1:new t.Mesh(new t.BufferGeometry,de),ghost2:new t.Mesh(new t.BufferGeometry,de),ghost3:new t.Mesh(new t.BufferGeometry,de),ghost4:new t.Mesh(new t.BufferGeometry,de),ghost5:new t.Mesh(new t.BufferGeometry,de)},xe=new t.Group;xe.visible=!0;const Pe={Ghost_EUR:Ae.ghost1,Ghost_CHF:Ae.ghost2,Ghost_YEN:Ae.ghost3,Ghost_USD:Ae.ghost4,Ghost_GBP:Ae.ghost5},Se=new Map;class Me{constructor(e,t=.06){this.currentTangent=e.clone(),this.smoothing=t}update(e){return this.currentTangent.lerp(e,this.smoothing),this.currentTangent.normalize()}reset(e){this.currentTangent.copy(e)}getCurrentTangent(){return this.currentTangent.clone()}setSmoothingFactor(e){this.smoothing=Math.max(.001,Math.min(1,e))}}function Ce(e){const o=e.map((e=>`${e.pos.x},${e.pos.y},${e.pos.z},${e.type},${e.arc||""}`)).join("|");if(Se.has(o))return Se.get(o);const r=new t.CurvePath;let n=0;for(;n<e.length-1;){const o=e[n],s=e[n+1];if(o.curveCheckPoints?.length){const e=[o.pos,...o.curveCheckPoints,s.pos];r.add(new t.CatmullRomCurve3(e,!1,"centripetal",0))}else if("straight"===o.type)r.add(new t.LineCurve3(o.pos,s.pos));else{const e=ke(o,s);r.add(new t.QuadraticBezierCurve3(o.pos,e,s.pos))}n++}return Se.set(o,r),r}function ke(e,o){if(e.arc){const r=e.arc;if("upperArc"===r)return new t.Vector3(e.pos.x,e.pos.y,o.pos.z);if("lowerArc"===r)return new t.Vector3(o.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===r)return new t.Vector3(e.pos.x,o.pos.y,e.pos.z)}return new t.Vector3(e.pos.x,e.pos.y,o.pos.z)}function Ee(e){const o=new t.CurvePath;if(4===e.length){const r=new t.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);o.add(r)}return o}function Fe(){const e={};return Object.entries(K).forEach((([t,o])=>{e[t]=Ce(o)})),e}function Oe(){const e={};return Object.entries(J).forEach((([t,o])=>{e[t]=Ce(o)})),e}const Ie=gsap;var Te=e.n(Ie);const Le=["pacman","ghost1","ghost2","ghost3","ghost4","ghost5"],Ve=["EUR","CHF","YEN","USD","GBP"];function ze(e){return Ve.some((t=>e===t||e.includes(t)))}function Be(e){return e.includes("Shell")||e.includes("Bitcoin_1")||e.includes("Bitcoin_2")}function qe(e,t,o="ghost"){if(!t?.length())return;const r=Math.atan2(t.x,t.z);if("pacman"===o)e.rotation.set(-Math.PI/2,Math.PI,-(r+Math.PI/2));else if("ghost"===o)e.rotation.set(0,r,0);else if("camera"===o){const o=e.position.clone().add(t);e.lookAt(o)}}const _e=(new t.Quaternion).setFromEuler(new t.Euler(Math.PI/2,0,0)),je=(new t.Quaternion).setFromAxisAngle(new t.Vector3(0,1,0),Math.PI).clone().multiply(_e),Ge=(new t.Quaternion).setFromEuler(new t.Euler(-Math.PI/2,0,0));function He(e,t,o){const r=t.angleTo(je)<t.angleTo(Ge)?je:Ge;e.quaternion.copy(t.clone().slerp(r,o))}function De(e,o){let r=e.clone();return o.forEach((({axis:e,angle:o})=>{r=function(e,o,r){const n="x"===o?new t.Vector3(1,0,0):"y"===o?new t.Vector3(0,1,0):new t.Vector3(0,0,1),s=(new t.Quaternion).setFromAxisAngle(n,r);return e.clone().multiply(s)}(r,e,o)})),r}function Re(e,t,o){const r=!1!==o?.preserveTransmission;Ue(e,(e=>{$e(e,t,r)}),{skipCurrencySymbols:!0===o?.skipCurrencySymbols})}function $e(e,t,o=!0){const r=e,n=r.opacity??1,s=r.transparent??!1;if(Math.abs(n-t)<1e-4)return;r.opacity=t;const a=!!(o&&void 0!==r.transmission&&r.transmission>0)||t<1;s!==a&&(r.transparent=a,void 0!==r.needsUpdate&&(r.needsUpdate=!0))}function We(e){let t=1,o=!1;return Ue(e,(e=>{o||(t=e.opacity??1,o=!0)}),{skipCurrencySymbols:!1}),t}function Ue(e,t,o){const r=!0===o?.skipCurrencySymbols,n=!0===o?.skipPacmanParts,s=o?.objectKey;e.traverse((e=>{if(e.isMesh&&e.material){const o=e,a=e.name||"";if(r&&ze(a))return;if(n&&"pacman"===s&&Be(a))return;Array.isArray(o.material)?o.material.forEach((e=>{t(e,o,a)})):t(o.material,o,a)}}))}function Ye(e,o=1,r=!1){oe.traverse((n=>{if("CAM-Floor"===n.name&&(n.visible=e,n instanceof t.Mesh&&n.material)){const e=n.material;e.color.setHex(16777215),e.opacity=o,e.transparent=r}}))}function Qe(e,t,o){let r;r="pacman"===t?"intro"===o?.1:.05:"intro"===o?1.5:"pov"===o?.5:1,e.scale.set(r,r,r),e.updateMatrixWorld(!0),Te().set(e.scale,{x:r,y:r,z:r})}function Ne(e,t){e&&(Ae.pacman&&Te().set(Ae.pacman,{visible:!1}),Object.entries(Ae).forEach((([e,t])=>{"pacman"!==e&&(Te().set(t,{visible:!1}),Qe(t,e,"pov"),Ue(t,(e=>{$e(e,1,!0)}),{skipCurrencySymbols:!1}))})),Ye(!0,1,!1))}function Xe(e,t){e&&Ye(!0,1,!1)}let Ze=window.scrollY;function Ke(){const e=window.scrollY,t=e>Ze?"down":"up";return Ze=e,t}const Je={t:0,animationTime:0},et={};let tt={},ot={},rt=null,nt=!1;function st(e){nt=e}function at(){const e={};return Object.entries(et).forEach((([t,o])=>{e[t]=o.rotation.clone()})),e}function ct(e,t,o=!1,r=!1){(nt||o)&&(et[e]&&et[e].position.copy(t),r&&(tt[e]=t.clone()))}function it(e,t,o=!1){et[e]&&et[e].rotation.copy(t),o&&(ot[e]=t.clone())}function pt(){return Object.entries(ot).reduce(((e,[t,o])=>(e[t]=o.clone(),e)),{})}let lt=null,ut={};function dt(){lt&&(lt.kill(),lt=null);const e=ee(),o=new t.CurvePath;if(4===e.length){const r=new t.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);o.add(r)}const n=()=>{requestAnimationFrame((()=>{const e=ie().getById("introScroll");if(e?.isActive)return;const t={...tt},o=pt();Ke(),Object.entries(Ae).forEach((([e,r])=>{if(t[e])r.position.copy(t[e]),ut[e]=t[e].clone();else{const t=function(){const e={};return Object.entries(et).forEach((([t,o])=>{e[t]=o.position.clone()})),e}(),o=t[e]||r.position;r.position.copy(o),ut[e]=o.clone()}o[e]&&r.quaternion.copy(o[e])}));const r=Object.keys(o).length>0?o:at();var n;(n=ut)&&r&&Object.entries(Ae).forEach((([e,t])=>{n[e]&&(t.position.set(n[e].x,n[e].y,n[e].z),Te().set(t.position,{x:n[e].x,y:n[e].y,z:n[e].z})),Te().set(t,{visible:!0}),Qe(t,e,"home"),Ue(t,((e,t,o)=>{ze(o)?t.visible=!1:(t.visible=!0,function(e,t,o=!0){const r=e,n=r.transparent??!1,s=!!(o&&void 0!==r.transmission&&r.transmission>0)||t;n!==s&&(r.transparent=s,void 0!==r.needsUpdate&&(r.needsUpdate=!0))}(e,!0,!0))}),{skipCurrencySymbols:!1})})),Ye(!0,1,!1),a()}))};lt=Te().timeline({scrollTrigger:{id:"homeScroll",trigger:r,start:"top top",end:"bottom top",scrub:c,markers:!1,refreshPriority:0,invalidateOnRefresh:!1,onEnter:n,onEnterBack:n,onUpdate:r=>{if(o&&o.curves.length){const n=r.progress,s=Math.min(1,Math.max(0,n)),a=o.getPointAt(s);te.position.copy(a);const c=[];if(e.forEach((e=>{"lookAt"in e&&e.lookAt&&c.push(e.lookAt)})),c.length>=4){const e=new t.CubicBezierCurve3(c[0],c[1],c[2],c[3]).getPoint(s);te.lookAt(e)}te.fov=50,te.updateProjectionMatrix()}},onLeave:()=>{const e=ie().getById("introScroll");e?.isActive||lt?.resume()},onLeaveBack:()=>{const e=ie().getById("introScroll");e?.isActive||lt?.resume()}}});const s=Object.entries(Ae);s.forEach((([e,t])=>{ut[e]=t.position.clone()}));const a=()=>{lt&&lt.clear(),s.forEach((([e,t])=>{!function(e){Te().killTweensOf(e),Te().killTweensOf(e.scale),Te().killTweensOf(e.position),Te().killTweensOf(e.rotation),Te().killTweensOf(e.quaternion),Ue(e,(e=>{Te().killTweensOf(e),Te().killTweensOf(e.opacity)}),{skipCurrencySymbols:!1})}(t)}));const e=function(e){const o=function(e){const o={};return Object.entries(e).forEach((([e,r])=>{const n=new t.Vector3(r.x*(1/4)+k.x*(3/4),1.5,r.z*(1/4)+k.z*(3/4));o[e]=[{pos:r.clone()},{pos:n},{pos:k}]})),o}(e),r={camera:Ee(ee())};return Object.entries(o).forEach((([e,o])=>{r[e]=function(e){const o=new t.CurvePath;if(3===e.length){const r=new t.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);o.add(r)}return o}(o)})),r}(ut),o=[],r=[];s.forEach((([n,s])=>{const a=We(s);Ue(s,((e,t)=>{const o=e.clone();if($e(o,a,!0),Array.isArray(t.material)){const r=t.material.indexOf(e);if(-1!==r){const e=[...t.material];e[r]=o,t.material=e}}else t.material=o}),{skipCurrencySymbols:!1});const c=pt()[n]||at()[n]||s.quaternion.clone(),i=(new t.Euler).setFromQuaternion(c),p=(new t.Euler).setFromQuaternion(je),l=e[n];if(!l)return;const u={progress:0,rotX:i.x,rotY:i.y,rotZ:i.z,opacity:a};o.push(u),r.push({key:n,object:s,path:l,startEuler:i,endEuler:p})})),r.forEach(((e,t)=>{const r=o[t],n=1+.15*t,s=e.path.getPointAt(0);e.object.position.copy(s),lt.fromTo(r,{progress:0,rotX:e.startEuler.x,rotY:e.startEuler.y,rotZ:e.startEuler.z,opacity:r.opacity},{progress:1,rotX:e.endEuler.x,rotY:e.endEuler.y,rotZ:e.endEuler.z,opacity:0,ease:"power2.out",immediateRender:!1,duration:n,onUpdate:function(){const t=ie().getById("introScroll");if(t?.isActive)return;const o=e.path.getPointAt(r.progress);e.object.position.copy(o),e.object.rotation.set(r.rotX,r.rotY,r.rotZ),e.object.quaternion.setFromEuler(e.object.rotation),Re(e.object,r.opacity,{preserveTransmission:!0,skipCurrencySymbols:!0})}},0)}))};a()}let ht=!0,gt=0,yt=!1,mt=0,ft={},wt=!1;const vt={};let bt=null;function At(){ht=!0,st(!0);const e=Fe(),o=pt(),r=rt;wt&&null!==r&&(gt=50*r),mt=0,ft={},!0&&(Object.entries(Ae).forEach((([e,t])=>{Te().set(t,{visible:!0}),Qe(t,e,"home"),Ue(t,((e,t,o)=>{ze(o)?t.visible=!1:t.visible=!0}),{skipCurrencySymbols:!1}),function(e){Re(e,1,{preserveTransmission:!0,skipCurrencySymbols:!0})}(t)})),Ye(!0,1,!1)),function(){const e=new t.Vector3(1,0,0);Le.forEach((t=>{vt[t]=new Me(e.clone(),.06)}))}(),Object.entries(Ae).forEach((([t,n])=>{const s=e[t];if(s){if(wt&&null!==r){const e=s.getPointAt(r);e&&(n.position.copy(e),ct(t,e))}const e=o[t];if(e?(n.quaternion.copy(e),it(t,e),wt&&(ft[t]=e.clone())):(it(t,n.quaternion),wt&&(ft[t]=n.quaternion.clone())),"pacman"!==t&&(n.visible=!0),Qe(n,t,"home"),vt[t]&&null!==r){const e=s.getTangentAt(r);e&&vt[t].reset(e)}}}));const n=new t.Vector3(.5,.5,.5);if(xe.position.copy(n),xe.scale.set(10,10,10),xe.visible=!0,console.log("Pill children count:",xe.children.length),xe.traverse((e=>{e.isMesh&&(e.visible=!0,console.log("Pill mesh found:",e.name,"visible:",e.visible))})),function(e){bt&&(oe.remove(bt),bt=null),bt=new t.Group,bt.name="pillPositionGuides";const o=new t.AxesHelper(1);o.position.copy(e),bt.add(o);const r=new t.SphereGeometry(.2,16,16),n=new t.MeshBasicMaterial({color:16711680,transparent:!0,opacity:.7,wireframe:!0}),s=new t.Mesh(r,n);s.position.copy(e),bt.add(s);const a=new t.BoxGeometry(1,1,1),c=new t.LineBasicMaterial({color:65280,linewidth:2}),i=new t.EdgesGeometry(a),p=new t.LineSegments(i,c);p.position.copy(e),bt.add(p),new t.LineBasicMaterial({color:16776960,linewidth:3});const l=(new t.BufferGeometry).setFromPoints([new t.Vector3(0,e.y,e.z),e]),u=new t.Line(l,new t.LineBasicMaterial({color:16711680,linewidth:2}));bt.add(u);const d=(new t.BufferGeometry).setFromPoints([new t.Vector3(e.x,0,e.z),e]),h=new t.Line(d,new t.LineBasicMaterial({color:65280,linewidth:2}));bt.add(h);const g=(new t.BufferGeometry).setFromPoints([new t.Vector3(e.x,e.y,0),e]),y=new t.Line(g,new t.LineBasicMaterial({color:255,linewidth:2}));bt.add(y),console.log("Pill guides created at position:",e),oe.add(bt),console.log("Pill guides added to scene")}(n),!yt){let e=ne.getElapsedTime();s=()=>{if(document.hidden)return void(e=ne.getElapsedTime());const o=ne.getElapsedTime(),r=o-e;e=o,function(e){if(!ht)return;const o=ie().getById("introScroll");if(o?.isActive)return;const r=Math.min(e,.1);gt+=r,mt+=r;const n=gt%50/50;!function(e,t){Je.t=e,Je.animationTime=t}(n,gt);const s=Fe();ve&&ve.update(e);const a=Math.min(mt/1.5,1),c=wt&&a<1;Object.entries(Ae).forEach((([e,o])=>{const r=s[e];if(r){const s=n,i=r.getPointAt(s);i&&(o.position.copy(i),ct(e,i)),Qe(o,e,"home");const p=new t.Quaternion;if(vt[e]&&s>0){const o=r.getTangentAt(s);if(o&&o.length()>0){const r=vt[e].update(o),n="pacman"===e?"pacman":"ghost",s=new t.Object3D;qe(s,r,n),p.copy(s.quaternion)}}if(c&&ft[e]){const t=a*a*(3-2*a);o.quaternion.copy(ft[e].clone().slerp(p,t))}else o.quaternion.copy(p);it(e,o.quaternion)}}))}(r)},se.push(s),yt=!0}var s}const xt={};Te().registerPlugin(ie());let Pt=null,St=null,Mt=!1,Ct=!1;const kt=new t.Vector3(.55675,.55,1.306),Et=new t.Vector3(-.14675,1,1.8085);let Ft=null;const Ot={},It={};function Tt(){Pt&&(Pt.kill(),Pt=null),function(){It.camera=new Me(new t.Vector3(0,0,-1),.08);for(let e=1;e<=5;e++)It[`ghost${e}`]=new Me(new t.Vector3(1,0,0),.08)}(),Object.keys(N).forEach((e=>{Ot[e]={hasBeenTriggered:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0}})),Pt=Te().timeline({scrollTrigger:{id:"povScroll",trigger:P.povSection,start:"top bottom",end:"bottom top",markers:!1,scrub:c,toggleActions:"play none none reverse",onEnter:()=>{Ke(),Ne(!0)},onEnterBack:()=>{Ke(),Ne(!0)}}}).addLabel("pov-animation-start",0).to({progress:0},{progress:1,immediateRender:!1,onStart:Lt,onUpdate:function(){Vt.call(this)},onReverseComplete:()=>{_t(),jt()},onComplete:()=>{_t(),jt()}}).addLabel("pov-animation-sequence-phase",i).addLabel("pov-animation-transition-phase",.07).addLabel("pov-animation-end",1)}function Lt(){const e=Oe();if(It.camera&&e.camera){const t=e.camera.getTangentAt(0);t&&It.camera.reset(t)}Object.entries(Ae).forEach((([t,o])=>{if(e[t]&&"pacman"!==t){const r=e[t].getPointAt(0);o.position.copy(r);const n=e[t].getTangentAt(0).normalize();o.lookAt(r.clone().add(n)),o.visible=!1,Qe(o,t,"pov")}})),Ae.pacman&&(Ae.pacman.visible=!1)}function Vt(){const e=this.targets()[0].progress,o=Oe();if(!o.camera)return;const r=o.camera.getPointAt(e);St?(function(e,o,r){const n=ie().getById("introScroll");if(n&&n.isActive)return;te.position.copy(r),te.fov=80;const s=function(e,o){const r=J.camera;if(e<=i){const t=r[0];if("lookAtSequence"in t&&t.lookAtSequence?.length){const o=e/i,r=t.lookAtSequence.length,n=1/r,s=Math.floor(o/n),a=o%n/n,c=Math.min(s,r-1),p=Math.min(s+1,r-1);if(c===p)return t.lookAtSequence[c];{const e=t.lookAtSequence[c],o=t.lookAtSequence[p];return e.clone().lerp(o,a)}}}else if(e<=.07){const n=r[0];if("lookAtSequence"in n&&n.lookAtSequence?.length){const r=n.lookAtSequence[n.lookAtSequence.length-1],s=o.camera.getPointAt(e),a=o.camera.getTangentAt(e).normalize(),c=new t.Vector3(a.x,0,a.z).normalize(),p=s.clone().add(c),l=(e-i)/.020000000000000004;return r.clone().lerp(p,l)}}return null}(e,o);if(s)return te.lookAt(s),void te.updateProjectionMatrix();const a=o.camera.getTangentAt(e).normalize();let c=a;It.camera&&e>0&&(c=It.camera.update(a)),e<=.15&&(c=new t.Vector3(c.x,0,c.z).normalize());(function(e,t){const o=Oe(),r=Gt(o.camera,kt),n=Gt(o.camera,Et);(e<r||e>n)&&!Ct&&(Ft=null,Mt=!1,Ct=!1),Mt||Ct||te.lookAt(t)})(e,r.clone().add(c)),te.updateProjectionMatrix()}(e,o,r),function(e,t,o){Object.entries(N).forEach((([r,n])=>{const s=Ae[r],c=o[r];if(!s||!c||"pacman"===r)return;const i=t>n.forceEndProgress.start&&t<n.forceEndProgress.end;!function(e,t,o,r,n,s){const{triggerPos:c,ghostStartFadeIn:i,ghostEndFadeIn:l,ghostStartFadeOut:u,camStartFadeIn:d,camEndFadeIn:h,camStartFadeOut:y,endPosition:m}=n,f=Ot[e],w=parseInt(e.replace("ghost",""))-1;let v=xt[w];if(!v){const e=document.querySelectorAll(".cmp--pov.cmp")[w];v={parent:e||null,povElements:e?e.querySelectorAll(".pov"):document.querySelectorAll(".nonexistent"),camElements:e?e.querySelectorAll(".cam"):document.querySelectorAll(".nonexistent")},xt[w]=v}const{parent:b,povElements:A,camElements:x}=v;if(!b||!A.length||!x.length)return;const P=Oe();null===f.triggerCameraProgress&&(f.triggerCameraProgress=Gt(P.camera,c,a),f.ghostStartFadeInProgress=Gt(P.camera,i,a),f.ghostEndFadeInProgress=Gt(P.camera,l,a),f.ghostStartFadeOutProgress=Gt(P.camera,u,a),f.camStartFadeInProgress=Gt(P.camera,d,a),f.camEndFadeInProgress=Gt(P.camera,h,a),f.camStartFadeOutProgress=Gt(P.camera,y,a),f.endCameraProgress=Gt(P.camera,m,a));const S=Gt(P.camera,r,a);if(S>=f.triggerCameraProgress&&S<=f.endCameraProgress){if(!t.visible&&(t.visible=!0,f.hasBeenTriggered=!0,It[e])){const t=o.getTangentAt(0);t&&It[e].reset(t)}let r=g((S-f.triggerCameraProgress)/(f.endCameraProgress-f.triggerCameraProgress));void 0===f.currentPathT?f.currentPathT=r:f.currentPathT+=.1*(r-f.currentPathT),r=f.currentPathT;const n=o.getPointAt(r);if(t.position.copy(n),It[e]&&r>0){const n=o.getTangentAt(r);n&&n.length()>0&&qe(t,It[e].update(n),"ghost")}Re(t,r>.9?1-(r-.9)/.1:1,{preserveTransmission:!0,skipCurrencySymbols:!0})}else t.visible=!1,f.hasBeenTriggered=!1;!function(e,t,o,r,n,s,a=!1){if(a)return r.style.opacity="0",r.classList.add("no-visibility"),qt(n),void qt(s);const{targetGhostOpacity:c,targetCamOpacity:i}=function(e,t){let o=0,r=0;if(e>=t.ghostStartFadeInProgress&&e<=t.ghostEndFadeInProgress){const r=(e-t.ghostStartFadeInProgress)/(t.ghostEndFadeInProgress-t.ghostStartFadeInProgress);o=Math.min(1,r)}else if(e>t.ghostEndFadeInProgress&&e<t.ghostStartFadeOutProgress)o=1;else if(e>=t.ghostStartFadeOutProgress&&e<=t.camStartFadeInProgress){const r=(e-t.ghostStartFadeOutProgress)/(t.camStartFadeInProgress-t.ghostStartFadeOutProgress);o=Math.max(0,1-r)}if(e>=t.camStartFadeInProgress&&e<=t.camEndFadeInProgress){const o=(e-t.camStartFadeInProgress)/(t.camEndFadeInProgress-t.camStartFadeInProgress);r=Math.min(1,o)}else if(e>t.camEndFadeInProgress&&e<t.camStartFadeOutProgress)r=1;else if(e>=t.camStartFadeOutProgress&&e<=t.endCameraProgress){const o=(e-t.camStartFadeOutProgress)/(t.endCameraProgress-t.camStartFadeOutProgress);r=Math.max(0,1-o)}return{targetGhostOpacity:o,targetCamOpacity:r}}(t,o);t>=o.camStartFadeOutProgress?r.style.opacity=i.toString():t>=o.ghostStartFadeInProgress&&t<=o.ghostEndFadeInProgress&&(r.style.opacity=c.toString());const l=i>p&&c>p,u=r.classList.contains("no-visibility");l&&!u?r.classList.add("no-visibility"):!l&&u&&r.classList.remove("no-visibility"),c>p?zt(n,c):qt(n),i>p?zt(s,i):qt(s)}(0,S,f,b,A,x,s)}(r,s,c,e,n,i)}))}(r,e,o),St.copy(r)):St=r.clone()}function zt(e,t){e.forEach((e=>{const o=e;t>p?(o.classList.remove("no-visibility"),o.style.opacity=t.toString()):t<=p&&!o.classList.contains("no-visibility")&&(o.classList.add("no-visibility"),o.style.opacity="0")}))}function Bt(){Object.keys(It).forEach((e=>{if(It[e]){const o="camera"===e?new t.Vector3(0,0,-1):new t.Vector3(1,0,0);It[e].reset(o)}}))}function qt(e){e.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"}))}function _t(){Object.entries(Ae).forEach((([e,t])=>{if("pacman"!==e){t.visible=!1;const o=parseInt(e.replace("ghost",""))-1,r=xt[o];r?.parent&&(qt(r.povElements),qt(r.camElements),r.parent.classList.add("no-visibility")),Re(t,1,{preserveTransmission:!0,skipCurrencySymbols:!0})}})),Ae.pacman&&(Ae.pacman.visible=!0),Bt()}function jt(){Ae.pacman&&(Ae.pacman.visible=!0),Mt=!1,Ft=null,Ct=!1,Object.keys(Ot).forEach((e=>{Ot[e]={hasBeenTriggered:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0}})),Bt()}function Gt(e,t,o=800){if(!e||!t)return 0;let r=0,n=1/0;for(let s=0;s<o;s++)try{const a=s/(o-1),c=e.getPointAt(a);if(!c)continue;const i=c.distanceTo(t);i<n&&(n=i,r=a)}catch(e){}return r}let Ht=null,Dt=!1,Rt=null,$t=null,Wt=null,Ut={},Yt=null,Qt=-1,Nt=null;function Xt(){Yt=null,Qt=-1,Rt=null}function Zt(e){Object.values(Ae).forEach((t=>{t.userData.introScrollLocked=e}))}function Kt(){const e={visible:!0,opacity:1,transparent:!1};to&&to.visible===e.visible&&to.opacity===e.opacity&&to.transparent===e.transparent||(Ye(e.visible,e.opacity,e.transparent),to=e)}function Jt(){Nt&&(oe.remove(Nt),Nt=null);const e=new t.Group;e.name="introGridGuides",Nt=e;const o=-2,r=new t.LineBasicMaterial({color:65280});for(let n=-5;n<=5;n+=.5){const s=(new t.BufferGeometry).setFromPoints([new t.Vector3(-5,o,n),new t.Vector3(5,o,n)]),a=new t.Line(s,r);a.renderOrder=999,e.add(a)}const n=new t.LineBasicMaterial({color:16711680});for(let r=-5;r<=5;r+=.5){const s=(new t.BufferGeometry).setFromPoints([new t.Vector3(r,o,-5),new t.Vector3(r,o,5)]),a=new t.Line(s,n);a.renderOrder=999,e.add(a)}const s=(new t.BufferGeometry).setFromPoints([new t.Vector3(0,-3,0),new t.Vector3(0,-1,0)]),a=new t.LineBasicMaterial({color:16776960}),c=new t.Line(s,a);c.renderOrder=1e3,e.add(c);const i=16777215;for(let r=-Math.floor(5);r<=Math.floor(5);r+=1){if(0===r)continue;const n=new t.SphereGeometry(.05,8,8),s=new t.MeshBasicMaterial({color:i}),a=new t.Mesh(n,s);a.position.set(r,o,0),a.renderOrder=1001,e.add(a);const c=document.createElement("canvas");c.width=64,c.height=64;const p=c.getContext("2d");if(p){p.fillStyle="#ffffff",p.font="Bold 48px Arial",p.textAlign="center",p.textBaseline="middle",p.fillText(r.toString(),32,32);const o=new t.CanvasTexture(c),n=new t.SpriteMaterial({map:o}),s=new t.Sprite(n);s.scale.set(.3,.3,1),s.position.set(r,-1.7,0),s.renderOrder=1001,e.add(s)}}for(let r=-Math.floor(5);r<=Math.floor(5);r+=1){if(0===r)continue;const n=new t.SphereGeometry(.05,8,8),s=new t.MeshBasicMaterial({color:i}),a=new t.Mesh(n,s);a.position.set(0,o,r),a.renderOrder=1001,e.add(a);const c=document.createElement("canvas");c.width=64,c.height=64;const p=c.getContext("2d");if(p){p.fillStyle="#ffffff",p.font="Bold 48px Arial",p.textAlign="center",p.textBaseline="middle",p.fillText(r.toString(),32,32);const o=new t.CanvasTexture(c),n=new t.SpriteMaterial({map:o}),s=new t.Sprite(n);s.scale.set(.3,.3,1),s.position.set(0,-1.7,r),s.renderOrder=1001,e.add(s)}}const p=new t.SphereGeometry(.1,16,16),l=new t.MeshBasicMaterial({color:16776960}),u=new t.Mesh(p,l);u.position.set(0,o,0),u.renderOrder=1001,e.add(u),e.position.set(0,0,0),oe.add(e),console.log("Intro grid guides created at Y position:",o),console.log("Grid size:",10,"Divisions:",20),console.log("Grid group children count:",e.children.length)}function eo(){Nt&&(oe.remove(Nt),Nt=null,console.log("Intro grid guides removed"))}let to=null;const oo=new t.Vector3;let ro=null;function no(){const e=[],t=xe.visible;return xe.traverse((o=>{if(o.isMesh){const r=o,n=r.material;let s,a="unknown";n&&(Array.isArray(n)?(a=n[0]?.type||"multiple",n[0]&&n[0].color&&(s=n[0].color.getHex())):(a=n.type,n.color&&(s=n.color.getHex())));let c=!0,i=o.parent;for(;i&&i!==xe;){if(!i.visible){c=!1;break}i=i.parent}const p=t&&c&&r.visible;e.push({name:o.name||"unnamed",visible:p,materialType:a,materialColor:s})}})),{totalChildren:xe.children.length,meshes:e}}function so(e){xe.visible=e,xe.traverse((t=>{t.isMesh&&(t.visible=e)}))}function ao(e,t){xe.traverse((o=>{if(o.isMesh&&(o.name||"").toLowerCase().includes(e.toLowerCase())){o.visible=t;let e=o.parent;for(;e&&e!==xe;)e.visible=t,e=e.parent}}))}function co(e,t){xe.traverse((o=>{if(o.isMesh&&(o.name||"").toLowerCase().includes(e.toLowerCase())){const e=o.material;e&&(Array.isArray(e)?e.forEach((e=>{e.color&&e.color.setHex(t)})):e.color&&e.color.setHex(t))}}))}let io=null,po=!1;function lo(){if(!io)return;const e=io.scrollTop,t=io.querySelector('[style*="overflow-y"]'),o=t?t.scrollTop:0,r=no();io.innerHTML=`\n    <h3 style="margin-top: 0; color: #4CAF50; font-size: 16px; text-shadow: 0 0 5px rgba(76, 175, 80, 0.5);">Pill Debug Panel</h3>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <strong style="color: #ffffff;">Pill Structure:</strong><br>\n      Total Groups: <span style="color: #4CAF50;">${r.totalChildren}</span><br>\n      Total Meshes: <span style="color: #4CAF50;">${r.meshes.length}</span>\n    </div>\n\n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <strong style="color: #ffffff;">Quick Controls:</strong><br>\n      <button id="pill-vis-all" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 4px; font-weight: bold;">Show All</button>\n      <button id="pill-hide-all" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #f44336; color: white; border: none; border-radius: 4px; font-weight: bold;">Hide All</button>\n      <button id="pill-reset-colors" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #2196F3; color: white; border: none; border-radius: 4px; font-weight: bold;">Reset Colors</button>\n    </div>\n\n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <strong style="color: #ffffff;">Shell Controls:</strong><br>\n      <button id="pill-shell-show" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 4px; font-weight: bold;">Show Shell</button>\n      <button id="pill-shell-hide" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #f44336; color: white; border: none; border-radius: 4px; font-weight: bold;">Hide Shell</button>\n      <button id="pill-shell-red" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #f44336; color: white; border: none; border-radius: 4px; font-weight: bold;">Shell Red</button>\n      <button id="pill-shell-green" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 4px; font-weight: bold;">Shell Green</button>\n    </div>\n\n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <strong style="color: #ffffff;">Inlay Controls:</strong><br>\n      <button id="pill-inlay-show" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 4px; font-weight: bold;">Show Inlay</button>\n      <button id="pill-inlay-hide" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #f44336; color: white; border: none; border-radius: 4px; font-weight: bold;">Hide Inlay</button>\n      <button id="pill-inlay-orange" style="margin: 5px 5px 5px 0; padding: 6px 12px; cursor: pointer; background: #ff9800; color: white; border: none; border-radius: 4px; font-weight: bold;">Inlay Orange</button>\n    </div>\n\n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <strong style="color: #ffffff;">Global Color:</strong><br>\n      <input type="color" id="pill-color-picker" value="#00ff00" style="width: 100px; height: 35px; margin-top: 5px; border: 2px solid #4CAF50; border-radius: 4px; cursor: pointer;">\n      <button id="pill-apply-color" style="margin-left: 10px; padding: 6px 12px; cursor: pointer; background: #2196F3; color: white; border: none; border-radius: 4px; font-weight: bold;">Apply to All</button>\n    </div>\n\n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <strong style="color: #ffffff;">Mesh List (${r.meshes.length}):</strong><br>\n      <div style="max-height: 300px; overflow-y: auto; background: rgba(255,255,255,0.08); padding: 10px; margin-top: 5px; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);">\n        ${r.meshes.map(((e,t)=>`\n          <div style="margin-bottom: 8px; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 3px; border: 1px solid rgba(255,255,255,0.15);">\n            <div style="color: #ffffff; font-weight: bold; margin-bottom: 5px;">${t+1}. ${e.name||"unnamed"}</div>\n            <div style="font-size: 12px; color: #d0d0d0; line-height: 1.6;">\n              Visible: <span style="color: ${e.visible?"#4CAF50":"#f44336"}; font-weight: bold;">${e.visible}</span> | \n              Material: <span style="color: #FFD700;">${e.materialType}</span> | \n              Color: <span style="color: ${e.materialColor?"#"+e.materialColor.toString(16).padStart(6,"0"):"#999"}; font-weight: bold;">${e.materialColor?"#"+e.materialColor.toString(16).padStart(6,"0").toUpperCase():"N/A"}</span>\n            </div>\n            <div style="margin-top: 8px;">\n              <button class="mesh-toggle" data-name="${e.name}" style="padding: 4px 10px; margin-right: 5px; cursor: pointer; font-size: 11px; background: ${e.visible?"#f44336":"#4CAF50"}; color: white; border: none; border-radius: 3px; font-weight: bold;">\n                ${e.visible?"Hide":"Show"}\n              </button>\n              <button class="mesh-color" data-name="${e.name}" style="padding: 4px 10px; margin-right: 5px; cursor: pointer; font-size: 11px; background: #f44336; color: white; border: none; border-radius: 3px; font-weight: bold;">\n                Set Red\n              </button>\n              <button class="mesh-color-green" data-name="${e.name}" style="padding: 4px 10px; cursor: pointer; font-size: 11px; background: #4CAF50; color: white; border: none; border-radius: 3px; font-weight: bold;">\n                Set Green\n              </button>\n            </div>\n          </div>\n        `)).join("")}\n      </div>\n    </div>\n  `,e>0&&(io.scrollTop=e);const n=io.querySelector('[style*="overflow-y"]');n&&o>0&&(n.scrollTop=o),function(){if(!io)return;const e=io.querySelector("#pill-vis-all"),t=io.querySelector("#pill-hide-all"),o=io.querySelector("#pill-reset-colors");e?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),so(!0),setTimeout((()=>{lo(),go(!1)}),100)})),t?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),so(!1),setTimeout((()=>{lo(),go(!1)}),100)})),o?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),xe.traverse((e=>{if(e.isMesh){const t=e.material;t&&(Array.isArray(t)?t.forEach((e=>{e.color&&e.color.setHex(65280)})):t.color&&t.color.setHex(65280))}})),setTimeout((()=>{lo(),go(!1)}),100)}));const r=io.querySelector("#pill-shell-show"),n=io.querySelector("#pill-shell-hide"),s=io.querySelector("#pill-shell-red"),a=io.querySelector("#pill-shell-green");r?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),ao("shell",!0),setTimeout((()=>{lo(),go(!1)}),100)})),n?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),ao("shell",!1),setTimeout((()=>{lo(),go(!1)}),100)})),s?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),co("shell",16711680),setTimeout((()=>{lo(),go(!1)}),100)})),a?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),co("shell",65280),setTimeout((()=>{lo(),go(!1)}),100)}));const c=io.querySelector("#pill-inlay-show"),i=io.querySelector("#pill-inlay-hide"),p=io.querySelector("#pill-inlay-orange");c?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),ao("inlay",!0),setTimeout((()=>{lo(),go(!1)}),100)})),i?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),ao("inlay",!1),setTimeout((()=>{lo(),go(!1)}),100)})),p?.addEventListener("click",(e=>{e.stopPropagation(),go(!0),co("inlay",16746496),setTimeout((()=>{lo(),go(!1)}),100)}));const l=io.querySelector("#pill-color-picker"),u=io.querySelector("#pill-apply-color");u?.addEventListener("click",(e=>{var t;e.stopPropagation(),l&&(go(!0),t=parseInt(l.value.replace("#",""),16),xe.traverse((e=>{if(e.isMesh){const o=e.material;o&&(Array.isArray(o)?o.forEach((e=>{e.color&&e.color.setHex(t)})):o.color&&o.color.setHex(t))}})),setTimeout((()=>{lo(),go(!1)}),100))})),io.querySelectorAll(".mesh-toggle").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation();const t=e.target.getAttribute("data-name");if(t){go(!0);const e=no().meshes.find((e=>e.name===t));e&&(ao(t,!e.visible),setTimeout((()=>{lo(),go(!1)}),100))}}))})),io.querySelectorAll(".mesh-color").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation();const t=e.target.getAttribute("data-name");t&&(go(!0),co(t,16711680),setTimeout((()=>{lo(),go(!1)}),100))}))})),io.querySelectorAll(".mesh-color-green").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation();const t=e.target.getAttribute("data-name");t&&(go(!0),co(t,65280),setTimeout((()=>{lo(),go(!1)}),100))}))}));const d=io.querySelector('[style*="overflow-y"]');if(d){let e=null;d.addEventListener("scroll",(()=>{go(!0),e&&clearTimeout(e),e=window.setTimeout((()=>{go(!1)}),1e3)})),d.addEventListener("click",(e=>{e.stopPropagation()}))}}()}let uo=null,ho=!1;function go(e){ho=e}!async function(){o?re.setPixelRatio(Math.min(window.devicePixelRatio,2)):re.setPixelRatio(window.devicePixelRatio),re.shadowMap.enabled=!0,re.shadowMap.type=t.PCFSoftShadowMap,P.mazeContainer?(re.setSize(P.mazeContainer.clientWidth,P.mazeContainer.clientHeight),P.mazeContainer.appendChild(re.domElement)):(re.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(re.domElement)),ae(),window.addEventListener("resize",ae),re.render(oe,te),function(){const e=new t.AmbientLight(16777215);oe.add(e);const o=new t.DirectionalLight(16777215,.8);oe.add(o),o.position.set(-5,15,10),o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.camera.left=-20,o.shadow.camera.right=20,o.shadow.camera.top=20,o.shadow.camera.bottom=-20,o.shadow.camera.near=.1,o.shadow.camera.far=50,o.shadow.bias=-.001,o.shadow.radius=3,o.castShadow=!0}(),function(){const e=X(),t=Z();te.position.set(e.x,e.y,e.z),te.lookAt(t.x,t.y,t.z)}(),await async function(e){return Object.values(Ae).forEach((t=>e.add(t))),e.add(be),e.add(xe),new Promise(((o,r)=>{we.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(r){const n=r.scene,s=[];n.traverse((e=>{e.name&&s.push(e.name)})),console.log("All objects in 3D file:",s),n.traverse((o=>{if("CAM-Pacman"===o.name){const e=[];o.traverse((t=>{if(t.isMesh&&"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name){const o=me[t.name]||me.default;t.material=o,e.push(t)}else"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name||(t.visible=!1)})),e.forEach((e=>Ae.pacman.add(e))),Ae.pacman.scale.set(.05,.05,.05),Ae.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),ve=new t.AnimationMixer(Ae.pacman);const n={};r.animations.forEach((e=>{const t=ve.clipAction(e);t.getMixer().addEventListener("loop",(function(e){e.action.getRoot().traverse((function(e){e.userData&&e.userData.skipAnimation&&(e.updateMorphTargets=function(){})}))})),n[e.name]=t,t.setEffectiveWeight(0),t.play()})),Object.values(n).forEach((e=>{e.setEffectiveWeight(1)}))}else if(o.name&&Pe[o.name]){const e=Pe[o.name],r=new t.Group;o.rotation.z=Math.PI,o.rotation.x=Math.PI/2,o.scale.set(.75,.75,.75);const n=[];o.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=de:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),n.push(e))})),n.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),r.add(e)})),e&&e.add(r)}else if(o.name&&!o.name.toLowerCase().includes("pacman")&&("CAM-Pill-Orange"===o.name||o.name.toLowerCase().includes("pill")&&o.name.toLowerCase().includes("orange"))){console.log("Found pill object:",o.name);const e=new t.Group;o.traverse((t=>{if(t.isMesh){const o=t.clone(),r=t.name||"";console.log("Pill subChild name:",r);const n=r.toLowerCase().includes("shell")?fe.shell:fe.default;o.material=n,o.visible=!0,o.castShadow=!0,o.receiveShadow=!0,e.add(o)}})),e.children.length>0&&xe.add(e)}if(o.isMesh)if("CAM-Arena_LowRes_Top"===o.name)o.material=ue,o.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===o.name)o.material=le,o.castShadow=!0;else if("CAM-Floor"===o.name){const r=o.clone();o.position.y=-.1,o.position.x=0,o.position.z=0,o.material=new t.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:t.FrontSide}),o.receiveShadow=!1,o.castShadow=!0,o.scale.set(.5,.5,.5),r.material=he,r.position.y=-.5,r.receiveShadow=!0,e.add(r)}else o.visible=!1})),n.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(n),n.position.set(.5,.5,.5),xe.children.length>0&&(xe.scale.set(.05,.05,.05),xe.visible=!0,xe.traverse((e=>{e.isMesh&&(e.visible=!0)}))),o()}),void 0,(function(e){r(e)}))}))}(oe),Object.entries(Ae).forEach((([e,t])=>{const o=We(t);et[e]={position:t.position.clone(),rotation:t.quaternion.clone(),scale:t.scale.clone(),visible:t.visible,opacity:o}})),window.addEventListener("scroll",(()=>{0===window.scrollY?ht||At():ht&&ht&&(ht=!1,st(!1),wt=!0,rt=gt%50/50,Object.entries(Ae).forEach((([e,t])=>{ct(e,t.position.clone(),!0,!0),it(e,t.quaternion.clone(),!0)})),bt&&(oe.remove(bt),bt=null),dt())})),0===window.scrollY&&At(),Tt(),Ht&&(Ht.kill(),Ht=null),Ht=Te().timeline({scrollTrigger:{trigger:n,start:"top top",end:"bottom bottom",scrub:c,refreshPriority:1,markers:{startColor:"green",endColor:"red",fontSize:"12px",fontWeight:"bold",indent:60},onEnter:()=>{console.log("Intro scroll onEnter triggered"),Dt=!0,Xt(),Zt(!0),Jt()},onEnterBack:()=>{console.log("Intro scroll onEnterBack triggered"),Dt=!0,Xt(),Zt(!0),Jt()},onLeave:()=>{Dt=!1,Xt(),Kt(),Zt(!1),eo()},onLeaveBack:()=>{Dt=!1,Xt(),Kt(),Zt(!1),eo()},onUpdate:e=>{"number"==typeof e.progress&&function(e){if(!Dt)return;if(Rt===e)return;Rt=e;const o=performance.now();if(!Yt||o-Qt>16){const e=te.position.x,r=te.position.y,n=te.position.z;if(isFinite(e)&&isFinite(r)&&isFinite(n))Yt||(Yt=new t.Vector3),Yt.set(e,r,n),Qt=o,oo.copy(Yt);else{if(!Yt)return;oo.copy(Yt)}}else oo.copy(Yt);(function(){if($t&&Wt)return;const e=Ae.pacman;if(e){Ut.pacman||(Ut.pacman=e.quaternion.clone());let o=Ut.pacman.clone();const r=new t.Object3D;r.quaternion.copy(o),He(r,o,1),o=r.quaternion.clone(),o=De(o,[{axis:"x",angle:Math.PI/2},{axis:"y",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"y",angle:Math.PI}]),$t=o}const o=Ae.ghost1;if(o){Ut.ghost1||(Ut.ghost1=o.quaternion.clone());let e=Ut.ghost1.clone();const r=new t.Object3D;r.quaternion.copy(e),He(r,e,1),e=r.quaternion.clone(),e=De(e,[{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI}]),Wt=e}Object.keys(Ae).forEach((e=>{const t=Ae[e];t&&!Ut[e]&&(Ut[e]=t.quaternion.clone())}))})(),ve&&ve.update(ne.getDelta());const r={visible:!0,opacity:0,transparent:!0};to&&to.visible===r.visible&&to.opacity===r.opacity&&to.transparent===r.transparent||(Ye(r.visible,r.opacity,r.transparent),to=r);const n=$t,s=Wt,a=oo.x-10,c=oo.x+10,i=[{key:"pacman",behindOffset:1.5,zOffset:.5,xOffset:0,yOffset:0,zPhase:0},{key:"ghost1",behindOffset:0,zOffset:.5,xOffset:.5,yOffset:-.5,zPhase:1*Math.PI},{key:"ghost2",behindOffset:-.005,zOffset:.5,xOffset:0,yOffset:-1,zPhase:1.5*Math.PI},{key:"ghost3",behindOffset:-.01,zOffset:.5,xOffset:.5,yOffset:.5,zPhase:1*Math.PI},{key:"ghost4",behindOffset:-.015,zOffset:.5,xOffset:.75,yOffset:.25,zPhase:1*Math.PI},{key:"ghost5",behindOffset:-.02,zOffset:.5,xOffset:0,yOffset:-.5,zPhase:1*Math.PI},{key:"pill",behindOffset:-.03,zOffset:.5,xOffset:-.75,yOffset:.25,zPhase:.5*Math.PI}],p=g(e),l=a+(c-a)*p,u=l+4.3,d=oo.y+-2,h=oo.z+0;if(!(isFinite(l)&&isFinite(u)&&isFinite(d)&&isFinite(h)))return;const y=p<.2?p/.2:1;i.forEach((({key:e,behindOffset:t,zOffset:o,xOffset:r,yOffset:a,zPhase:c})=>{const i="pill"===e?xe:Ae[e];if(!i)return;const l="pacman"===e||"pill"===e?0:.01*Math.sin(p*Math.PI*2*20+c),g=u+t+r,m=d+a-("pacman"===e||"pill"===e?0:1.5*l),f=h+o-l;if(!isFinite(g)||!isFinite(m)||!isFinite(f)||Math.abs(f)<.01||Math.abs(f)>100)return;i.position.set(g,m,f);const w="pacman"===e?n:s;w&&i.quaternion.copy(w),"pill"===e?i.scale.set(.05,.05,.05):Qe(i,e,"intro"),i.visible=!0;const v="pacman"===e||"pill"===e?1:y;i.traverse((t=>{if(t.isMesh){const o=t,r=t.name||"";if(ze(r)||"pacman"===e&&Be(r))return void(o.visible=!1);o.visible=!0;const n=o.material;n&&(Array.isArray(n)?n:[n]).forEach((e=>{e.opacity=v,void 0!==e.transmission&&e.transmission>0?e.transparent=!0:e.transparent=v<1}))}}))}))}(e.progress)},id:"introScroll"}}).addLabel("intro-text-start",0).fromTo(".sc_h--intro",{scale:l,opacity:0},{keyframes:[{scale:l,opacity:0,duration:0},{scale:.8,opacity:1,duration:u},{scale:1.2,opacity:1,duration:d},{scale:1.5,opacity:0,duration:h}]}).addLabel("intro-text-fade-in",0).addLabel("intro-text-hold",.3).addLabel("intro-text-fade-out",.7).fromTo(".sc_b--intro",{scale:l,opacity:0},{keyframes:[{scale:l,opacity:0,duration:0},{scale:.8,opacity:1,duration:u},{scale:1.2,opacity:1,duration:d},{scale:1.5,opacity:0,duration:h}]}).addLabel("intro-text-end",1),ro=Te().timeline({scrollTrigger:{trigger:s,start:"top center",end:"bottom bottom",scrub:c,markers:!1,onEnter:()=>{Ke(),Xe(!0)},onEnterBack:()=>{Ke(),Xe(!0)}}}).addLabel("outro-text-start",0).fromTo(".sc_b--outro",{scale:l,opacity:0},{keyframes:[{scale:l,opacity:0,duration:0},{scale:.8,opacity:1,duration:u},{scale:1.2,opacity:1,duration:d},{scale:1.5,opacity:0,duration:h}]}).addLabel("outro-text-fade-in",0).addLabel("outro-text-hold",.3).addLabel("outro-text-fade-out",.7).addLabel("outro-text-end",1),function(){const e=document.querySelector(".wr_p--skip.wr_p");if(e){const t=document.querySelector(".sc--testimonials");t&&e.addEventListener("click",(()=>{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))}}(),function(){if(io)return;io=document.createElement("div"),io.id="pill-debug-hud",io.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    width: 350px;\n    max-height: 80vh;\n    background: rgba(20, 20, 20, 0.95);\n    color: #e0e0e0;\n    padding: 20px;\n    border-radius: 8px;\n    font-family: 'Courier New', monospace;\n    font-size: 13px;\n    z-index: 10000;\n    overflow-y: auto;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);\n    border: 2px solid #4CAF50;\n  ";const e=document.createElement("button");e.textContent="Show/Hide Pill Debug",e.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 390px;\n    padding: 10px 15px;\n    background: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    z-index: 10001;\n    font-size: 14px;\n    font-weight: bold;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  ",e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),po=!po,io&&(io.style.display=po?"block":"none",po&&lo())})),document.body.appendChild(e),document.body.appendChild(io),io.style.display="none",lo()}(),function(e=1e3){uo&&clearInterval(uo),uo=window.setInterval((()=>{po&&io&&!ho&&lo()}),e)}(500),function(){const e=()=>{se.forEach((e=>e())),re.render(oe,te),requestAnimationFrame(e)};e()}()}()})();
//# sourceMappingURL=script.js.map