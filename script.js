(()=>{"use strict";var e={352:e=>{if("undefined"==typeof gsap){var r=new Error("Cannot find module 'gsap'");throw r.code="MODULE_NOT_FOUND",r}e.exports=gsap},774:e=>{if("undefined"==typeof ScrollTrigger){var r=new Error("Cannot find module 'ScrollTrigger'");throw r.code="MODULE_NOT_FOUND",r}e.exports=ScrollTrigger}},r={};function t(o){var c=r[o];if(void 0!==c)return c.exports;var p=r[o]={exports:{}};return e[o](p,p.exports,t),p.exports}const o=THREE,c=window.innerWidth<768,p=new o.Vector3(.45175,.5,.55675),n=(new o.Vector3(.65725,.55,.75325),new o.Vector3(.9085,.55,.8035),new o.Vector3(.75775,.55,1.05475),new o.Vector3(.65725,.55,1.0045),new o.Vector3(.15475,.55,1.15525),{startMobile:new o.Vector3(.5,2.5,2.5),startDesktop:new o.Vector3(-2,2.5,2),secondMobile:new o.Vector3(.5,2.5,2),secondDesktop:new o.Vector3(-1.5,3,2),mobileLookAt:new o.Vector3(.5,.5,-1.5),desktopLookAt:new o.Vector3(-1.25,.5,.25)}),s=c?n.startMobile:n.startDesktop,u=c?n.secondMobile:n.secondDesktop,a=c?n.mobileLookAt:n.desktopLookAt,i={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},y=new o.Scene,w=new o.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"});function v(){const e=Math.min(window.devicePixelRatio,c?2:3);w.setPixelRatio(e),i.mazeContainer?w.setSize(i.mazeContainer.clientWidth,i.mazeContainer.clientHeight):w.setSize(window.innerWidth,window.innerHeight)}new o.Clock;const h=new o.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,1e3);function l(){h.position.copy(s),h.lookAt(a)}h.quaternion.clone(),(new o.Quaternion).setFromEuler(new o.Euler(-1.5708,0,0));const V=(new o.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),A=new o.MeshMatcapMaterial({matcap:V}),T=new o.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),m=new o.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:o.NormalBlending,side:o.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),g=new o.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),d={blue:new o.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new o.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new o.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},M={CAM_Pacman_Backframe:d.blue,"CAM-Pacman_Bitcoin_1":d.white,"CAM-Pacman_Bitcoin_2":d.white,"CAM-Pacman_Bottom":d.blue,"CAM-Pacman_Top":d.blue,"CAM-Pacman_Eye":d.white,CAM_Pacman_Logo_1:d.white,CAM_Pacman_Logo_2:d.white,"CAM-Pacman_Shell_Boolean":d.blue,"CAM-Pacman_Shell":d.blue,"CAM-Pacman_Bottom_electronic":d.white,"CAM-Pacman_Top_electronic":d.white,"CAM-Pacman_Bottom_Text":d.white,"CAM-Pacman_Top_Text":d.white,default:d.blue},f=(Array(5).fill(m),new o.GLTFLoader);let P;const C=new o.Group;y.add(C);const S={pacman:C,ghost1:new o.Mesh(new o.BufferGeometry,m),ghost2:new o.Mesh(new o.BufferGeometry,m),ghost3:new o.Mesh(new o.BufferGeometry,m),ghost4:new o.Mesh(new o.BufferGeometry,m),ghost5:new o.Mesh(new o.BufferGeometry,m)},_={Ghost_EUR:S.ghost1,Ghost_CHF:S.ghost2,Ghost_YEN:S.ghost3,Ghost_USD:S.ghost4,Ghost_GBP:S.ghost5};Object.values(S).forEach((e=>y.add(e)));const E=[{pos:new o.Vector3(.25525,.55,.6025),type:"straight"},{pos:new o.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.1),type:"straight"},{pos:new o.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new o.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new o.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new o.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new o.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new o.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new o.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.25525,.55,.6025),type:"straight"}],b=[{pos:new o.Vector3(-.44825,.55,.502),type:"straight"},{pos:new o.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new o.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new o.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"straight"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,.8035),type:"straight"},{pos:new o.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,.703),type:"straight"},{pos:new o.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"straight"},{pos:new o.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new o.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,.703),type:"straight"},{pos:new o.Vector3(-.44825,.55,.502),type:"straight"}],z=[{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new o.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new o.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.502),type:"straight"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new o.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new o.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new o.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.1),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new o.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"straight"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"}],O=[{pos:new o.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.703),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new o.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new o.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.2005),type:"straight"},{pos:new o.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,.301),type:"straight"},{pos:new o.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.95875,.55,.904),type:"straight"},{pos:new o.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,1.105),type:"straight"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.808,.55,.8035),type:"curve",curveType:"upperArc"}],H=[{pos:new o.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new o.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,.8035),type:"straight"},{pos:new o.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new o.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,.703),type:"straight"},{pos:new o.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new o.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"straight"},{pos:new o.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.1),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new o.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,.1),type:"straight"},{pos:new o.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new o.Vector3(1.05925,.55,.4015),type:"straight"}],R=[{pos:new o.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new o.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new o.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new o.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new o.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new o.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new o.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new o.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new o.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new o.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.1),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],L=[{pos:new o.Vector3(.55675,-.5,.45175),type:"curve",curveType:"forwardDownArc"},{pos:new o.Vector3(.55675,.55,.6025),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.607,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.7075,.55,.8035),type:"straight"},{pos:new o.Vector3(.9085,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.95875,.55,.85375),type:"straight"},{pos:new o.Vector3(.95875,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.9085,.55,1.2055),type:"straight"},{pos:new o.Vector3(.808,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,1.15525),type:"straight"},{pos:new o.Vector3(.75775,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.7075,.55,1.0045),type:"straight"},{pos:new o.Vector3(.205,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.05475),type:"straight"},{pos:new o.Vector3(.15475,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.205,.55,1.2055),type:"straight"},{pos:new o.Vector3(.5065,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.55675,.55,1.306),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.44825,1,2.0095),type:"straight"}],x=[{pos:new o.Vector3(1.05925,.55,.703),type:"straight"},{pos:new o.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.009,.55,.8035),type:"straight"},{pos:new o.Vector3(.9085,.55,.8035),type:"straight"}],B=[{pos:new o.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new o.Vector3(1.009,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.95875,.55,1.15525),type:"straight"},{pos:new o.Vector3(.95875,.55,1.05475),type:"straight"}],I=[{pos:new o.Vector3(.35575,.55,.904),type:"straight"},{pos:new o.Vector3(.35575,.55,.95425),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.406,.55,1.0045),type:"straight"},{pos:new o.Vector3(.5065,.55,1.0045),type:"straight"}],D=[{pos:new o.Vector3(.15475,.55,1.105),type:"straight"},{pos:new o.Vector3(.15475,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.205,.55,1.0045),type:"straight"},{pos:new o.Vector3(.3055,.55,1.0045),type:"straight"}],G=[{pos:new o.Vector3(.55675,.55,1.306),type:"straight"},{pos:new o.Vector3(.55675,.55,1.25575),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.5065,.55,1.2055),type:"straight"},{pos:new o.Vector3(.406,.55,1.2055),type:"straight"}],N=(new o.CubicBezierCurve3(s,u,new o.Vector3(.55675,3,.45175),new o.Vector3(.55675,.5,.45175)),{pacmanHome:k(E),ghost1Home:k(b),ghost2Home:k(z),ghost3Home:k(O),ghost4Home:k(H),ghost5Home:k(R),cameraPOV:k(L),ghost1POV:k(x),ghost2POV:k(B),ghost3POV:k(I),ghost4POV:k(D),ghost5POV:k(G)});function k(e){const r=new o.CurvePath;for(let t=0;t<e.length-1;t++){const c=e[t],p=e[t+1];if("straight"===c.type){const e=new o.LineCurve3(c.pos,p.pos);r.add(e)}else if("curve"===c.type){let e;e="upperArc"===c.curveType?new o.Vector3(c.pos.x,c.pos.y,p.pos.z):"lowerArc"===c.curveType?new o.Vector3(p.pos.x,c.pos.y,c.pos.z):"forwardDownArc"===c.curveType?new o.Vector3(c.pos.x,p.pos.y,c.pos.z):new o.Vector3(c.pos.x,c.pos.y,p.pos.z);const t=new o.QuadraticBezierCurve3(c.pos,e,p.pos);r.add(t)}}return r}const W={ghost1:1.25,ghost2:1.14,ghost3:1.05,ghost4:.97,ghost5:.89,pacman:.8},F=new class{constructor(){this.state="IDLE",this.animationTime=0,this.animationDuration=33,this.animationRunning=!0,this.timeOffset=0,this.bezierCurves={},this.capturedPositions={},this.capturedRotations={},this.scrollProgress=0,this.savedHomeProgress=0,console.log("AnimationSystem: Initializing..."),console.log("AnimationSystem: MAZE_CENTER:",p)}startHomeAnimation(){this.state="HOME_ANIMATION",this.animationTime=0,this.animationRunning=!0,this.timeOffset=Date.now()}pauseHomeAnimation(){const e=(Date.now()-this.timeOffset)/1e3;this.savedHomeProgress=e/this.animationDuration%1,this.animationRunning=!1}resumeHomeAnimation(){this.state="HOME_ANIMATION",this.animationRunning=!0,this.timeOffset=Date.now()-this.savedHomeProgress*this.animationDuration*1e3}captureGhostPositions(){Object.entries(S).forEach((([e,r])=>{this.capturedPositions[e]=r.position.clone(),this.capturedRotations[e]=r.rotation.clone()}))}createBezierCurves(){this.bezierCurves={},Object.entries(this.capturedPositions).forEach((([e,r])=>{const t=p.clone(),c=new o.Vector3((r.x+t.x)/2,2,(r.z+t.z)/2);this.bezierCurves[e]=new o.QuadraticBezierCurve3(r,c,t)}))}startScrollToCenter(){"SCROLL_TO_CENTER"!==this.state&&(this.pauseHomeAnimation(),this.captureGhostPositions(),this.createBezierCurves(),this.state="SCROLL_TO_CENTER")}setScrollProgress(e){this.scrollProgress=Math.max(0,Math.min(1,e))}update(){if("HOME_ANIMATION"===this.state&&this.animationRunning){const e=(Date.now()-this.timeOffset)/1e3;let r=(this.savedHomeProgress+.03*e)%1,t=r;if(r>.95){const e=(r-.95)/.05;t=(1-e)*r+0*e}this.animateHomePaths(t)}else"SCROLL_TO_CENTER"===this.state&&this.animateScrollToCenter(this.scrollProgress)}animateHomePaths(e){const r="home"=="home"?{pacman:N.pacmanHome,ghost1:N.ghost1Home,ghost2:N.ghost2Home,ghost3:N.ghost3Home,ghost4:N.ghost4Home,ghost5:N.ghost5Home}:{};C.visible||(C.visible=!0),Object.entries(S).forEach((([t,o])=>{const c=r[t];if(c){const r=c.getPointAt(e);o.position.copy(r);const p=c.getTangentAt(e).normalize();if(o.lookAt(r.clone().add(p)),"pacman"===t){const e=Math.atan2(p.x,p.z);void 0===o.previousZRotation&&(o.previousZRotation=e);let r=e-o.previousZRotation;r>Math.PI?r-=2*Math.PI:r<-Math.PI&&(r+=2*Math.PI);const t=.1,c=o.previousZRotation+r*t;o.previousZRotation=c,o.rotation.set(Math.PI/2,Math.PI,c+Math.PI/2)}}}))}animateScrollToCenter(e){Object.entries(S).forEach((([r,t])=>{const c=W[r]||1;let p=Math.min(e*c/.8,1);p="pacman"!==r?Math.max(0,Math.min(1,(e-.15*(parseInt(r.replace("ghost",""))-1))*c/.8)):Math.max(0,Math.min(1,(e-.3)*c/.8));const n=this.bezierCurves[r];if(!n)return;const s=n.getPoint(p);t.position.copy(s);const u=this.capturedRotations[r],a=new o.Euler(Math.PI/-2,0,0),i=new o.Euler(u.x+(a.x-u.x)*p,u.y+(a.y-u.y)*p,u.z+(a.z-u.z)*p);t.rotation.copy(i);let y=1;p>=.9&&(y=1-(p-.9)/(1-.9),y=Math.max(0,y)),t instanceof o.Mesh&&t.material&&"opacity"in t.material?t.material.opacity=y:t instanceof o.Group&&t.traverse((e=>{e instanceof o.Mesh&&e.material&&"opacity"in e.material&&(e.material.opacity=y)}))}))}resetToHome(){this.state="HOME_ANIMATION",this.animationRunning=!0,this.timeOffset=Date.now(),this.savedHomeProgress=0}getState(){return this.state}render(){w.render(y,h)}};function U(){requestAnimationFrame(U),F.update(),F.render()}!async function(){try{c?w.setPixelRatio(Math.min(window.devicePixelRatio,2)):w.setPixelRatio(window.devicePixelRatio),w.shadowMap.enabled=!0,w.shadowMap.type=o.PCFSoftShadowMap,w.shadowMap.enabled=!0,w.shadowMap.type=o.PCFSoftShadowMap,i.mazeContainer?(console.log("Found maze container, using it for renderer"),w.setSize(i.mazeContainer.clientWidth,i.mazeContainer.clientHeight),i.mazeContainer.appendChild(w.domElement)):(console.log("Maze container not found, using body for renderer"),w.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(w.domElement)),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v(),window.addEventListener("resize",v),function(){const e=new o.AmbientLight(16777215);y.add(e);const r=new o.DirectionalLight(16777215,.8);y.add(r),r.position.set(-5,15,10),r.shadow.mapSize.width=4096,r.shadow.mapSize.height=4096,r.shadow.camera.left=-20,r.shadow.camera.right=20,r.shadow.camera.top=20,r.shadow.camera.bottom=-20,r.shadow.camera.near=.1,r.shadow.camera.far=50,r.shadow.bias=-.001,r.shadow.radius=3,r.castShadow=!0}(),l(),window.addEventListener("resize",(()=>{h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix()})),await async function(){return new Promise(((e,r)=>{f.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(r){const t=r.scene;t.traverse((e=>{if("CAM-Pacman"===e.name){const t=[];e.traverse((e=>{if(e.isMesh&&"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name){const r=M[e.name]||M.default;e.material=r,t.push(e)}else"CAM-Pacman_Shell"!==e.name&&"CAM-Pacman_Shell_Boolean"!==e.name||(e.visible=!1)})),t.forEach((e=>S.pacman.add(e))),S.pacman.scale.set(.05,.05,.05),S.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),P=new o.AnimationMixer(S.pacman);const c={};r.animations.forEach((e=>{const r=P.clipAction(e);c[e.name]=r,r.setEffectiveWeight(1),r.play()}))}else if(e.name&&_[e.name]){const r=_[e.name],t=new o.Group;e.rotation.z=Math.PI,e.rotation.x=Math.PI/2,e.scale.set(.75,.75,.75);const c=[];e.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=m:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),t.add(e)})),r.add(t)}if(e.isMesh)if("CAM-Arena_LowRes_Top"===e.name)e.material=T,e.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===e.name)e.material=A,e.castShadow=!0;else if("CAM-Floor"===e.name){const r=e.clone();e.position.y=-.1,e.position.x=0,e.position.z=0,e.material=new o.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:o.FrontSide}),e.receiveShadow=!1,e.castShadow=!0,e.scale.set(.5,.5,.5),r.material=g,r.position.y=-.5,r.receiveShadow=!0,y.add(r)}})),t.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),y.add(t),t.position.set(.5,.5,.5),e()}),(function(e){}),(function(e){r(e)}))}))}(),console.log("AnimationSystem: Initializing animation system..."),l(),console.log("AnimationSystem: Starting animation loop..."),U(),setTimeout((()=>{console.log("AnimationSystem: Auto-starting home animation..."),F.startHomeAnimation()}),1e3);let e=!1;try{const r=t(352),{ScrollTrigger:o}=t(774);r.registerPlugin(o),e=!0,o.create({trigger:".sc--home",start:"top top",end:"bottom top",scrub:.5,onUpdate:e=>{"SCROLL_TO_CENTER"!==F.getState()&&F.startScrollToCenter(),F.setScrollProgress(e.progress)},onLeaveBack:()=>{F.resetToHome()}})}catch(e){console.warn("GSAP/ScrollTrigger not available, using vanilla scroll fallback.")}if(!e){let e="HOME";window.addEventListener("scroll",(()=>{const r=document.querySelector(".sc--home");if(!r)return;const t=r.getBoundingClientRect();window.innerHeight;let o=0;if(t.top<=0&&t.bottom>=0){const e=t.height,r=Math.abs(t.top);o=Math.min(1,r/e)}else t.bottom<0&&(o=1);o>0?("SCROLL"!==e&&(F.startScrollToCenter(),e="SCROLL"),F.setScrollProgress(o)):"HOME"!==e&&(F.resetToHome(),e="HOME")}))}}catch(e){console.error("Initialization error:",e)}}()})();
//# sourceMappingURL=script.js.map