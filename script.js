(()=>{"use strict";var e={13:(e,t,o)=>{o.d(t,{l:()=>a});var r=o(340);const n={mazeContainer:".el--home-maze.el",canvas:"canvas",homeSection:r.BK.HOME,introSection:r.BK.INTRO,povSection:r.BK.POV,finalSection:r.BK.OUTRO,finalContainer:".cr--outro.cr",scrollComponent:".cmp--scroll.cmp",parentElements:".cmp--pov.cmp",pov:".pov",cam:".cam"},a={mazeContainer:document.querySelector(n.mazeContainer),canvas:document.querySelector(n.canvas),homeSection:document.querySelector(n.homeSection),introSection:document.querySelector(n.introSection),povSection:document.querySelector(n.povSection),finalSection:document.querySelector(n.finalSection),finalContainer:document.querySelector(n.finalContainer),parentElements:document.querySelectorAll(n.parentElements)}},68:(e,t,o)=>{o.d(t,{D8:()=>y,Md:()=>l,Ro:()=>i,S5:()=>h,rF:()=>c,xv:()=>s});var r=o(909),n=o(417);const a=(new r.TextureLoader).load(n.k.mazeTexture),s=new r.MeshMatcapMaterial({matcap:a}),i=new r.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),c=new r.MeshPhysicalMaterial({color:16777215,opacity:.9999,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.NormalBlending,side:r.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),l=new r.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),p={blue:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},u=new r.MeshPhysicalMaterial({color:16777215,metalness:0,roughness:.05,transmission:1,thickness:.5,ior:1.5,reflectivity:.5,clearcoat:1,clearcoatRoughness:.1,transparent:!0,opacity:1,side:r.DoubleSide,envMapIntensity:1}),d=new r.MeshPhysicalMaterial({color:16737792,metalness:0,roughness:.05,transmission:.2,thickness:.5,ior:1.5,reflectivity:.5,clearcoat:1,clearcoatRoughness:.1,transparent:!0,opacity:.98,side:r.DoubleSide,envMapIntensity:1}),m={shell:new r.MeshPhysicalMaterial({color:16729088,metalness:0,roughness:.05,transmission:.9,thickness:.5,ior:1.5,reflectivity:.5,clearcoat:1,clearcoatRoughness:.1,transparent:!0,opacity:1,side:r.DoubleSide,envMapIntensity:1}),shellFront:u,shellBack:d,bitcoin:new r.MeshStandardMaterial({color:16737792,roughness:.3,metalness:.2}),default:new r.MeshStandardMaterial({color:0,roughness:.5,metalness:.1})},h={CAM_Pacman_Backframe:p.blue,"CAM-Pacman_Bitcoin_1":p.white,"CAM-Pacman_Bitcoin_2":p.white,"CAM-Pacman_Bottom":p.blue,"CAM-Pacman_Top":p.blue,"CAM-Pacman_Eye":p.white,CAM_Pacman_Logo_1:p.white,CAM_Pacman_Logo_2:p.white,"CAM-Pacman_Shell_Boolean":p.blue,"CAM-Pacman_Shell":p.blue,"CAM-Pacman_Bottom_electronic":p.white,"CAM-Pacman_Top_electronic":p.white,"CAM-Pacman_Bottom_Text":p.white,"CAM-Pacman_Top_Text":p.white,default:p.blue},y={shell:m.shell,shellFront:m.shellFront,shellBack:m.shellBack,bitcoin:m.bitcoin,default:m.default}},70:(e,t,o)=>{o.r(t),o.d(t,{initHomeScrollAnimation:()=>C});var r=o(352),n=o.n(r),a=o(774),s=o.n(a),i=o(909),c=o(771),l=o(910),p=o(606),u=o(991),d=o(543),m=o(877),h=o(392),y=o(522),g=o(365),f=o(641),v=o(340),w=o(68);const b={x:90,y:180,z:0};let A=null;const x=50;let P={},S=[];const E=[];let M=null,F=null;function C(){A&&(A.kill(),A=null);const e=(0,u.getCameraHomeScrollPathPoints)(),t=new i.CurvePath;if(4===e.length){const o=new i.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(o)}const o=()=>{E.forEach((e=>{e.dispose()})),E.length=0},r=()=>{s().getById("introScroll"),S.forEach((([e,t])=>{(0,f.DB)(t),(0,g.tU)(t,1,{preserveTransmission:!0,skipCurrencySymbols:!0})})),o()},a=()=>{requestAnimationFrame((()=>{const e=s().getById("introScroll");if(e?.isActive)return;const t=(0,y.Yw)(),o=(0,y.bd)(),r=(0,h.Zn)();Object.entries(l.ghosts).forEach((([e,r])=>{if(t[e])r.position.copy(t[e]),P[e]=t[e].clone();else{const t=(0,y.Qf)()[e]||r.position;r.position.copy(t),P[e]=t.clone()}o[e]&&r.quaternion.copy(o[e])}));const n=Object.keys(o).length>0?o:(0,y.X2)();(0,h.Ui)(!0,r,P,n),C()}))};A=n().timeline({scrollTrigger:{id:"homeScroll",trigger:v.BK.HOME,start:"top top",end:"bottom top",scrub:v.jb,markers:!1,refreshPriority:0,invalidateOnRefresh:!1,onEnter:a,onEnterBack:a,onUpdate:o=>{if(t&&t.curves.length){const r=o.progress,n=Math.min(1,Math.max(0,r)),a=1-Math.pow(1-n,1.5),s=t.getPointAt(a);c.U.position.copy(s);const l=[];if(e.forEach((e=>{"lookAt"in e&&e.lookAt&&l.push(e.lookAt)})),l.length>=4){const e=new i.CubicBezierCurve3(l[0],l[1],l[2],l[3]).getPointAt(a);c.U.lookAt(e);const t=17*a-17,o=(new i.Euler).setFromQuaternion(c.U.quaternion);o.z=t*Math.PI/180,c.U.quaternion.setFromEuler(o);const r=(new i.Euler).setFromQuaternion(c.U.quaternion);console.log(`Progress: ${(100*n).toFixed(1)}% | Rotation: X=${(180*r.x/Math.PI).toFixed(2)}° Y=${(180*r.y/Math.PI).toFixed(2)}° Z=${(180*r.z/Math.PI).toFixed(2)}°`)}else if(l.length>=4){const e=new i.CubicBezierCurve3(l[0],l[1],l[2],l[3]).getPointAt(a);c.U.lookAt(e);const t=(new i.Euler).setFromQuaternion(c.U.quaternion);console.log(`Progress: ${(100*n).toFixed(1)}% | Rotation: X=${(180*t.x/Math.PI).toFixed(2)}° Y=${(180*t.y/Math.PI).toFixed(2)}° Z=${(180*t.z/Math.PI).toFixed(2)}°`)}c.U.fov=x,c.U.updateProjectionMatrix()}},onLeave:r,onLeaveBack:r}}),S=Object.entries(l.ghosts),S.forEach((([e,t])=>{P[e]=t.position.clone()}));const C=()=>{A&&A.clear(),S.forEach((([e,t])=>{(0,f.DB)(t)})),o();const e=JSON.stringify(P);let t;M&&F===e?t=M:(t=(0,d.Pw)(P),M=t,F=e);const r=[],n=[];S.forEach((([e,o])=>{const a=(0,g.LT)(o);(0,g.Km)(o,((e,t)=>{let o;if(e===w.rF||Object.values(w.S5).includes(e)||Object.values(w.D8).includes(e)||!t.material||Array.isArray(t.material))if(o=e.clone(),E.push(o),(0,g.LQ)(o,a,!0),Array.isArray(t.material)){const r=t.material.indexOf(e);if(-1!==r){const e=[...t.material];e[r]=o,t.material=e}}else t.material=o;else(0,g.LQ)(e,a,!0)}),{skipCurrencySymbols:!1});const s=(0,y.bd)()[e]||(0,y.X2)()[e]||o.quaternion.clone(),c=(new i.Euler).setFromQuaternion(s);let l;if("pacman"===e){const e=b,t=(new i.Quaternion).setFromAxisAngle(new i.Vector3(1,0,0),e.x*Math.PI/180),o=(new i.Quaternion).setFromAxisAngle(new i.Vector3(0,1,0),e.y*Math.PI/180),r=(new i.Quaternion).setFromAxisAngle(new i.Vector3(0,0,1),e.z*Math.PI/180),n=m.mc.clone().multiply(o).multiply(t).multiply(r);l=(new i.Euler).setFromQuaternion(n)}else l=(new i.Euler).setFromQuaternion(m.mc);const p=t[e];if(!p)return;const u={progress:0,rotX:c.x,rotY:c.y,rotZ:c.z,opacity:a};r.push(u),n.push({key:e,object:o,path:p,startEuler:c,endEuler:l})}));const a=[[0,.7],[.05,.75],[.1,.8],[.15,.85],[.2,.9],[.25,.95]];v.HD,n.forEach(((e,t)=>{const o=r[t],n=a[t]||[0,1],[c,u]=n,d=c,h=u-c,y=e.path.getPointAt(0);e.object.position.copy(y),A.fromTo(o,{progress:0,rotX:e.startEuler.x,rotY:e.startEuler.y,rotZ:e.startEuler.z,opacity:o.opacity},{progress:1,rotX:e.endEuler.x,rotY:e.endEuler.y,rotZ:e.endEuler.z,opacity:v.Yy.HIDDEN,ease:"power2.out",immediateRender:!1,duration:h,onUpdate:function(){const t=s().getById("introScroll"),r=s().getById("homeScroll");if(t?.isActive||!r?.isActive)return;const n=o.progress,a=n*n*n,c=e.path.getPointAt(a);e.object.position.copy(c);let u,d,h,y,f=e.startEuler,w=e.endEuler;if("pacman"===e.key){const e=b,t=(new i.Quaternion).setFromAxisAngle(new i.Vector3(1,0,0),e.x*Math.PI/180),o=(new i.Quaternion).setFromAxisAngle(new i.Vector3(0,1,0),e.y*Math.PI/180),r=(new i.Quaternion).setFromAxisAngle(new i.Vector3(0,0,1),e.z*Math.PI/180),n=m.mc.clone().multiply(o).multiply(t).multiply(r),s=(new i.Euler).setFromQuaternion(n);u=f.x+(s.x-f.x)*a,d=f.y+(s.y-f.y)*a,h=f.z+(s.z-f.z)*a,l.pacmanMixer&&l.pacmanMixer.update(p.pm.getDelta())}else u=f.x+(w.x-f.x)*a,d=f.y+(w.y-f.y)*a,h=f.z+(w.z-f.z)*a;if(e.object.rotation.set(u,d,h),e.object.quaternion.setFromEuler(e.object.rotation),e.object.updateMatrixWorld(!1),"pacman"===e.key&&requestAnimationFrame((()=>{const t=s().getById("homeScroll");t?.isActive&&e.object&&(e.object.rotation.set(u,d,h),e.object.quaternion.setFromEuler(e.object.rotation),e.object.updateMatrixWorld(!1))})),n<.8)y=v.Yy.FULL;else{const e=(n-.8)/(1-.8);y=v.Yy.FULL*(1-e)}(0,g.tU)(e.object,y,{preserveTransmission:!0,skipCurrencySymbols:!0})}},d)}))};C()}},249:(e,t,o)=>{o.r(t),o.d(t,{createIntroPacmanRotationHUD:()=>O,createPacmanRotationHUD:()=>M,createPillDebugHUD:()=>x,getIntroPacmanRotation:()=>g,getPacmanRotationOffsets:()=>d,getPillYRotationDegrees:()=>c,startHUDRefresh:()=>S,stopHUDRefresh:()=>E});var r=o(909),n=o(774),a=o.n(n),s=o(910);let i=20;function c(){return i}let l=90,p=180,u=0;function d(){return{x:l,y:p,z:u}}let m=0,h=0,y=0;function g(){return{x:m,y:h,z:y}}function f(){if(!s.pill)return;const e=new r.Euler(1.571,i*Math.PI/180,180*Math.PI/180,"XYZ");s.pill.rotation.copy(e)}let v=null,w=!1,b=null,A=!1;function x(){if(v)return;v=document.createElement("div"),v.id="pill-debug-hud",v.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    width: 300px;\n    background: rgba(20, 20, 20, 0.95);\n    color: #e0e0e0;\n    padding: 20px;\n    border-radius: 8px;\n    font-family: 'Courier New', monospace;\n    font-size: 13px;\n    z-index: 10000;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);\n    border: 2px solid #4CAF50;\n  ";const e=document.createElement("button");e.textContent="Show/Hide Pill Rotation",e.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 340px;\n    padding: 10px 15px;\n    background: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    z-index: 10001;\n    font-size: 14px;\n    font-weight: bold;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  ",e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),w=!w,v&&(v.style.display=w?"block":"none")})),document.body.appendChild(e),document.body.appendChild(v),v.style.display="none",function(){if(!v)return;v.innerHTML=`\n    <h3 style="margin-top: 0; color: #4CAF50; font-size: 16px; text-shadow: 0 0 5px rgba(76, 175, 80, 0.5);">Pill Y Rotation</h3>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="pill-y-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">Y Rotation (degrees):</strong>\n        <span id="pill-y-rotation-value" style="color: #4CAF50; margin-left: 10px; font-weight: bold;">${i}</span>°\n      </label>\n      <input \n        type="range" \n        id="pill-y-rotation-slider" \n        min="0" \n        max="360" \n        value="${i}"\n        step="1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n  `;const e=v.querySelector("#pill-y-rotation-slider"),t=v.querySelector("#pill-y-rotation-value");e&&e.addEventListener("input",(e=>{const o=e.target;i=parseFloat(o.value),t&&(t.textContent=`${i}°`),f()}))}(),f()}let P=null;function S(e=1e3){P&&clearInterval(P)}function E(){P&&(clearInterval(P),P=null)}function M(){if(b)return;b=document.createElement("div"),b.id="pacman-rotation-hud",b.style.cssText="\n    position: fixed;\n    top: 20px;\n    left: 20px;\n    width: 320px;\n    background: rgba(20, 20, 20, 0.95);\n    color: #e0e0e0;\n    padding: 20px;\n    border-radius: 8px;\n    font-family: 'Courier New', monospace;\n    font-size: 13px;\n    z-index: 10000;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);\n    border: 2px solid #FFD700;\n    max-height: 90vh;\n    overflow-y: auto;\n  ";const e=document.createElement("button");e.textContent="Show/Hide Pacman Rotation",e.style.cssText="\n    position: fixed;\n    top: 20px;\n    left: 360px;\n    padding: 10px 15px;\n    background: #FFD700;\n    color: #000;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    z-index: 10001;\n    font-size: 14px;\n    font-weight: bold;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  ",e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),A=!A,b&&(b.style.display=A?"block":"none")})),document.body.appendChild(e),document.body.appendChild(b),b.style.display="none",function(){if(!b)return;b.innerHTML=`\n    <h3 style="margin-top: 0; color: #FFD700; font-size: 16px; text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);">Pacman Rotation (Home-Scroll)</h3>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="pacman-x-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">X Rotation (degrees):</strong>\n        <span id="pacman-x-rotation-value" style="color: #FFD700; margin-left: 10px; font-weight: bold;">${l}</span>°\n      </label>\n      <input \n        type="range" \n        id="pacman-x-rotation-slider" \n        min="-180" \n        max="180" \n        value="${l}"\n        step="1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="pacman-y-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">Y Rotation (degrees):</strong>\n        <span id="pacman-y-rotation-value" style="color: #FFD700; margin-left: 10px; font-weight: bold;">${p}</span>°\n      </label>\n      <input \n        type="range" \n        id="pacman-y-rotation-slider" \n        min="-180" \n        max="180" \n        value="${p}"\n        step="1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="pacman-z-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">Z Rotation (degrees):</strong>\n        <span id="pacman-z-rotation-value" style="color: #FFD700; margin-left: 10px; font-weight: bold;">${u}</span>°\n      </label>\n      <input \n        type="range" \n        id="pacman-z-rotation-slider" \n        min="-180" \n        max="180" \n        value="${u}"\n        step="1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n    \n    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #444; color: #aaa; font-size: 11px;">\n      <p style="margin: 0;">These values adjust the end rotation of Pacman in the home-scroll animation. Changes are applied instantly.</p>\n    </div>\n  `;const e=b.querySelector("#pacman-x-rotation-slider"),t=b.querySelector("#pacman-y-rotation-slider"),r=b.querySelector("#pacman-z-rotation-slider"),n=b.querySelector("#pacman-x-rotation-value"),s=b.querySelector("#pacman-y-rotation-value"),i=b.querySelector("#pacman-z-rotation-value");e&&e.addEventListener("input",(e=>{const t=e.target;l=parseFloat(t.value),n&&(n.textContent=`${l}°`);const r=a().getById("homeScroll");if(r?.isActive){const{initHomeScrollAnimation:e}=o(70);e()}})),t&&t.addEventListener("input",(e=>{const t=e.target;p=parseFloat(t.value),s&&(s.textContent=`${p}°`);const r=a().getById("homeScroll");if(r?.isActive){const{initHomeScrollAnimation:e}=o(70);e()}})),r&&r.addEventListener("input",(e=>{const t=e.target;u=parseFloat(t.value),i&&(i.textContent=`${u}°`);const r=a().getById("homeScroll");if(r?.isActive){const{initHomeScrollAnimation:e}=o(70);e()}}))}()}let F=null,C=!1;function O(){if(F)return;m=0,h=0,y=0,F=document.createElement("div"),F.id="intro-pacman-rotation-hud",F.style.cssText="\n    position: fixed;\n    top: 100px;\n    left: 20px;\n    width: 320px;\n    background: rgba(20, 20, 20, 0.95);\n    color: #e0e0e0;\n    padding: 20px;\n    border-radius: 8px;\n    font-family: 'Courier New', monospace;\n    font-size: 13px;\n    z-index: 10000;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);\n    border: 2px solid #FF6B6B;\n    max-height: 90vh;\n    overflow-y: auto;\n  ";const e=document.createElement("button");e.textContent="Show/Hide Intro Pacman Rotation",e.style.cssText="\n    position: fixed;\n    top: 100px;\n    left: 360px;\n    padding: 10px 15px;\n    background: #FF6B6B;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    z-index: 10001;\n    font-size: 14px;\n    font-weight: bold;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  ",e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),C=!C,F&&(F.style.display=C?"block":"none")})),document.body.appendChild(e),document.body.appendChild(F),F.style.display="none",function(){if(!F)return;F.innerHTML=`\n    <h3 style="margin-top: 0; color: #FF6B6B; font-size: 16px; text-shadow: 0 0 5px rgba(255, 107, 107, 0.5);">Pacman Rotation (Intro-Scroll)</h3>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="intro-pacman-x-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">X Rotation (degrees):</strong>\n        <span id="intro-pacman-x-rotation-value" style="color: #FF6B6B; margin-left: 10px; font-weight: bold;">${m.toFixed(1)}</span>°\n      </label>\n      <input \n        type="range" \n        id="intro-pacman-x-rotation-slider" \n        min="-180" \n        max="180" \n        value="${m}"\n        step="0.1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="intro-pacman-y-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">Y Rotation (degrees):</strong>\n        <span id="intro-pacman-y-rotation-value" style="color: #FF6B6B; margin-left: 10px; font-weight: bold;">${h.toFixed(1)}</span>°\n      </label>\n      <input \n        type="range" \n        id="intro-pacman-y-rotation-slider" \n        min="-180" \n        max="180" \n        value="${h}"\n        step="0.1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n    \n    <div style="margin-bottom: 15px; color: #e0e0e0;">\n      <label for="intro-pacman-z-rotation-slider" style="display: block; margin-bottom: 10px;">\n        <strong style="color: #ffffff;">Z Rotation (degrees):</strong>\n        <span id="intro-pacman-z-rotation-value" style="color: #FF6B6B; margin-left: 10px; font-weight: bold;">${y.toFixed(1)}</span>°\n      </label>\n      <input \n        type="range" \n        id="intro-pacman-z-rotation-slider" \n        min="-180" \n        max="180" \n        value="${y}"\n        step="0.1"\n        style="width: 100%; height: 8px; border-radius: 5px; outline: none; background: #333; cursor: pointer;"\n      />\n    </div>\n    \n    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #444; color: #aaa; font-size: 11px;">\n      <p style="margin: 0;">These values adjust the rotation of Pacman in the intro-scroll animation. Changes are applied instantly.</p>\n    </div>\n  `;const e=F.querySelector("#intro-pacman-x-rotation-slider"),t=F.querySelector("#intro-pacman-y-rotation-slider"),o=F.querySelector("#intro-pacman-z-rotation-slider"),r=F.querySelector("#intro-pacman-x-rotation-value"),n=F.querySelector("#intro-pacman-y-rotation-value"),a=F.querySelector("#intro-pacman-z-rotation-value");e&&e.addEventListener("input",(e=>{const t=e.target;m=parseFloat(t.value),r&&(r.textContent=`${m.toFixed(1)}°`),k()})),t&&t.addEventListener("input",(e=>{const t=e.target;h=parseFloat(t.value),n&&(n.textContent=`${h.toFixed(1)}°`),k()})),o&&o.addEventListener("input",(e=>{const t=e.target;y=parseFloat(t.value),a&&(a.textContent=`${y.toFixed(1)}°`),k()}))}()}function k(){try{const{ghosts:e}=o(910),t=e.pacman;if(!t)return;const n=new r.Euler(m*Math.PI/180,h*Math.PI/180,y*Math.PI/180,"XYZ"),s=(new r.Quaternion).setFromEuler(n),i=o(485);i.pacmanTargetQuaternion&&i.pacmanTargetQuaternion.copy(s);const c=a().getById("introScroll");c?.isActive&&t&&t.quaternion.copy(s)}catch(e){console.error("Error updating intro Pacman rotation:",e)}}},340:(e,t,o)=>{o.d(t,{BK:()=>a,Cv:()=>x,Eq:()=>P,Ex:()=>A,H0:()=>b,HD:()=>y,OQ:()=>g,P5:()=>l,SM:()=>f,Xi:()=>u,Xt:()=>r,Ys:()=>v,Yy:()=>n,dU:()=>i,de:()=>d,jb:()=>h,lR:()=>p,pB:()=>s,pf:()=>c,qE:()=>S,u7:()=>m,yw:()=>w});const r={PACMAN_HOME:.05,PACMAN_INTRO:.1,GHOST_NORMAL:1,GHOST_INTRO:1.5,GHOST_POV:.5},n={FULL:1,HIDDEN:0},a={HOME:".sc--home.sc",INTRO:".sc--intro.sc",POV:".sc--pov.sc",OUTRO:".sc--outro.sc"},s={HOME_LOOP:.06,POV:.08},i=.1,c=.9,l=.1,p=10,u=.2,d={x:4.3,y:-2,z:0},m=800,h=.5,y=.15,g=1.5,f=.05,v=.07,w=.15,b=.01,A={START:.5,MID:.8,LARGE:1.2,END:1.5},x={NONE:0,FADE_IN:.3,HOLD:.4,FADE_OUT:.3},P={GHOST1:0,GHOST2:-.005,GHOST3:-.01,GHOST4:-.015,GHOST5:-.02};function S(e,t=0,o=1){return Math.max(t,Math.min(o,e))}},352:e=>{e.exports=gsap},365:(e,t,o)=>{o.d(t,{AN:()=>s,Km:()=>l,LQ:()=>a,LT:()=>i,gd:()=>c,tU:()=>n});var r=o(877);function n(e,t,o){const r=!1!==o?.preserveTransmission;l(e,(e=>{a(e,t,r)}),{skipCurrencySymbols:!0===o?.skipCurrencySymbols})}function a(e,t,o=!0){const r=e,n=r.opacity??1,a=r.transparent??!1;if(Math.abs(n-t)<1e-4)return;r.opacity=t;const s=!!(o&&void 0!==r.transmission&&r.transmission>0)||t<1;a!==s&&(r.transparent=s,void 0!==r.needsUpdate&&(r.needsUpdate=!0))}function s(e,t,o=!0){const r=e,n=r.transparent??!1,a=!!(o&&void 0!==r.transmission&&r.transmission>0)||t;n!==a&&(r.transparent=a,void 0!==r.needsUpdate&&(r.needsUpdate=!0))}function i(e){let t=1,o=!1;return l(e,(e=>{o||(t=e.opacity??1,o=!0)}),{skipCurrencySymbols:!1}),t}function c(e){n(e,1,{preserveTransmission:!0,skipCurrencySymbols:!0})}function l(e,t,o){const n=!0===o?.skipCurrencySymbols,a=!0===o?.skipPacmanParts,s=o?.objectKey;e.traverse((e=>{if(e.isMesh&&e.material){const o=e,i=e.name||"";if(n&&(0,r.C1)(i))return;if(a&&"pacman"===s&&(0,r.yg)(i))return;Array.isArray(o.material)?o.material.forEach((e=>{t(e,o,i)})):t(o.material,o,i)}}))}},392:(e,t,o)=>{o.d(t,{KD:()=>d,Ks:()=>m,TB:()=>p,Ui:()=>u,Zn:()=>y});var r=o(352),n=o.n(r),a=o(910),s=o(877),i=o(365),c=o(641),l=o(340);function p(e,t){e&&(Object.entries(a.ghosts).forEach((([e,t])=>{n().set(t,{visible:!0}),(0,c.kU)(t,e,"home"),(0,i.Km)(t,((e,t,o)=>{(0,s.C1)(o)?t.visible=!1:t.visible=!0}),{skipCurrencySymbols:!1}),(0,i.gd)(t)})),(0,c.pX)(!0,l.Yy.FULL,!1))}function u(e,t,o,r){e&&(o&&r&&Object.entries(a.ghosts).forEach((([e,t])=>{o[e]&&(t.position.set(o[e].x,o[e].y,o[e].z),n().set(t.position,{x:o[e].x,y:o[e].y,z:o[e].z})),n().set(t,{visible:!0}),(0,c.kU)(t,e,"home"),(0,i.Km)(t,((e,t,o)=>{(0,s.C1)(o)?t.visible=!1:(t.visible=!0,(0,i.AN)(e,!0,!0))}),{skipCurrencySymbols:!1})})),(0,c.pX)(!0,l.Yy.FULL,!1))}function d(e,t){e&&(a.ghosts.pacman&&n().set(a.ghosts.pacman,{visible:!1}),Object.entries(a.ghosts).forEach((([e,t])=>{"pacman"!==e&&(n().set(t,{visible:!1}),(0,c.kU)(t,e,"pov"),(0,i.Km)(t,(e=>{(0,i.LQ)(e,1,!0)}),{skipCurrencySymbols:!1}))})),(0,c.pX)(!0,l.Yy.FULL,!1))}function m(e,t){e&&(0,c.pX)(!0,l.Yy.FULL,!1)}let h=window.scrollY;function y(){const e=window.scrollY,t=e>h?"down":"up";return h=e,t}},417:(e,t,o)=>{o.d(t,{F:()=>r,k:()=>n});const r=window.innerWidth<768,n={mazeTexture:"https://c-am.b-cdn.net/CAM/matcap24.png",mazeModel:"https://c-am.b-cdn.net/CAM/c-am-assets-3.glb"}},485:(e,t,o)=>{o.r(t),o.d(t,{initIntroScrollAnimation:()=>M,pacmanTargetQuaternion:()=>y});var r=o(352),n=o.n(r),a=o(909),s=o(771),i=o(910),c=o(606),l=o(877),p=o(340),u=o(641);let d=null,m=!1,h=null,y=null,g=null,f={},v=null,w=-1,b=null;function A(){v=null,w=-1,h=null}function x(e){Object.values(i.ghosts).forEach((t=>{t.userData.introScrollLocked=e}))}function P(){const e={visible:!0,opacity:p.Yy.FULL,transparent:!1};F&&F.visible===e.visible&&F.opacity===e.opacity&&F.transparent===e.transparent||((0,u.pX)(e.visible,e.opacity,e.transparent),F=e)}function S(){b&&(c.JH.remove(b),b=null);const e=new a.Group;e.name="introGridGuides",b=e;const t=p.de.y,o=new a.LineBasicMaterial({color:65280});for(let r=-5;r<=5;r+=.5){const n=(new a.BufferGeometry).setFromPoints([new a.Vector3(-5,t,r),new a.Vector3(5,t,r)]),s=new a.Line(n,o);s.renderOrder=999,e.add(s)}const r=new a.LineBasicMaterial({color:16711680});for(let o=-5;o<=5;o+=.5){const n=(new a.BufferGeometry).setFromPoints([new a.Vector3(o,t,-5),new a.Vector3(o,t,5)]),s=new a.Line(n,r);s.renderOrder=999,e.add(s)}const n=(new a.BufferGeometry).setFromPoints([new a.Vector3(0,t-1,0),new a.Vector3(0,t+1,0)]),s=new a.LineBasicMaterial({color:16776960}),i=new a.Line(n,s);i.renderOrder=1e3,e.add(i);const l=16777215;for(let o=-Math.floor(5);o<=Math.floor(5);o+=1){if(0===o)continue;const r=new a.SphereGeometry(.05,8,8),n=new a.MeshBasicMaterial({color:l}),s=new a.Mesh(r,n);s.position.set(o,t,0),s.renderOrder=1001,e.add(s);const i=document.createElement("canvas");i.width=64,i.height=64;const c=i.getContext("2d");if(c){c.fillStyle="#ffffff",c.font="Bold 48px Arial",c.textAlign="center",c.textBaseline="middle",c.fillText(o.toString(),32,32);const r=new a.CanvasTexture(i),n=new a.SpriteMaterial({map:r}),s=new a.Sprite(n);s.scale.set(.3,.3,1),s.position.set(o,t+.3,0),s.renderOrder=1001,e.add(s)}}for(let o=-Math.floor(5);o<=Math.floor(5);o+=1){if(0===o)continue;const r=new a.SphereGeometry(.05,8,8),n=new a.MeshBasicMaterial({color:l}),s=new a.Mesh(r,n);s.position.set(0,t,o),s.renderOrder=1001,e.add(s);const i=document.createElement("canvas");i.width=64,i.height=64;const c=i.getContext("2d");if(c){c.fillStyle="#ffffff",c.font="Bold 48px Arial",c.textAlign="center",c.textBaseline="middle",c.fillText(o.toString(),32,32);const r=new a.CanvasTexture(i),n=new a.SpriteMaterial({map:r}),s=new a.Sprite(n);s.scale.set(.3,.3,1),s.position.set(0,t+.3,o),s.renderOrder=1001,e.add(s)}}const u=new a.SphereGeometry(.1,16,16),d=new a.MeshBasicMaterial({color:16776960}),m=new a.Mesh(u,d);m.position.set(0,t,0),m.renderOrder=1001,e.add(m),e.position.set(0,0,0),c.JH.add(e)}function E(){b&&(c.JH.remove(b),b=null)}function M(){d&&(d.kill(),d=null),d=n().timeline({scrollTrigger:{trigger:p.BK.INTRO,start:"top top",end:"bottom bottom",scrub:p.jb,refreshPriority:1,markers:{startColor:"green",endColor:"red",fontSize:"12px",fontWeight:"bold",indent:60},onEnter:()=>{m=!0,A(),x(!0),S(),i.pacmanMixer&&(i.pacmanMixer.timeScale=1.5)},onEnterBack:()=>{m=!0,A(),x(!0),S(),i.pacmanMixer&&(i.pacmanMixer.timeScale=1.5)},onLeave:()=>{m=!1,A(),P(),x(!1),E(),i.pacmanMixer&&(i.pacmanMixer.timeScale=1)},onLeaveBack:()=>{m=!1,A(),P(),x(!1),E(),i.pacmanMixer&&(i.pacmanMixer.timeScale=1)},onUpdate:e=>{"number"==typeof e.progress&&function(e){if(!m)return;if(h===e)return;h=e;const t=performance.now();if(!v||t-w>16){const e=s.U.position.x,o=s.U.position.y,r=s.U.position.z;if(isFinite(e)&&isFinite(o)&&isFinite(r))v||(v=new a.Vector3),v.set(e,o,r),w=t,C.copy(v);else{if(!v)return;C.copy(v)}}else C.copy(v);(function(){const{getIntroPacmanRotation:e}=o(249),t=e(),r=new a.Euler(t.x*Math.PI/180,t.y*Math.PI/180,t.z*Math.PI/180,"XYZ");if(y=(new a.Quaternion).setFromEuler(r),g)return;const n=i.ghosts.ghost1;if(n){f.ghost1||(f.ghost1=n.quaternion.clone());let e=f.ghost1.clone();const t=new a.Object3D;t.quaternion.copy(e),(0,l.Ws)(t,e,p.Yy.FULL),e=t.quaternion.clone(),e=(0,l.mh)(e,[{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"y",angle:Math.PI},{axis:"x",angle:Math.PI},{axis:"x",angle:Math.PI}]),g=e}Object.keys(i.ghosts).forEach((e=>{const t=i.ghosts[e];t&&!f[e]&&(f[e]=t.quaternion.clone())}))})(),i.pacmanMixer&&(m&&1.5!==i.pacmanMixer.timeScale&&(i.pacmanMixer.timeScale=1.5),i.pacmanMixer.update(c.pm.getDelta()));const r={visible:!0,opacity:p.Yy.HIDDEN,transparent:!0};F&&F.visible===r.visible&&F.opacity===r.opacity&&F.transparent===r.transparent||((0,u.pX)(r.visible,r.opacity,r.transparent),F=r);const n=y,d=g,b=C.x-p.lR,A=C.x+p.lR,x=[{key:"pacman",behindOffset:1.5,zOffset:.5,xOffset:0,yOffset:0,zPhase:0},{key:"ghost1",behindOffset:p.Eq.GHOST1,zOffset:.5,xOffset:.5,yOffset:-.5,zPhase:1*Math.PI},{key:"ghost2",behindOffset:p.Eq.GHOST2,zOffset:.5,xOffset:0,yOffset:-1,zPhase:1.5*Math.PI},{key:"ghost3",behindOffset:p.Eq.GHOST3,zOffset:.5,xOffset:.5,yOffset:.5,zPhase:1*Math.PI},{key:"ghost4",behindOffset:p.Eq.GHOST4,zOffset:.5,xOffset:.75,yOffset:.25,zPhase:1*Math.PI},{key:"ghost5",behindOffset:p.Eq.GHOST5,zOffset:.5,xOffset:0,yOffset:-.5,zPhase:1*Math.PI},{key:"pill",behindOffset:1.1-p.de.x,zOffset:1.5,xOffset:0,yOffset:0,zPhase:.5*Math.PI}],P=(0,p.qE)(e),S=b+(A-b)*P,E=S+p.de.x,M=C.y+p.de.y,O=C.z+p.de.z;if(!(isFinite(S)&&isFinite(E)&&isFinite(M)&&isFinite(O)))return;const k=P<p.Xi?P/p.Xi:1;x.forEach((({key:e,behindOffset:t,zOffset:r,xOffset:s,yOffset:c,zPhase:m})=>{const h="pill"===e?i.pill:i.ghosts[e];if(!h)return;const y="pacman"===e||"pill"===e?0:.01*Math.sin(P*Math.PI*2*20+m),g="pacman"===e||"pill"===e?0:1.5*y;let f,v,w;if("pill"===e?(f=1.5,v=p.de.y,w=1.1):(f=E+t+s,v=M+c-g,w=O+r-y),!isFinite(f)||!isFinite(v)||!isFinite(w)||Math.abs(w)<.01||Math.abs(w)>100)return;if(h.position.set(f,v,w),"pill"===e){const e=new a.Euler(1.571,20*Math.PI/180,180*Math.PI/180,"XYZ");h.rotation.copy(e),h.scale.set(10,10,10)}else{let t="pacman"===e?n:d;if("pacman"===e){const{getIntroPacmanRotation:e}=o(249),r=e(),n=new a.Euler(r.x*Math.PI/180,r.y*Math.PI/180,r.z*Math.PI/180,"XYZ");t=(new a.Quaternion).setFromEuler(n)}t&&h.quaternion.copy(t),(0,u.kU)(h,e,"intro")}h.visible=!0;const b="pacman"===e||"pill"===e?p.Yy.FULL:k;"pill"!==e?h.traverse((t=>{if(t.isMesh){const o=t,r=t.name||"";if((0,l.C1)(r)||"pacman"===e&&(0,l.yg)(r))return void(o.visible=!1);o.visible=!0;const n=o.material;n&&(Array.isArray(n)?n:[n]).forEach((e=>{e.opacity=b,void 0!==e.transmission&&e.transmission>0?e.transparent=!0:e.transparent=b<1}))}})):h.traverse((e=>{e.isMesh&&(e.visible=!0)}))}))}(e.progress)},id:"introScroll"}}).addLabel("intro-text-start",0).fromTo(".sc_h--intro",{scale:p.Ex.START,opacity:p.Yy.HIDDEN},{keyframes:[{scale:p.Ex.START,opacity:p.Yy.HIDDEN,duration:p.Cv.NONE},{scale:p.Ex.MID,opacity:p.Yy.FULL,duration:p.Cv.FADE_IN},{scale:p.Ex.LARGE,opacity:p.Yy.FULL,duration:p.Cv.HOLD},{scale:p.Ex.END,opacity:p.Yy.HIDDEN,duration:p.Cv.FADE_OUT}]}).addLabel("intro-text-fade-in",p.Cv.NONE).addLabel("intro-text-hold",p.Cv.NONE+p.Cv.FADE_IN).addLabel("intro-text-fade-out",p.Cv.NONE+p.Cv.FADE_IN+p.Cv.HOLD).fromTo(".sc_b--intro",{scale:p.Ex.START,opacity:p.Yy.HIDDEN},{keyframes:[{scale:p.Ex.START,opacity:p.Yy.HIDDEN,duration:p.Cv.NONE},{scale:p.Ex.MID,opacity:p.Yy.FULL,duration:p.Cv.FADE_IN},{scale:p.Ex.LARGE,opacity:p.Yy.FULL,duration:p.Cv.HOLD},{scale:p.Ex.END,opacity:p.Yy.HIDDEN,duration:p.Cv.FADE_OUT}]}).addLabel("intro-text-end",p.Cv.NONE+p.Cv.FADE_IN+p.Cv.HOLD+p.Cv.FADE_OUT)}let F=null;const C=new a.Vector3},522:(e,t,o)=>{o.d(t,{A5:()=>g,J$:()=>d,Qf:()=>h,X2:()=>y,Yw:()=>f,bd:()=>w,do:()=>v,e5:()=>b,et:()=>m,gZ:()=>u,uN:()=>A});var r=o(910),n=o(365);const a={t:0,animationTime:0},s={};let i={},c={},l=null,p=!1;function u(e){p=e}function d(e,t){a.t=e,a.animationTime=t}function m(){Object.entries(r.ghosts).forEach((([e,t])=>{const o=(0,n.LT)(t);s[e]={position:t.position.clone(),rotation:t.quaternion.clone(),scale:t.scale.clone(),visible:t.visible,opacity:o}}))}function h(){const e={};return Object.entries(s).forEach((([t,o])=>{e[t]=o.position.clone()})),e}function y(){const e={};return Object.entries(s).forEach((([t,o])=>{e[t]=o.rotation.clone()})),e}function g(e,t,o=!1,r=!1){(p||o)&&(s[e]&&s[e].position.copy(t),r&&(i[e]=t.clone()))}function f(){return{...i}}function v(e,t,o=!1){s[e]&&s[e].rotation.copy(t),o&&(c[e]=t.clone())}function w(){return Object.entries(c).reduce(((e,[t,o])=>(e[t]=o.clone(),e)),{})}function b(e){l=e}function A(){return l}},543:(e,t,o)=>{o.d(t,{Jf:()=>s,KE:()=>p,Pw:()=>u,wb:()=>d});var r=o(909),n=o(991);const a=new Map;class s{constructor(e,t=.06){this.currentTangent=e.clone(),this.smoothing=t}update(e){return this.currentTangent.lerp(e,this.smoothing),this.currentTangent.normalize()}reset(e){this.currentTangent.copy(e)}getCurrentTangent(){return this.currentTangent.clone()}setSmoothingFactor(e){this.smoothing=Math.max(.001,Math.min(1,e))}}function i(e){const t=e.map((e=>`${e.pos.x},${e.pos.y},${e.pos.z},${e.type},${e.arc||""}`)).join("|");if(a.has(t))return a.get(t);const o=new r.CurvePath;let n=0;for(;n<e.length-1;){const t=e[n],a=e[n+1];if(t.curveCheckPoints?.length){const e=[t.pos,...t.curveCheckPoints,a.pos];o.add(new r.CatmullRomCurve3(e,!1,"centripetal",0))}else if("straight"===t.type)o.add(new r.LineCurve3(t.pos,a.pos));else{const e=c(t,a);o.add(new r.QuadraticBezierCurve3(t.pos,e,a.pos))}n++}return a.set(t,o),o}function c(e,t){if(e.arc){const o=e.arc;if("upperArc"===o)return new r.Vector3(e.pos.x,e.pos.y,t.pos.z);if("lowerArc"===o)return new r.Vector3(t.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===o)return new r.Vector3(e.pos.x,t.pos.y,e.pos.z)}return new r.Vector3(e.pos.x,e.pos.y,t.pos.z)}function l(e){const t=new r.CurvePath;if(4===e.length){const o=new r.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(o)}return t}function p(){const e={};return Object.entries(n.homePaths).forEach((([t,o])=>{e[t]=i(o)})),e}function u(e){const t=(0,n.createHomeScrollPathPoints)(e),o={camera:l((0,n.getCameraHomeScrollPathPoints)())};return Object.entries(t).forEach((([e,t])=>{o[e]=function(e){const t=new r.CurvePath;if(3===e.length){const o=new r.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);t.add(o)}return t}(t)})),o}function d(){const e={};return Object.entries(n.povPaths).forEach((([t,o])=>{e[t]=i(o)})),e}},606:(e,t,o)=>{o.d(t,{Dz:()=>y,JH:()=>i,Ki:()=>u,SH:()=>m,fl:()=>g,mS:()=>h,pm:()=>l});var r=o(909),n=o(417),a=o(13),s=o(771);const i=new r.Scene,c=new r.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),l=new r.Clock,p=[];function u(){n.F?c.setPixelRatio(Math.min(window.devicePixelRatio,2)):c.setPixelRatio(window.devicePixelRatio),c.shadowMap.enabled=!0,c.shadowMap.type=r.PCFSoftShadowMap,a.l.mazeContainer?(c.setSize(a.l.mazeContainer.clientWidth,a.l.mazeContainer.clientHeight),a.l.mazeContainer.appendChild(c.domElement)):(c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement)),d(),window.addEventListener("resize",d),c.render(i,s.U)}function d(){const e=Math.min(window.devicePixelRatio,n.F?2:3);c.setPixelRatio(e),a.l.mazeContainer?(c.setSize(a.l.mazeContainer.clientWidth,a.l.mazeContainer.clientHeight),s.U.aspect=a.l.mazeContainer.clientWidth/a.l.mazeContainer.clientHeight):(c.setSize(window.innerWidth,window.innerHeight),s.U.aspect=window.innerWidth/window.innerHeight),s.U.updateProjectionMatrix()}function m(){const e=new r.AmbientLight(16777215);i.add(e);const t=new r.DirectionalLight(16777215,.8);i.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}function h(){const e=new r.Scene,t=new r.BoxGeometry(100,100,100),o=new r.MeshBasicMaterial({color:6710886,side:r.BackSide}),n=new r.Mesh(t,o);e.add(n);const a=new r.WebGLCubeRenderTarget(256);new r.CubeCamera(.1,1e3,a).update(c,e),i.environment=a.texture}function y(){const e=()=>{p.forEach((e=>e())),c.render(i,s.U),requestAnimationFrame(e)};e()}function g(e){p.push(e)}},641:(e,t,o)=>{o.d(t,{DB:()=>u,kU:()=>p,pX:()=>l});var r=o(352),n=o.n(r),a=o(909),s=o(606),i=o(340),c=o(365);function l(e,t=i.Yy.FULL,o=!1){s.JH.traverse((r=>{if("CAM-Floor"===r.name&&(r.visible=e,r instanceof a.Mesh&&r.material)){const e=r.material;e.color.setHex(16777215),e.opacity=t,e.transparent=o}}))}function p(e,t,o){let r;r="pacman"===t?"intro"===o?i.Xt.PACMAN_INTRO:i.Xt.PACMAN_HOME:"intro"===o?i.Xt.GHOST_INTRO:"pov"===o?i.Xt.GHOST_POV:i.Xt.GHOST_NORMAL,e.scale.set(r,r,r),e.updateMatrixWorld(!0),n().set(e.scale,{x:r,y:r,z:r})}function u(e){n().killTweensOf(e),n().killTweensOf(e.scale),n().killTweensOf(e.position),n().killTweensOf(e.rotation),n().killTweensOf(e.quaternion),(0,c.Km)(e,(e=>{n().killTweensOf(e),n().killTweensOf(e.opacity)}),{skipCurrencySymbols:!1})}},771:(e,t,o)=>{o.d(t,{U:()=>a,t:()=>s});var r=o(909),n=o(991);const a=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100);function s(){const e=(0,n.getStartPosition)(),t=(0,n.getLookAtPosition)();a.position.set(e.x,e.y,e.z),a.lookAt(t.x,t.y,t.z)}},774:e=>{e.exports=ScrollTrigger},877:(e,t,o)=>{o.d(t,{C1:()=>s,C5:()=>c,Ws:()=>d,XQ:()=>n,mc:()=>p,mh:()=>m,yg:()=>i});var r=o(909);const n=["pacman","ghost1","ghost2","ghost3","ghost4","ghost5"],a=["EUR","CHF","YEN","USD","GBP"];function s(e){return a.some((t=>e===t||e.includes(t)))}function i(e){return e.includes("Shell")||e.includes("Bitcoin_1")||e.includes("Bitcoin_2")}function c(e,t,o="ghost"){if(!t?.length())return;const r=Math.atan2(t.x,t.z);if("pacman"===o)e.rotation.set(-Math.PI/2,Math.PI,-(r+Math.PI/2));else if("ghost"===o)e.rotation.set(0,r,0);else if("camera"===o){const o=e.position.clone().add(t);e.lookAt(o)}}const l=(new r.Quaternion).setFromEuler(new r.Euler(Math.PI/2,0,0)),p=(new r.Quaternion).setFromAxisAngle(new r.Vector3(0,1,0),Math.PI).clone().multiply(l),u=(new r.Quaternion).setFromEuler(new r.Euler(-Math.PI/2,0,0));function d(e,t,o){const r=t.angleTo(p)<t.angleTo(u)?p:u;e.quaternion.copy(t.clone().slerp(r,o))}function m(e,t){let o=e.clone();return t.forEach((({axis:e,angle:t})=>{o=function(e,t,o){const n="x"===t?new r.Vector3(1,0,0):"y"===t?new r.Vector3(0,1,0):new r.Vector3(0,0,1),a=(new r.Quaternion).setFromAxisAngle(n,o);return e.clone().multiply(a)}(o,e,t)})),o}},909:e=>{e.exports=THREE},910:(e,t,o)=>{o.r(t),o.d(t,{clock:()=>s.pm,ghosts:()=>u,loadModel:()=>h,pacman:()=>p,pacmanMixer:()=>l,pill:()=>d});var r=o(909);function n(e){let t,o,n,a=-1,s=0;for(let r=0;r<e.length;++r){const i=e[r];if(i.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===o&&(o=i.itemSize),o!==i.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===n&&(n=i.normalized),n!==i.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===a&&(a=i.gpuType),a!==i.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=i.array.length}const i=new t(s);let c=0;for(let t=0;t<e.length;++t)i.set(e[t].array,c),c+=e[t].array.length;const l=new r.BufferAttribute(i,o,n);return void 0!==a&&(l.gpuType=a),l}var a=o(417),s=o(606),i=o(68);const c=new r.GLTFLoader;let l;const p=new r.Group,u={pacman:p,ghost1:new r.Mesh(new r.BufferGeometry,i.rF),ghost2:new r.Mesh(new r.BufferGeometry,i.rF),ghost3:new r.Mesh(new r.BufferGeometry,i.rF),ghost4:new r.Mesh(new r.BufferGeometry,i.rF),ghost5:new r.Mesh(new r.BufferGeometry,i.rF)},d=new r.Group;d.visible=!0;const m={Ghost_EUR:u.ghost1,Ghost_CHF:u.ghost2,Ghost_YEN:u.ghost3,Ghost_USD:u.ghost4,Ghost_GBP:u.ghost5};async function h(e){return Object.values(u).forEach((t=>e.add(t))),e.add(p),e.add(d),new Promise(((t,o)=>{c.load(a.k.mazeModel,(function(o){const a=o.scene;a.traverse((t=>{if("CAM-Pacman"===t.name){const e=[];t.traverse((t=>{if(t.isMesh&&"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name){const o=i.S5[t.name]||i.S5.default;t.material=o,e.push(t)}else"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name||(t.visible=!1)})),e.forEach((e=>u.pacman.add(e))),u.pacman.scale.set(.05,.05,.05),u.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),l=new r.AnimationMixer(u.pacman);const n={};o.animations.forEach((e=>{const t=l.clipAction(e);t.getMixer().addEventListener("loop",(function(e){e.action.getRoot().traverse((function(e){e.userData&&e.userData.skipAnimation&&(e.updateMorphTargets=function(){})}))})),n[e.name]=t,t.setEffectiveWeight(0),t.play()})),Object.values(n).forEach((e=>{e.setEffectiveWeight(1)}))}else if(t.name&&m[t.name]){const e=m[t.name],o=new r.Group;t.rotation.z=Math.PI,t.rotation.x=Math.PI/2,t.scale.set(.75,.75,.75);const n=[];t.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=i.rF:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),n.push(e))})),n.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),o.add(e)})),e&&e.add(o)}else if(t.name&&!t.name.toLowerCase().includes("pacman")&&("CAM-Pill-Orange"===t.name||t.name.toLowerCase().includes("pill")&&t.name.toLowerCase().includes("orange"))){const e=new r.Group,o=[],a=[];if(t.traverse((e=>{if(e.isMesh){const t=e,r=e.name||"",n=t.clone(),s=r.toLowerCase(),i=s.includes("shell"),c=s.includes("bitcoin")||s.includes("btc_logo");i?o.push(n):a.push({mesh:n,name:r,isBitcoin:c})}})),o.length>0){const t=o.map((e=>{const t=e.geometry.clone();return t.applyMatrix4(e.matrixWorld),t}));let a;a=1===t.length?t[0]:function(e,t=!1){const o=null!==e[0].index,a=new Set(Object.keys(e[0].attributes)),s=new Set(Object.keys(e[0].morphAttributes)),i={},c={},l=e[0].morphTargetsRelative,p=new r.BufferGeometry;let u=0;for(let r=0;r<e.length;++r){const n=e[r];let d=0;if(o!==(null!==n.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in n.attributes){if(!a.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[e]&&(i[e]=[]),i[e].push(n.attributes[e]),d++}if(d!==a.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". Make sure all geometries have the same number of attributes."),null;if(l!==n.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in n.morphAttributes){if(!s.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===c[e]&&(c[e]=[]),c[e].push(n.morphAttributes[e])}if(t){let e;if(o)e=n.index.count;else{if(void 0===n.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". The geometry must have either an index or a position attribute"),null;e=n.attributes.position.count}p.addGroup(u,e,r),u+=e}}if(o){let t=0;const o=[];for(let r=0;r<e.length;++r){const n=e[r].index;for(let e=0;e<n.count;++e)o.push(n.getX(e)+t);t+=e[r].attributes.position.count}p.setIndex(o)}for(const e in i){const t=n(i[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" attribute."),null;p.setAttribute(e,t)}for(const e in c){const t=c[e][0].length;if(0===t)break;p.morphAttributes=p.morphAttributes||{},p.morphAttributes[e]=[];for(let o=0;o<t;++o){const t=[];for(let r=0;r<c[e].length;++r)t.push(c[e][r][o]);const r=n(t);if(!r)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" morphAttribute."),null;p.morphAttributes[e].push(r)}}return p}(t),a.computeBoundingBox();const s=a.boundingBox,c=(s.max.y+s.min.y)/2;t.forEach((e=>{e!==a&&e.dispose()}));const{topGeometry:l,bottomGeometry:p}=function(e,t){const o=e.toNonIndexed().attributes.position.array,n=[],a=[];for(let e=0;e<o.length;e+=9){const r=(o[e+1]+o[e+4]+o[e+7])/3,s=[o[e],o[e+1],o[e+2],o[e+3],o[e+4],o[e+5],o[e+6],o[e+7],o[e+8]];r>=t?n.push(...s):a.push(...s)}const s=new r.BufferGeometry;s.setAttribute("position",new r.BufferAttribute(new Float32Array(n),3));const i=new r.BufferGeometry;return i.setAttribute("position",new r.BufferAttribute(new Float32Array(a),3)),s.computeVertexNormals(),i.computeVertexNormals(),{topGeometry:s,bottomGeometry:i}}(a,c),u=new r.Mesh(l,i.D8.shellBack.clone());u.visible=!0,u.castShadow=!0,u.receiveShadow=!0,e.add(u);const d=new r.Mesh(p,i.D8.shellFront.clone());d.visible=!0,d.castShadow=!0,d.receiveShadow=!0,e.add(d)}a.forEach((({mesh:t,name:o,isBitcoin:r})=>{t.material=r?i.D8.bitcoin:i.D8.default,t.visible=!0,t.castShadow=!0,t.receiveShadow=!0,e.add(t)})),e.children.length>0&&d.add(e)}if(t.isMesh)if("CAM-Arena_LowRes_Top"===t.name)t.material=i.Ro,t.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===t.name)t.material=i.xv,t.castShadow=!0;else if("CAM-Floor"===t.name){const o=t.clone();t.position.y=-.1,t.position.x=0,t.position.z=0,t.material=new r.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:r.FrontSide}),t.receiveShadow=!1,t.castShadow=!0,t.scale.set(.5,.5,.5),o.material=i.Md,o.position.y=-.5,o.receiveShadow=!0,e.add(o)}else t.visible=!1;t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0)})),e.add(a),a.position.set(.5,.5,.5),d.children.length>0&&(d.scale.set(.05,.05,.05),d.visible=!0,d.traverse((e=>{e.isMesh&&(e.visible=!0)}))),t()}),void 0,(function(e){o(e)}))}))}},991:(e,t,o)=>{o.r(t),o.d(t,{createHomeScrollPathPoints:()=>z,getCameraHomeScrollPathPoints:()=>H,getLookAtPosition:()=>T,getStartPosition:()=>I,homePaths:()=>L,objectHomeScrollEndPathPoint:()=>c,povPaths:()=>B,povTriggerPositions:()=>k});var r=o(909),n=o(417);const a={0:-.54875,.5:-.4985,1:-.44825,1.5:-.398,2:-.34775,2.5:-.2975,3:-.24725,3.5:-.197,4:-.14675,4.5:-.0965,5:-.04625,5.5:.004,6:.05425,6.5:.1045,7:.15475,7.5:.205,8:.25525,8.5:.3055,9:.35575,9.5:.406,10:.45625,10.5:.5065,11:.55675,11.5:.607,12:.65725,12.5:.7075,13:.75775,13.5:.808,14:.85825,14.5:.9085,15:.95875,15.5:1.009,16:1.05925,16.5:1.1095,17:1.15975,17.5:1.21,18:1.26025,18.5:1.3105,19:1.36075,19.5:1.411,20:1.46125},s={0:-.302,.5:-.25175,1:-.2015,1.5:-.15125,2:-.101,2.5:-.05075,3:-5e-4,3.5:.04975,4:.1,4.5:.15025,5:.2005,5.5:.25075,6:.301,6.5:.35125,7:.4015,7.5:.45175,8:.502,8.5:.55225,9:.6025,9.5:.65275,10:.703,10.5:.75325,11:.8035,11.5:.85375,12:.904,12.5:.95425,13:1.0045,13.5:1.05475,14:1.105,14.5:1.15525,15:1.2055,15.5:1.25575,16:1.306},i=(e,t)=>new r.Vector3(a[e],.55,s[t]),c=new r.Vector3(.55675,.35,.45175),l={startMobile:new r.Vector3(.5,2.5,2.5),startDesktop:new r.Vector3(-2,2.5,2),secondMobile:new r.Vector3(.5,2.5,2),secondDesktop:new r.Vector3(-1.5,3,.75),mobileLookAt:new r.Vector3(.5,.5,-1.5),desktopLookAt:new r.Vector3(-1.25,.5,.25),cameraLookAtSecondDesktop:new r.Vector3(-.75,.5,-.75),cameraLookAtSecondMobile:new r.Vector3(-.75,.5,-.75),cameraHomeScrollEndLookAt:new r.Vector3(.55675,-5,.35),thirdPosition:new r.Vector3(.55675,3,.45175),cameraHomeScrollEndPathPoint:new r.Vector3(.55675,.5,.45175)},p=n.F?l.startMobile:l.startDesktop,u=n.F?l.secondMobile:l.secondDesktop,d=n.F?l.mobileLookAt:l.desktopLookAt,m=n.F?l.cameraLookAtSecondMobile:l.cameraLookAtSecondDesktop,h=l.thirdPosition,y=l.cameraHomeScrollEndLookAt,g=l.cameraHomeScrollEndPathPoint,f=[{pos:i("8","9"),type:"straight"},{pos:i("8","6"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("10","4"),type:"straight"},{pos:i("10","2"),type:"curve",arc:"upperArc"},{pos:i("9","1"),type:"straight"},{pos:i("7","1"),type:"curve",arc:"lowerArc"},{pos:i("6","2"),type:"curve",arc:"upperArc"},{pos:i("5","3"),type:"curve",arc:"lowerArc"},{pos:i("4","2"),type:"curve",arc:"upperArc"},{pos:i("3","1"),type:"straight",curveCheckPoints:[i("2","1"),i("1","2"),i("1","2.5"),i("1.5","3"),i("2","3.5")]},{pos:i("2","4"),type:"curve",arc:"upperArc"},{pos:i("3","5"),type:"straight"},{pos:i("5","5"),type:"curve",arc:"lowerArc"},{pos:i("6","6"),type:"curve",arc:"upperArc"},{pos:i("5","7"),type:"straight"},{pos:i("4","7"),type:"curve",arc:"lowerArc"},{pos:i("3","8"),type:"curve",arc:"upperArc"},{pos:i("4","9"),type:"straight"},{pos:i("5","9"),type:"curve",arc:"lowerArc"},{pos:i("6","10"),type:"curve",arc:"upperArc"},{pos:i("5","11"),type:"straight",curveCheckPoints:[i("3","11"),i("2","12"),i("1.5","13"),i("1","14"),i("2","15"),i("3","15"),i("4","14"),i("5","13")]},{pos:i("6","13"),type:"curve",arc:"lowerArc"},{pos:i("7","14"),type:"curve",arc:"upperArc"},{pos:i("6","15"),type:"straight"},{pos:i("5","15"),type:"curve",arc:"lowerArc"},{pos:i("4","14"),type:"curve",arc:"upperArc"},{pos:i("5","13"),type:"straight",curveCheckPoints:[i("12","13"),i("13","12"),i("12.5","11"),i("12","10.5"),i("11","10"),i("10","10.5"),i("9","11"),i("8","10"),i("8","9.5")]},{pos:i("8","9"),type:"straight"}],v=[{pos:i("1","10"),type:"straight"},{pos:i("1","6"),type:"curve",arc:"upperArc"},{pos:i("2","5"),type:"straight"},{pos:i("3","5"),type:"curve",arc:"lowerArc"},{pos:i("4","4"),type:"curve",arc:"upperArc"},{pos:i("5","3"),type:"straight"},{pos:i("9","3"),type:"curve",arc:"lowerArc"},{pos:i("10","4"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"straight",curveCheckPoints:[i("8","10"),i("9","11"),i("10","10.5"),i("11","10"),i("12","10.5"),i("13","11"),i("15","11"),i("16","10.5"),i("17","10"),i("18","10.5"),i("19","11"),i("20","10")]},{pos:i("20","6"),type:"curve",arc:"upperArc"},{pos:i("19","5"),type:"straight"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"straight",curveCheckPoints:[i("8","8"),i("7","9"),i("6","10"),i("5.5","11"),i("5","12"),i("6","13"),i("7","14"),i("6","15"),i("5","15"),i("4","14"),i("4.5","13"),i("5","12"),i("4","11")]},{pos:i("1","10"),type:"straight"}],w=[{pos:i("5","12"),type:"curve",arc:"upperArc",curveCheckPoints:[i("5.5","11")]},{pos:i("6","10"),type:"curve",arc:"upperArc"},{pos:i("5","9"),type:"straight"},{pos:i("4","9"),type:"curve",arc:"lowerArc"},{pos:i("3","8"),type:"curve",arc:"upperArc"},{pos:i("4","7"),type:"straight"},{pos:i("7","7"),type:"curve",arc:"lowerArc"},{pos:i("8","8"),type:"straight"},{pos:i("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[i("8.5","11"),i("9","12")]},{pos:i("10","13"),type:"straight"},{pos:i("12","13"),type:"curve",arc:"lowerArc"},{pos:i("13","14"),type:"curve",arc:"upperArc"},{pos:i("14","15"),type:"straight"},{pos:i("19","15"),type:"curve",arc:"lowerArc"},{pos:i("20","14"),type:"straight"},{pos:i("20","4"),type:"curve",arc:"upperArc"},{pos:i("19","3"),type:"straight"},{pos:i("17","3"),type:"curve",arc:"lowerArc"},{pos:i("16","4"),type:"curve",arc:"upperArc"},{pos:i("15","5"),type:"curve",arc:"lowerArc"},{pos:i("14","4"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("12","1.5")]},{pos:i("11","2"),type:"curve",arc:"lowerArc"},{pos:i("10","3"),type:"straight"},{pos:i("10","4"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"straight"},{pos:i("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[i("8.5","11")]},{pos:i("9","12"),type:"curve",arc:"upperArc"},{pos:i("8","13"),type:"curve",arc:"lowerArc"},{pos:i("7","14"),type:"curve",arc:"upperArc"},{pos:i("6","15"),type:"straight"},{pos:i("5","15"),type:"curve",arc:"lowerArc"},{pos:i("4","14"),type:"curve",arc:"upperArc",curveCheckPoints:[i("4.5","13"),i("5","12")]}],b=[{pos:i("14","10.5"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("12","1.5"),i("11","2"),i("10","1.5")]},{pos:i("9","1"),type:"straight"},{pos:i("7","1"),type:"curve",arc:"lowerArc"},{pos:i("6","2"),type:"curve",arc:"upperArc"},{pos:i("7","3"),type:"straight"},{pos:i("9","3"),type:"curve",arc:"lowerArc"},{pos:i("10","4"),type:"curve",arc:"upperArc"},{pos:i("11","5"),type:"straight"},{pos:i("19","5"),type:"curve",arc:"lowerArc"},{pos:i("20","6"),type:"straight"},{pos:i("20","10"),type:"curve",arc:"upperArc"},{pos:i("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("18","10.5"),i("17","10"),i("16","10.5"),i("15.5","11")]},{pos:i("15","12"),type:"straight"},{pos:i("15","14"),type:"curve",arc:"upperArc"},{pos:i("14","15"),type:"curve",arc:"lowerArc"},{pos:i("13","14"),type:"straight"},{pos:i("13","12"),type:"curve",arc:"upperArc",curveCheckPoints:[i("12.5","11"),i("12","10.5"),i("10","10.5")]},{pos:i("9","11"),type:"curve",arc:"lowerArc"},{pos:i("8","10"),type:"curve",arc:"upperArc"},{pos:i("7","9"),type:"curve",arc:"lowerArc"},{pos:i("6","10"),type:"curve",arc:"upperArc",curveCheckPoints:[i("5.5","11")]},{pos:i("5","12"),type:"curve",arc:"upperArc"},{pos:i("6","13"),type:"straight"},{pos:i("12","13"),type:"curve",arc:"lowerArc"},{pos:i("13","12"),type:"curve",arc:"upperArc"},{pos:i("13.5","11"),type:"curve",arc:"lowerArc"},{pos:i("14","10.5"),type:"straight"}],A=[{pos:i("16","7"),type:"straight"},{pos:i("16","10"),type:"curve",arc:"upperArc"},{pos:i("15","11"),type:"straight"},{pos:i("14","11"),type:"curve",arc:"lowerArc"},{pos:i("13","12"),type:"curve",arc:"upperArc"},{pos:i("12","13"),type:"straight"},{pos:i("8","13"),type:"curve",arc:"lowerArc"},{pos:i("7","14"),type:"curve",arc:"upperArc"},{pos:i("6","15"),type:"straight"},{pos:i("2","15"),type:"curve",arc:"lowerArc"},{pos:i("1","14"),type:"curve",arc:"upperArc",curveCheckPoints:[i("1.5","13"),i("2","12"),i("1.5","11")]},{pos:i("1","10"),type:"straight"},{pos:i("1","6"),type:"curve",arc:"upperArc"},{pos:i("2","5"),type:"straight"},{pos:i("5","5"),type:"curve",arc:"lowerArc"},{pos:i("6","6"),type:"curve",arc:"upperArc"},{pos:i("7","7"),type:"curve",arc:"lowerArc"},{pos:i("8","6"),type:"curve",arc:"upperArc"},{pos:i("9","5"),type:"straight"},{pos:i("13","5"),type:"curve",arc:"lowerArc"},{pos:i("14","4"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("15","1"),type:"curve",arc:"lowerArc"},{pos:i("16","2"),type:"curve",arc:"upperArc"},{pos:i("17","3"),type:"straight"},{pos:i("19","3"),type:"curve",arc:"lowerArc"},{pos:i("20","2"),type:"curve",arc:"upperArc"},{pos:i("19","1"),type:"curve",arc:"lowerArc"},{pos:i("18","2"),type:"curve",arc:"upperArc"},{pos:i("19","3"),type:"curve",arc:"lowerArc"},{pos:i("20","4"),type:"straight"},{pos:i("20","10"),type:"curve",arc:"upperArc"},{pos:i("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[i("18","10.5")]},{pos:i("17","10"),type:"curve",arc:"lowerArc"},{pos:i("16","9"),type:"straight"},{pos:i("16","7"),type:"straight"}],x=[{pos:i("10","3.5"),type:"curve",arc:"upperArc"},{pos:i("9","3"),type:"straight"},{pos:i("5","3"),type:"curve",arc:"lowerArc"},{pos:i("4","2"),type:"curve",arc:"upperArc"},{pos:i("3","1"),type:"straight"},{pos:i("2","1"),type:"curve",arc:"lowerArc"},{pos:i("1","2"),type:"curve",arc:"upperArc"},{pos:i("1.5","3"),type:"curve",arc:"lowerArc"},{pos:i("2","4"),type:"curve",arc:"upperArc"},{pos:i("3","5"),type:"straight"},{pos:i("5","5"),type:"curve",arc:"lowerArc"},{pos:i("6","6"),type:"curve",arc:"upperArc"},{pos:i("5","7"),type:"straight"},{pos:i("4","7"),type:"curve",arc:"lowerArc"},{pos:i("3","8"),type:"curve",arc:"upperArc"},{pos:i("4","9"),type:"straight"},{pos:i("7","9"),type:"curve",arc:"lowerArc"},{pos:i("8","10"),type:"curve",arc:"upperArc"},{pos:i("8.5","11"),type:"curve",arc:"lowerArc"},{pos:i("9","12"),type:"curve",arc:"upperArc"},{pos:i("10","13"),type:"straight"},{pos:i("12","13"),type:"curve",arc:"lowerArc"},{pos:i("13","12"),type:"curve",arc:"upperArc"},{pos:i("14","11"),type:"curve",arc:"lowerArc"},{pos:i("15","12"),type:"curve",arc:"upperArc"},{pos:i("15","14"),type:"curve",arc:"upperArc"},{pos:i("16","15"),type:"straight"},{pos:i("19","15"),type:"curve",arc:"lowerArc"},{pos:i("20","14"),type:"straight"},{pos:i("20","2"),type:"curve",arc:"upperArc"},{pos:i("19","1"),type:"straight"},{pos:i("17","1"),type:"curve",arc:"lowerArc"},{pos:i("16","2"),type:"straight"},{pos:i("16","4"),type:"curve",arc:"upperArc"},{pos:i("15","5"),type:"curve",arc:"lowerArc"},{pos:i("14","4"),type:"straight"},{pos:i("14","2"),type:"curve",arc:"upperArc"},{pos:i("13","1"),type:"curve",arc:"lowerArc"},{pos:i("12","1.5"),type:"curve",arc:"upperArc"},{pos:i("11","2"),type:"curve",arc:"lowerArc"},{pos:i("10","3.5"),type:"curve",arc:"lowerArc"}],P=[{pos:p,lookAt:d},{pos:u,lookAt:m},{pos:h,lookAt:y},{pos:g,lookAt:y}],S=[{pos:new r.Vector3(a[11],.40625,s[7.5]),type:"straight",lookAtSequence:[new r.Vector3(a[11],.2,s[8]),new r.Vector3(a[11],1.2,s[16]),new r.Vector3(a[11],.55,s[16])]},{pos:i("11","7.5"),type:"curve",arc:"lowerArc"},{pos:i("11","9"),type:"curve",arc:"upperArc",curveCheckPoints:[new r.Vector3(a[11],.55,.6525),i("11.5","10"),i("12","10.5"),i("12.5","11")]},{pos:i("13","11"),type:"straight"},{pos:i("14.5","11"),type:"curve",arc:"lowerArc"},{pos:i("15","11.5"),type:"straight"},{pos:i("15","14.5"),type:"curve",arc:"upperArc"},{pos:i("14.5","15"),type:"straight"},{pos:i("13.5","15"),type:"curve",arc:"lowerArc"},{pos:i("13","14.5"),type:"straight"},{pos:i("13","13.5"),type:"curve",arc:"upperArc"},{pos:i("12.5","13"),type:"straight"},{pos:i("7.5","13"),type:"curve",arc:"lowerArc"},{pos:i("7","13.5"),type:"straight"},{pos:i("7","14.5"),type:"curve",arc:"upperArc"},{pos:i("7.5","15"),type:"straight"},{pos:i("10.5","15"),type:"curve",arc:"lowerArc"},{pos:i("11","16"),type:"curve",arc:"upperArc"}],E=[{pos:i("16","10"),type:"straight"},{pos:i("16","10.5"),type:"curve",arc:"upperArc"},{pos:i("15.5","11"),type:"straight"},{pos:i("14.5","11"),type:"straight"}],M=[{pos:i("16","15"),type:"straight"},{pos:i("15.5","15"),type:"curve",arc:"lowerArc"},{pos:i("15","14.5"),type:"straight"},{pos:i("15","13.5"),type:"straight"}],F=[{pos:i("9","12"),type:"straight"},{pos:i("9","12.5"),type:"curve",arc:"upperArc"},{pos:i("9.5","13"),type:"straight"},{pos:i("10.5","13"),type:"straight"}],C=[{pos:i("7","14"),type:"straight"},{pos:i("7","13.5"),type:"curve",arc:"upperArc"},{pos:i("7.5","13"),type:"straight"},{pos:i("8.5","13"),type:"straight"}],O=[{pos:i("11","16"),type:"straight"},{pos:i("11","15.5"),type:"curve",arc:"upperArc"},{pos:i("10.5","15"),type:"straight"},{pos:i("9.5","15"),type:"straight"}],k={ghost1:{triggerPos:new r.Vector3(.65725,.55,.75325),ghostStartFadeIn:new r.Vector3(.7075,.55,.8035),ghostEndFadeIn:new r.Vector3(.725,.55,.8035),ghostStartFadeOut:new r.Vector3(.75,.55,.8035),camStartFadeIn:new r.Vector3(.75775,.55,.8035),camEndFadeIn:new r.Vector3(.775,.55,.8035),camStartFadeOut:new r.Vector3(.84,.55,.8035),endPosition:new r.Vector3(.85825,.55,.8035),forceEndProgress:{start:.1,end:.16}},ghost2:{triggerPos:new r.Vector3(.9085,.55,.8035),ghostStartFadeIn:new r.Vector3(.95875,.55,.85375),ghostEndFadeIn:new r.Vector3(.95875,.55,.875),ghostStartFadeOut:new r.Vector3(.95875,.55,.89),camStartFadeIn:new r.Vector3(.95875,.55,.904),camEndFadeIn:new r.Vector3(.95875,.55,.93),camStartFadeOut:new r.Vector3(.95875,.55,.9975),endPosition:new r.Vector3(.95875,.55,1.0045),forceEndProgress:{start:.17,end:.22}},ghost3:{triggerPos:new r.Vector3(.75775,.55,1.05475),ghostStartFadeIn:new r.Vector3(.7075,.55,1.0045),ghostEndFadeIn:new r.Vector3(.7075,.55,1.0045),ghostStartFadeOut:new r.Vector3(.6825,.55,1.0045),camStartFadeIn:new r.Vector3(.65725,.55,1.0045),camEndFadeIn:new r.Vector3(.65725,.55,1.0045),camStartFadeOut:new r.Vector3(.6065,.55,1.0045),endPosition:new r.Vector3(.55675,.55,1.0045),forceEndProgress:{start:.23,end:.33}},ghost4:{triggerPos:new r.Vector3(.65725,.55,1.0045),ghostStartFadeIn:new r.Vector3(.5565,.55,1.0045),ghostEndFadeIn:new r.Vector3(.5065,.55,1.0045),ghostStartFadeOut:new r.Vector3(.4815,.55,1.0045),camStartFadeIn:new r.Vector3(.45625,.55,1.0045),camEndFadeIn:new r.Vector3(.45625,.55,1.0045),camStartFadeOut:new r.Vector3(.4065,.55,1.0045),endPosition:new r.Vector3(.35575,.55,1.0045),forceEndProgress:{start:.38,end:.47}},ghost5:{triggerPos:new r.Vector3(.15475,.55,1.15525),ghostStartFadeIn:new r.Vector3(.1795,.55,1.18),ghostEndFadeIn:new r.Vector3(.205,.55,1.2055),ghostStartFadeOut:new r.Vector3(.23025,.55,1.2055),camStartFadeIn:new r.Vector3(.25525,.55,1.2055),camEndFadeIn:new r.Vector3(.25525,.55,1.2055),camStartFadeOut:new r.Vector3(.3055,.55,1.2055),endPosition:new r.Vector3(.35575,.55,1.2055),forceEndProgress:{start:.52,end:.59}}};function I(){return p}function T(){return d}const L={pacman:f,ghost1:v,ghost2:w,ghost3:b,ghost4:A,ghost5:x},B={camera:S,ghost1:E,ghost2:M,ghost3:F,ghost4:C,ghost5:O};function z(e){const t={};return Object.entries(e).forEach((([e,o])=>{const n=new r.Vector3(o.x*(1/4)+c.x*(3/4),2,o.z*(1/4)+c.z*(3/4));t[e]=[{pos:o.clone()},{pos:n},{pos:c}]})),t}function H(){return P}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=o(606),n=o(909),a=o(352),s=o.n(a),i=o(774),c=o.n(i),l=o(771),p=o(910),u=o(543),d=o(70),m=o(877),h=o(392),y=o(340),g=o(641),f=o(522);let v=!0,w=0,b=!1,A=0,x={},P=!1;const S={},E=Object.entries(p.ghosts),M=new n.Object3D,F=new n.Quaternion,C={};function O(){v=!0,(0,f.gZ)(!0);const e=(0,u.KE)(),t=(0,f.bd)(),a=(0,f.uN)();P&&null!==a&&(w=50*a),A=0,x={};const{getStartPosition:i,getLookAtPosition:d}=o(991),O=i(),k=l.U.position.clone(),I=k.distanceTo(O),T=c().getById("homeScroll"),L=T&&T.progress>0;if(I>.1){s().killTweensOf(l.U.position);const e=L?1:.5;s().to(l.U.position,{x:O.x,y:O.y,z:O.z,duration:e,ease:"power2.out",onUpdate:()=>{l.U.updateProjectionMatrix()}});const t=d(),o={t:0},r=new n.Vector3;l.U.getWorldDirection(r),r.multiplyScalar(10).add(k),s().to(o,{t:1,duration:e,ease:"power2.out",onUpdate:()=>{const e=r.clone().lerp(t,o.t);l.U.lookAt(e),l.U.updateProjectionMatrix()}})}else{l.U.position.copy(O);const e=d();l.U.lookAt(e),l.U.updateProjectionMatrix()}if((0,h.TB)(!0),function(){const e=y.pB.HOME_LOOP,t=new n.Vector3(1,0,0);m.XQ.forEach((o=>{S[o]=new u.Jf(t.clone(),e)}))}(),Object.entries(p.ghosts).forEach((([o,r])=>{const n=e[o];if(n){if(P&&null!==a){const e=n.getPointAt(a);if(e){const t=r.position.clone(),n=t.distanceTo(e),a=c().getById("homeScroll"),i=a&&a.isActive;n>.001||i?(s().killTweensOf(r.position),r.position.copy(t),s().to(r.position,{x:e.x,y:e.y,z:e.z,duration:i?.8:.5,ease:"power2.out",onUpdate:()=>{(0,f.A5)(o,r.position)},onComplete:()=>{(0,f.A5)(o,e)}})):(r.position.copy(e),(0,f.A5)(o,e))}}const e=t[o];if(e){const t=r.quaternion.clone();if(t.angleTo(e)>.01){s().killTweensOf(r.quaternion);const n={t:0};s().to(n,{t:1,duration:.5,ease:"power2.out",onUpdate:()=>{r.quaternion.copy(t).slerp(e,n.t),(0,f.do)(o,r.quaternion)},onComplete:()=>{r.quaternion.copy(e),(0,f.do)(o,e),P&&(x[o]=e.clone())}})}else r.quaternion.copy(e),(0,f.do)(o,e),P&&(x[o]=e.clone())}else(0,f.do)(o,r.quaternion),P&&(x[o]=r.quaternion.clone());if("pacman"!==o&&(r.visible=!0),(0,g.kU)(r,o,"home"),S[o]&&null!==a){const e=n.getTangentAt(a);e&&S[o].reset(e)}}})),!b){let e=r.pm.getElapsedTime();(0,r.fl)((()=>{if(document.hidden)return void(e=r.pm.getElapsedTime());const t=r.pm.getElapsedTime(),o=t-e;e=t,function(e){if(!v)return;const t=c().getById("introScroll");if(t?.isActive)return;const o=c().getById("homeScroll");if(o?.isActive)return;const r=Math.min(e,.1);w+=r,A+=r;const n=w%50/50;(0,f.J$)(n,w);const a=(0,u.KE)();p.pacmanMixer&&p.pacmanMixer.update(e);const s=Math.min(A/y.OQ,1),i=P&&s<1;for(let e=0;e<E.length;e++){const[t,o]=E[e],r=a[t];if(r){const e=n,a=r.getPointAt(e);a&&(o.position.copy(a),(0,f.A5)(t,a));const c="pacman"===t?y.Xt.PACMAN_HOME:y.Xt.GHOST_NORMAL;if(C[t]!==c&&((0,g.kU)(o,t,"home"),C[t]=c),F.set(0,0,0,1),S[t]&&e>0){const o=r.getTangentAt(e);if(o&&o.length()>0){const e=S[t].update(o),r="pacman"===t?"pacman":"ghost";(0,m.C5)(M,e,r),F.copy(M.quaternion)}}if(i&&x[t]){const e=s*s*(3-2*s),r=x[t].clone().slerp(F,e);o.quaternion.copy(r)}else o.quaternion.copy(F);(0,f.do)(t,o.quaternion)}}}(o)})),b=!0}}var k=o(991),I=o(13),T=o(365);const L={};s().registerPlugin(c());let B=null,z=null,H=!1,U=!1;const D=new n.Vector3(.55675,.55,1.306),V=new n.Vector3(-.14675,1,1.8085);let R=null;const _={},G={};function q(){B&&(B.kill(),B=null),function(){const e=y.pB.POV;G.camera=new u.Jf(new n.Vector3(0,0,-1),e);for(let t=1;t<=5;t++)G[`ghost${t}`]=new u.Jf(new n.Vector3(1,0,0),e)}(),Object.keys(k.povTriggerPositions).forEach((e=>{_[e]={hasBeenTriggered:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0}})),B=s().timeline({scrollTrigger:{id:"povScroll",trigger:I.l.povSection,start:"top bottom",end:"bottom top",markers:!1,scrub:y.jb,toggleActions:"play none none reverse",onEnter:()=>{const e=(0,h.Zn)();(0,h.KD)(!0,e)},onEnterBack:()=>{const e=(0,h.Zn)();(0,h.KD)(!0,e)}}}).addLabel("pov-animation-start",0).to({progress:0},{progress:1,immediateRender:!1,onStart:N,onUpdate:function(){j.call(this)},onReverseComplete:()=>{X(),K()},onComplete:()=>{X(),K()}}).addLabel("pov-animation-sequence-phase",y.SM).addLabel("pov-animation-transition-phase",y.Ys).addLabel("pov-animation-end",1)}function N(){const e=(0,u.wb)();if(G.camera&&e.camera){const t=e.camera.getTangentAt(0);t&&G.camera.reset(t)}Object.entries(p.ghosts).forEach((([t,o])=>{if(e[t]&&"pacman"!==t){const r=e[t].getPointAt(0);o.position.copy(r);const n=e[t].getTangentAt(0).normalize();o.lookAt(r.clone().add(n)),o.visible=!1,(0,g.kU)(o,t,"pov")}})),p.ghosts.pacman&&(p.ghosts.pacman.visible=!1)}function j(){const e=this.targets()[0].progress,t=(0,u.wb)();if(!t.camera)return;const o=t.camera.getPointAt(e);z?(function(e,t,o){const r=c().getById("introScroll");if(r&&r.isActive)return;l.U.position.copy(o),l.U.fov=80;const a=function(e,t){const o=k.povPaths.camera;if(e<=y.SM){const t=o[0];if("lookAtSequence"in t&&t.lookAtSequence?.length){const o=e/y.SM,r=t.lookAtSequence.length,n=1/r,a=Math.floor(o/n),s=o%n/n,i=Math.min(a,r-1),c=Math.min(a+1,r-1);if(i===c)return t.lookAtSequence[i];{const e=t.lookAtSequence[i],o=t.lookAtSequence[c];return e.clone().lerp(o,s)}}}else if(e<=y.Ys){const r=o[0];if("lookAtSequence"in r&&r.lookAtSequence?.length){const o=r.lookAtSequence[r.lookAtSequence.length-1],a=t.camera.getPointAt(e),s=t.camera.getTangentAt(e).normalize(),i=new n.Vector3(s.x,0,s.z).normalize(),c=a.clone().add(i),l=(e-y.SM)/(y.Ys-y.SM);return o.clone().lerp(c,l)}}return null}(e,t);if(a)return l.U.lookAt(a),void l.U.updateProjectionMatrix();const s=t.camera.getTangentAt(e).normalize();let i=s;G.camera&&e>0&&(i=G.camera.update(s)),e<=y.yw&&(i=new n.Vector3(i.x,0,i.z).normalize());(function(e,t){const o=(0,u.wb)(),r=W(o.camera,D),n=W(o.camera,V);(e<r||e>n)&&!U&&(R=null,H=!1,U=!1),H||U||l.U.lookAt(t)})(e,o.clone().add(i)),l.U.updateProjectionMatrix()}(e,t,o),function(e,t,o){Object.entries(k.povTriggerPositions).forEach((([r,n])=>{const a=p.ghosts[r],s=o[r];if(!a||!s||"pacman"===r)return;const i=t>n.forceEndProgress.start&&t<n.forceEndProgress.end;!function(e,t,o,r,n,a){const{triggerPos:s,ghostStartFadeIn:i,ghostEndFadeIn:c,ghostStartFadeOut:l,camStartFadeIn:p,camEndFadeIn:d,camStartFadeOut:h,endPosition:g}=n,f=_[e],v=parseInt(e.replace("ghost",""))-1;let w=L[v];if(!w){const e=document.querySelectorAll(".cmp--pov.cmp")[v];w={parent:e||null,povElements:e?e.querySelectorAll(".pov"):document.querySelectorAll(".nonexistent"),camElements:e?e.querySelectorAll(".cam"):document.querySelectorAll(".nonexistent")},L[v]=w}const{parent:b,povElements:A,camElements:x}=w;if(!b||!A.length||!x.length)return;const P=(0,u.wb)();null===f.triggerCameraProgress&&(f.triggerCameraProgress=W(P.camera,s,y.u7),f.ghostStartFadeInProgress=W(P.camera,i,y.u7),f.ghostEndFadeInProgress=W(P.camera,c,y.u7),f.ghostStartFadeOutProgress=W(P.camera,l,y.u7),f.camStartFadeInProgress=W(P.camera,p,y.u7),f.camEndFadeInProgress=W(P.camera,d,y.u7),f.camStartFadeOutProgress=W(P.camera,h,y.u7),f.endCameraProgress=W(P.camera,g,y.u7));const S=W(P.camera,r,y.u7);if(S>=f.triggerCameraProgress&&S<=f.endCameraProgress){if(!t.visible&&(t.visible=!0,f.hasBeenTriggered=!0,G[e])){const t=o.getTangentAt(0);t&&G[e].reset(t)}const r=(S-f.triggerCameraProgress)/(f.endCameraProgress-f.triggerCameraProgress);let n=(0,y.qE)(r);void 0===f.currentPathT?f.currentPathT=n:f.currentPathT+=(n-f.currentPathT)*y.dU,n=f.currentPathT;const a=o.getPointAt(n);if(t.position.copy(a),G[e]&&n>0){const r=o.getTangentAt(n);if(r&&r.length()>0){const o=G[e].update(r);(0,m.C5)(t,o,"ghost")}}const s=n>y.pf?1-(n-y.pf)/y.P5:1;(0,T.tU)(t,s,{preserveTransmission:!0,skipCurrencySymbols:!0})}else t.visible=!1,f.hasBeenTriggered=!1;!function(e,t,o,r,n,a,s=!1){if(s)return r.style.opacity="0",r.classList.add("no-visibility"),Q(n),void Q(a);const{targetGhostOpacity:i,targetCamOpacity:c}=function(e,t){let o=0,r=0;if(e>=t.ghostStartFadeInProgress&&e<=t.ghostEndFadeInProgress){const r=(e-t.ghostStartFadeInProgress)/(t.ghostEndFadeInProgress-t.ghostStartFadeInProgress);o=Math.min(1,r)}else if(e>t.ghostEndFadeInProgress&&e<t.ghostStartFadeOutProgress)o=1;else if(e>=t.ghostStartFadeOutProgress&&e<=t.camStartFadeInProgress){const r=(e-t.ghostStartFadeOutProgress)/(t.camStartFadeInProgress-t.ghostStartFadeOutProgress);o=Math.max(0,1-r)}if(e>=t.camStartFadeInProgress&&e<=t.camEndFadeInProgress){const o=(e-t.camStartFadeInProgress)/(t.camEndFadeInProgress-t.camStartFadeInProgress);r=Math.min(1,o)}else if(e>t.camEndFadeInProgress&&e<t.camStartFadeOutProgress)r=1;else if(e>=t.camStartFadeOutProgress&&e<=t.endCameraProgress){const o=(e-t.camStartFadeOutProgress)/(t.endCameraProgress-t.camStartFadeOutProgress);r=Math.max(0,1-o)}return{targetGhostOpacity:o,targetCamOpacity:r}}(t,o);t>=o.camStartFadeOutProgress?r.style.opacity=c.toString():t>=o.ghostStartFadeInProgress&&t<=o.ghostEndFadeInProgress&&(r.style.opacity=i.toString());const l=c>y.H0&&i>y.H0,p=r.classList.contains("no-visibility");l&&!p?r.classList.add("no-visibility"):!l&&p&&r.classList.remove("no-visibility"),i>y.H0?Y(n,i):Q(n),c>y.H0?Y(a,c):Q(a)}(0,S,f,b,A,x,a)}(r,a,s,e,n,i)}))}(o,e,t),z.copy(o)):z=o.clone()}function Y(e,t){e.forEach((e=>{const o=e;t>y.H0?(o.classList.remove("no-visibility"),o.style.opacity=t.toString()):t<=y.H0&&!o.classList.contains("no-visibility")&&(o.classList.add("no-visibility"),o.style.opacity="0")}))}function $(){Object.keys(G).forEach((e=>{if(G[e]){const t="camera"===e?new n.Vector3(0,0,-1):new n.Vector3(1,0,0);G[e].reset(t)}}))}function Q(e){e.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"}))}function X(){Object.entries(p.ghosts).forEach((([e,t])=>{if("pacman"!==e){t.visible=!1;const o=parseInt(e.replace("ghost",""))-1,r=L[o];r?.parent&&(Q(r.povElements),Q(r.camElements),r.parent.classList.add("no-visibility")),(0,T.tU)(t,1,{preserveTransmission:!0,skipCurrencySymbols:!0})}})),p.ghosts.pacman&&(p.ghosts.pacman.visible=!0),$()}function K(){p.ghosts.pacman&&(p.ghosts.pacman.visible=!0),H=!1,R=null,U=!1,Object.keys(_).forEach((e=>{_[e]={hasBeenTriggered:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0}})),$()}function W(e,t,o=y.u7){if(!e||!t)return 0;let r=0,n=1/0;for(let a=0;a<o;a++)try{const s=a/(o-1),i=e.getPointAt(s);if(!i)continue;const c=i.distanceTo(t);c<n&&(n=c,r=s)}catch(e){}return r}var Z=o(485);let J=null;var ee=o(249);!async function(){(0,r.Ki)(),(0,r.SH)(),(0,r.mS)(),(0,l.t)(),await(0,p.loadModel)(r.JH),(0,f.et)(),window.addEventListener("scroll",(()=>{0===window.scrollY?v||O():v&&function(){if(!v)return;v=!1,(0,f.gZ)(!1),P=!0;const e=w%50/50;(0,f.e5)(e),Object.entries(p.ghosts).forEach((([e,t])=>{(0,f.A5)(e,t.position.clone(),!0,!0),(0,f.do)(e,t.quaternion.clone(),!0)})),(0,d.initHomeScrollAnimation)()}()})),0===window.scrollY&&O(),q(),(0,Z.initIntroScrollAnimation)(),J=s().timeline({scrollTrigger:{trigger:y.BK.OUTRO,start:"top center",end:"bottom bottom",scrub:y.jb,markers:!1,onEnter:()=>{const e=(0,h.Zn)();(0,h.Ks)(!0,e)},onEnterBack:()=>{const e=(0,h.Zn)();(0,h.Ks)(!0,e)}}}).addLabel("outro-text-start",0).fromTo(".sc_b--outro",{scale:y.Ex.START,opacity:y.Yy.HIDDEN},{keyframes:[{scale:y.Ex.START,opacity:y.Yy.HIDDEN,duration:y.Cv.NONE},{scale:y.Ex.MID,opacity:y.Yy.FULL,duration:y.Cv.FADE_IN},{scale:y.Ex.LARGE,opacity:y.Yy.FULL,duration:y.Cv.HOLD},{scale:y.Ex.END,opacity:y.Yy.HIDDEN,duration:y.Cv.FADE_OUT}]}).addLabel("outro-text-fade-in",y.Cv.NONE).addLabel("outro-text-hold",y.Cv.NONE+y.Cv.FADE_IN).addLabel("outro-text-fade-out",y.Cv.NONE+y.Cv.FADE_IN+y.Cv.HOLD).addLabel("outro-text-end",y.Cv.NONE+y.Cv.FADE_IN+y.Cv.HOLD+y.Cv.FADE_OUT),function(){const e=document.querySelector(".wr_p--skip.wr_p");if(e){const t=document.querySelector(".sc--testimonials");t&&e.addEventListener("click",(()=>{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))}}(),(0,ee.createIntroPacmanRotationHUD)(),(0,r.Dz)()}()})();
//# sourceMappingURL=script.js.map