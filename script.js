(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=THREE,r=window.innerWidth<768,o={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},c=gsap;var p=e.n(c);const s=ScrollTrigger;var n=e.n(s);const a=new t.Vector3(.55675,.35,.45175),i=new t.Vector3(.55675,.5,.45175),u=new t.Vector3(.55675,-5,.35),y={startMobile:new t.Vector3(.5,2.5,2.5),startDesktop:new t.Vector3(-2,2.5,2),secondMobile:new t.Vector3(.5,2.5,2),secondDesktop:new t.Vector3(-1.5,3,.75),mobileLookAt:new t.Vector3(.5,.5,-1.5),desktopLookAt:new t.Vector3(-1.25,.5,.25)},w=r?y.startMobile:y.startDesktop,h=r?y.secondMobile:y.secondDesktop,v=r?y.mobileLookAt:y.desktopLookAt,l=[{pos:new t.Vector3(.25525,.55,.6025),type:"straight"},{pos:new t.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,.1),type:"straight"},{pos:new t.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new t.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new t.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new t.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new t.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new t.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new t.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new t.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new t.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new t.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new t.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.25525,.55,.6025),type:"straight"}],V=[{pos:new t.Vector3(-.44825,.55,.703),type:"straight"},{pos:new t.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new t.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new t.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.301),type:"straight"},{pos:new t.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.75775,.55,.8035),type:"straight"},{pos:new t.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.46125,.55,.703),type:"straight"},{pos:new t.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new t.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.301),type:"straight"},{pos:new t.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new t.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new t.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,.703),type:"straight"}],g=[{pos:new t.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new t.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new t.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.502),type:"straight"},{pos:new t.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new t.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new t.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new t.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new t.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.85825,.55,.1),type:"straight"},{pos:new t.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new t.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.301),type:"straight"},{pos:new t.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new t.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new t.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,.703),type:"straight"}],A=[{pos:new t.Vector3(.85825,.55,.75325),type:"straight"},{pos:new t.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new t.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new t.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,.2005),type:"straight"},{pos:new t.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.46125,.55,.301),type:"straight"},{pos:new t.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.95875,.55,.904),type:"straight"},{pos:new t.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,1.105),type:"straight"},{pos:new t.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new t.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.85825,.55,.75325),type:"straight"}],d=[{pos:new t.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new t.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.95875,.55,.8035),type:"straight"},{pos:new t.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new t.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new t.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,.703),type:"straight"},{pos:new t.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new t.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,.2005),type:"straight"},{pos:new t.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.85825,.55,.1),type:"straight"},{pos:new t.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new t.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.46125,.55,.1),type:"straight"},{pos:new t.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new t.Vector3(1.05925,.55,.4015),type:"straight"}],T=[{pos:new t.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new t.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new t.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new t.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new t.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new t.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new t.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new t.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new t.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new t.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new t.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.85825,.55,.1),type:"straight"},{pos:new t.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],m=[{pos:w,lookAt:v},{pos:h,lookAt:new t.Vector3(-.75,.5,-.75)},{pos:new t.Vector3(.55675,3,.45175),lookAt:u},{pos:i,lookAt:u}],P=[{pos:new t.Vector3(.55675,.5,.45175),type:"curve",curveType:"forwardDownArc"},{pos:new t.Vector3(.55675,.55,.6025),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.607,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.7075,.55,.8035),type:"straight"},{pos:new t.Vector3(.9085,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.95875,.55,.85375),type:"straight"},{pos:new t.Vector3(.95875,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.9085,.55,1.2055),type:"straight"},{pos:new t.Vector3(.808,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.75775,.55,1.15525),type:"straight"},{pos:new t.Vector3(.75775,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.7075,.55,1.0045),type:"straight"},{pos:new t.Vector3(.205,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.15475,.55,1.05475),type:"straight"},{pos:new t.Vector3(.15475,.55,1.15525),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.205,.55,1.2055),type:"straight"},{pos:new t.Vector3(.5065,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.55675,.55,1.306),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(-.44825,1,2.0095),type:"straight"}],f=[{pos:new t.Vector3(1.05925,.55,.703),type:"straight"},{pos:new t.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(1.009,.55,.8035),type:"straight"},{pos:new t.Vector3(.9085,.55,.8035),type:"straight"}],S=[{pos:new t.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new t.Vector3(1.009,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new t.Vector3(.95875,.55,1.15525),type:"straight"},{pos:new t.Vector3(.95875,.55,1.05475),type:"straight"}],M=[{pos:new t.Vector3(.35575,.55,.904),type:"straight"},{pos:new t.Vector3(.35575,.55,.95425),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.406,.55,1.0045),type:"straight"},{pos:new t.Vector3(.5065,.55,1.0045),type:"straight"}],C=[{pos:new t.Vector3(.15475,.55,1.105),type:"straight"},{pos:new t.Vector3(.15475,.55,1.05475),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.205,.55,1.0045),type:"straight"},{pos:new t.Vector3(.3055,.55,1.0045),type:"straight"}],E=[{pos:new t.Vector3(.55675,.55,1.306),type:"straight"},{pos:new t.Vector3(.55675,.55,1.25575),type:"curve",curveType:"upperArc"},{pos:new t.Vector3(.5065,.55,1.2055),type:"straight"},{pos:new t.Vector3(.406,.55,1.2055),type:"straight"}],_={ghost1:{triggerPos:new t.Vector3(.65725,.55,.75325),ghostTextPos:new t.Vector3(.7075,.55,.8035),camTextPos:new t.Vector3(.75775,.55,.8035),endPosition:new t.Vector3(.85825,.55,.8035)},ghost2:{triggerPos:new t.Vector3(.9085,.55,.8035),ghostTextPos:new t.Vector3(.95875,.55,.85375),camTextPos:new t.Vector3(.95875,.55,.904),endPosition:new t.Vector3(.95875,.55,1.0045)},ghost3:{triggerPos:new t.Vector3(.75775,.55,1.05475),ghostTextPos:new t.Vector3(.7075,.55,1.0045),camTextPos:new t.Vector3(.65725,.55,1.0045),endPosition:new t.Vector3(.55675,.55,1.0045)},ghost4:{triggerPos:new t.Vector3(.65725,.55,1.0045),ghostTextPos:new t.Vector3(.5065,.55,1.0045),camTextPos:new t.Vector3(.45625,.55,1.0045),endPosition:new t.Vector3(.35575,.55,1.0045)},ghost5:{triggerPos:new t.Vector3(.15475,.55,1.15525),ghostTextPos:new t.Vector3(.205,.55,1.2055),camTextPos:new t.Vector3(.25525,.55,1.2055),endPosition:new t.Vector3(.35575,.55,1.2055)}};function b(){return w}function x(){return v}const O={pacman:l,ghost1:V,ghost2:g,ghost3:A,ghost4:d,ghost5:T},z={camera:P,ghost1:f,ghost2:S,ghost3:M,ghost4:C,ghost5:E};function k(){return m}p().registerPlugin(n());const R=new t.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100);function I(){const e=Math.min(window.devicePixelRatio,r?2:3);L.setPixelRatio(e),o.mazeContainer?L.setSize(o.mazeContainer.clientWidth,o.mazeContainer.clientHeight):L.setSize(window.innerWidth,window.innerHeight)}const G=new t.Scene,L=new t.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),B=new t.Clock,N=[];const D=(new t.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),j=new t.MeshMatcapMaterial({matcap:D}),q=new t.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),Y=new t.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:t.NormalBlending,side:t.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),F=new t.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),$={blue:new t.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new t.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new t.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},H={CAM_Pacman_Backframe:$.blue,"CAM-Pacman_Bitcoin_1":$.white,"CAM-Pacman_Bitcoin_2":$.white,"CAM-Pacman_Bottom":$.blue,"CAM-Pacman_Top":$.blue,"CAM-Pacman_Eye":$.white,CAM_Pacman_Logo_1:$.white,CAM_Pacman_Logo_2:$.white,"CAM-Pacman_Shell_Boolean":$.blue,"CAM-Pacman_Shell":$.blue,"CAM-Pacman_Bottom_electronic":$.white,"CAM-Pacman_Top_electronic":$.white,"CAM-Pacman_Bottom_Text":$.white,"CAM-Pacman_Top_Text":$.white,default:$.blue},W=new t.GLTFLoader;let U;const Q=new t.Group,K={pacman:Q,ghost1:new t.Mesh(new t.BufferGeometry,Y),ghost2:new t.Mesh(new t.BufferGeometry,Y),ghost3:new t.Mesh(new t.BufferGeometry,Y),ghost4:new t.Mesh(new t.BufferGeometry,Y),ghost5:new t.Mesh(new t.BufferGeometry,Y)},J={Ghost_EUR:K.ghost1,Ghost_CHF:K.ghost2,Ghost_YEN:K.ghost3,Ghost_USD:K.ghost4,Ghost_GBP:K.ghost5};function X(e){const r=new t.CurvePath,o=e.filter((e=>"type"in e));for(let e=0;e<o.length-1;e++){const c=o[e],p=o[e+1];if("straight"===c.type)r.add(new t.LineCurve3(c.pos,p.pos));else if("curve"===c.type){const s=e>0&&"curve"===o[e-1].type,n=e<o.length-2&&"curve"===o[e+1].type,a=s||n?ee(c,p):Z(c,p);r.add(new t.QuadraticBezierCurve3(c.pos,a,p.pos))}}return r}function Z(e,r){if(e.curveType){const o=e.curveType;if("upperArc"===o)return new t.Vector3(e.pos.x,e.pos.y,r.pos.z);if("lowerArc"===o)return new t.Vector3(r.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===o)return new t.Vector3(e.pos.x,r.pos.y,e.pos.z)}return new t.Vector3(e.pos.x,e.pos.y,r.pos.z)}function ee(e,t,r,o){const c=Z(e,t),p=e.pos.clone().lerp(t.pos,.5);return c.clone().lerp(p,.12)}function te(e){const r=new t.CurvePath;if(console.log("createCameraHomeScrollPath - pathPoints:",e),4===e.length){const o=new t.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);console.log("createCameraHomeScrollPath - created curve with points:",e[0].pos,e[1].pos,e[2].pos,e[3].pos),r.add(o)}return r}function re(){const e={};return Object.entries(O).forEach((([t,r])=>{e[t]=X(r)})),e}function oe(e,r,o){const c=(new t.Quaternion).setFromEuler(new t.Euler(Math.PI/2,0,0)),p=(new t.Quaternion).setFromEuler(new t.Euler(-Math.PI/2,0,0)),s=r.angleTo(c)<r.angleTo(p)?c:p;e.quaternion.copy(r.clone().slerp(s,o))}let ce=null,pe=!1;const se={pacman:.9,ghost1:1,ghost2:1.1,ghost3:1.2,ghost4:1.3,ghost5:1.4};function ne(e,r){ce&&(ce.kill(),ce=null);const o=function(e){const r=function(e){const r={};return Object.entries(e).forEach((([e,o])=>{const c=new t.Vector3(o.x*(1/4)+a.x*(3/4),1.5,o.z*(1/4)+a.z*(3/4));r[e]=[{pos:o.clone()},{pos:c},{pos:a}]})),r}(e),o={camera:te(k())};return Object.entries(r).forEach((([e,r])=>{o[e]=function(e){const r=new t.CurvePath;if(3===e.length){const o=new t.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);r.add(o)}return r}(r)})),o}(e),c=k();ce=p().timeline({scrollTrigger:{id:"homeScroll",trigger:".sc--home",start:"top top",end:"bottom top",scrub:.5,onScrubComplete:()=>{le()}}}).to({progress:0},{progress:1,immediateRender:!1,onUpdate:function(){!function(e,r,o,c){if(r.camera){const o=r.camera.getPointAt(e);R.position.copy(o);const p=new t.CubicBezierCurve3(c[0].lookAt,c[1].lookAt,c[2].lookAt,c[3].lookAt).getPoint(e);R.lookAt(p),R.updateProjectionMatrix(),console.log("Camera lookAt:",p.clone())}const p=.85,s=e<p?1:e>.95?0:1-(e-p)/.09999999999999998;if(r.pacman&&Q){const t=se.pacman??1,c=Math.min(e*t,1),p=Math.pow(c,1.25),n=r.pacman.getPointAt(p);n&&(Q.position.copy(n),oe(Q,o.pacman,p),Q.traverse((e=>{e.isMesh&&e.material&&(e.material.opacity=s)})))}Object.entries(K).forEach((([t,c])=>{const p=r[t];if(p){const r=se[t]??1,n=Math.min(e*r,1),a=Math.pow(n,1.25),i=p.getPointAt(a);i&&(c.position.copy(i),oe(c,o[t],a),c.material&&(c.material.opacity=s))}}))}(this.targets()[0].progress,o,r,c)}});const n=s.ScrollTrigger.getById("homeScroll");n&&ce&&(pe?ce.progress(n.progress):(pe=!0,p().to(ce,{progress:n.progress,duration:.5,ease:"power2.out"})))}const ae=50;let ie=!0,ue=0,ye=0,we={},he={},ve=!1;function le(){0===window.scrollY&&function(){ie=!0,ue=ye*ae;const e=re();var t;Object.entries(K).forEach((([t,r])=>{const o=e[t];if(o){const e=o.getPointAt(0);e&&r.position.copy(e)}})),ve||(t=()=>function(e){if(!ie)return;ue+=e;const t=ue%ae/ae,r=re();Object.entries(K).forEach((([e,o])=>{const c=r[e];if(c){const r=c.getPointAt(t),p=c.getTangentAt(t);r&&o.position.copy(r),p&&p.length()>0&&function(e,t,r="ghost"){if(!t||0===t.length())return;const o=Math.atan2(t.x,t.z);if("pacman"===r)e.rotation.set(Math.PI/2,Math.PI,o+Math.PI/2);else if("ghost"===r)e.rotation.set(0,o,0);else if("camera"===r){const r=e.position.clone().add(t);e.lookAt(r)}}(o,p,"pacman"===e?"pacman":"ghost")}}))}(B.getDelta()),N.push(t),ve=!0)}()}p().registerPlugin(s.ScrollTrigger);class Ve{constructor(e){this.timeline=null,this.TRIGGER_DISTANCE=.1,this.START_END_SCREEN_SECTION_PROGRESS=.8,this.ROTATION_STARTING_POINT=.973,this.startRotationPoint=new t.Vector3(.55675,.55,1.306),this.endRotationPoint=new t.Vector3(-.14675,1,1.8085),this.targetLookAt=new t.Vector3(.55675,.1,1.306),this.finalLookAt=new t.Vector3(-.14675,0,1.8085),this.povStartPoint1=new t.Vector3(.55675,-5,.45175),this.povStartPoint2=new t.Vector3(.55675,-2.5,.45175),this.ghosts=e,this.paths=function(){const e={};return Object.entries(z).forEach((([t,r])=>{e[t]="camera"===t?function(e){return X(e)}(r):X(r)})),e}(),console.log("POV Paths available:",Object.keys(this.paths)),console.log("POV Trigger positions:",_),this.state={isInPOVSection:!1,animationStarted:!1,rotationStarted:!1,startedInitEndScreen:!1,endScreenPassed:!1,startEndProgress:0,cachedStartYAngle:null},this.setupPOVTimeline()}setupPOVTimeline(){this.timeline=p().timeline({scrollTrigger:{trigger:".sc--pov",start:"top bottom",end:"bottom top",endTrigger:".sc--final",scrub:5,toggleActions:"play none none reverse",onLeave:()=>this.handleLeavePOV(),onLeaveBack:()=>this.handleLeavePOV()}}).to({progress:0},{progress:1,immediateRender:!1,onStart:()=>this.handleAnimationStart(),onUpdate:()=>this.handleAnimationUpdate(),onReverseComplete:()=>this.resetState(!0),onComplete:()=>this.resetState()})}handleAnimationStart(){this.ghosts.pacman&&(this.ghosts.pacman.visible=!1),Object.entries(this.ghosts).forEach((([e,t])=>{"pacman"!==e&&(t.visible=!1)})),this.state.animationStarted=!0}handleAnimationUpdate(){if(!this.timeline)return;const e=this.timeline.progress();this.updateCamera(e),this.updateGhosts(e)}updateCamera(e){if(!this.paths.camera)return;const r=this.paths.camera.getPointAt(e);R.position.copy(r),R.fov=80;const o=this.paths.camera.getTangentAt(e).normalize(),c=r.clone().add(o);if(0===e)R.lookAt(new t.Vector3(R.position.x,2,R.position.z));else if(e<.1){const r=e/.1,o=new t.Vector3(R.position.x,1,R.position.z),c=new t.Vector3(R.position.x,.5,R.position.z+1),p=new t.Vector3;p.lerpVectors(o,c,this.smoothStep(r)),R.lookAt(p)}const p=this.findClosestProgressOnPath(this.paths.camera,this.povStartPoint1),s=this.findClosestProgressOnPath(this.paths.camera,this.povStartPoint2),n=this.findClosestProgressOnPath(this.paths.camera,this.startRotationPoint),a=this.findClosestProgressOnPath(this.paths.camera,this.endRotationPoint);e<=s?this.handleHomeTransition(e,r,c,p,s):e>=n&&e<=a?this.handleRotationPhase(e,r,c,n,a):e>this.START_END_SCREEN_SECTION_PROGRESS&&this.state.endScreenPassed?this.handleEndSequence(e):this.handleDefaultOrientation(e,n,a,c),R.updateProjectionMatrix()}handleHomeTransition(e,r,o,c,p){const s=(e-c)/(p-c);if(s>=0&&s<=1){const e=(new t.Quaternion).setFromRotationMatrix((new t.Matrix4).lookAt(r,o,R.up)),c=this.smoothStep(s),p=(new t.Quaternion).copy(R.quaternion).slerp(e,c);R.quaternion.copy(p)}else s>1&&R.lookAt(o)}handleRotationPhase(e,r,o,c,p){const s=(e-c)/(p-c);if(null===this.state.cachedStartYAngle){const e=new t.Vector2(o.x-r.x,o.z-r.z).normalize();this.state.cachedStartYAngle=Math.atan2(e.y,e.x),this.state.cachedStartYAngle=this.state.cachedStartYAngle>3?this.state.cachedStartYAngle/2:this.state.cachedStartYAngle}const n=new t.Vector2(this.targetLookAt.x-r.x,this.targetLookAt.z-r.z).normalize();let a=Math.atan2(n.y,n.x),i=a-this.state.cachedStartYAngle;i>Math.PI?i-=2*Math.PI:i<-Math.PI&&(i+=2*Math.PI),i=1.75*-i,a=this.state.cachedStartYAngle+i;const u=this.smoothStep(s),y=this.state.cachedStartYAngle*(1-u)+a*u,w=new t.Vector3(r.x+1*Math.cos(y),r.y,r.z+1*Math.sin(y));R.lookAt(w),e>=p&&(this.state.cachedStartYAngle=null),this.state.rotationStarted=!0,e>=this.START_END_SCREEN_SECTION_PROGRESS&&!this.state.startedInitEndScreen&&(this.state.startedInitEndScreen=!0,this.initEndScreen())}handleEndSequence(e){if(0===this.state.startEndProgress&&1!==e){const t=Math.floor(100*e)/100;this.state.startEndProgress=.99===t?this.ROTATION_STARTING_POINT:e}const r=(e-this.state.startEndProgress)/(1-this.state.startEndProgress);if(r>0){const e=this.getCameraLookAtPoint(),o=(new t.Vector3).lerpVectors(e,this.finalLookAt,this.smoothStep(r)),c=80,p=20;R.fov=c+(p-c)*this.smoothStep(r),R.lookAt(o)}}handleDefaultOrientation(e,t,r,o){if((e<t||e>r)&&!this.state.startedInitEndScreen){this.state.cachedStartYAngle=null,this.state.rotationStarted=!1,this.state.endScreenPassed=!1,this.state.startedInitEndScreen=!1;const e=document.querySelector(".sc--final.sc");e&&(e.style.opacity="0")}this.state.rotationStarted||this.state.startedInitEndScreen||R.lookAt(o),this.state.endScreenPassed&&e>.8||(this.state.startEndProgress=0)}updateGhosts(e){const t=this.getPathMapping();e>.1&&e<.2&&console.log(`updateGhosts called at progress: ${e.toFixed(3)}`),Object.entries(this.ghosts).forEach((([r,o])=>{if("pacman"===r)return;const c=t[r];this.paths[c]&&_[r]?this.updateGhost(r,o,c,e):"ghost1"===r&&console.warn(`Ghost1 path or trigger missing - pathKey: ${c}, hasPath: ${!!this.paths[c]}, hasTrigger: ${!!_[r]}`)}))}updateGhost(e,t,r,o){const c=_[e];if(!c)return void console.warn(`No trigger data for ${e}`);const p=this.paths[r];if(!p)return void console.warn(`No path found for ${e} (${r})`);const s=this.findClosestProgressOnPath(this.paths.camera,c.triggerPos),n=Math.abs(o-s);if("ghost1"===e&&console.log(`Ghost1 - Camera: ${o.toFixed(3)}, Trigger: ${s.toFixed(3)}, Distance: ${n.toFixed(3)}`),n<this.TRIGGER_DISTANCE){t.visible=!0;const r=Math.max(0,2*(o-s)),c=Math.min(1,r);if(c<=1){const e=p.getPointAt(c);t.position.copy(e);const r=p.getTangentAt(c).normalize();t.lookAt(e.clone().add(r))}"ghost1"===e&&console.log(`Ghost1 visible at progress: ${c.toFixed(3)}`)}else t.visible=!1}findClosestProgressOnPath(e,t,r=2e3){let o=0,c=1/0;for(let p=0;p<r;p++)try{const s=p/(r-1),n=e.getPointAt(s);if(!n)continue;const a=n.distanceTo(t);a<c&&(c=a,o=s)}catch(e){continue}return o}getCameraLookAtPoint(){const e=new t.Vector3(0,0,-1);e.applyQuaternion(R.quaternion);const r=new t.Vector3;return r.copy(R.position).add(e.multiplyScalar(10)),r}smoothStep(e){return e*e*(3-2*e)}getPathMapping(){return{pacman:"camera",ghost1:"ghost1",ghost2:"ghost2",ghost3:"ghost3",ghost4:"ghost4",ghost5:"ghost5"}}initEndScreen(){this.state.endScreenPassed=!0;const e=document.querySelector(".sc--final.sc");e&&p().to(e,{opacity:1,duration:1,ease:"power2.out"})}handleLeavePOV(){this.state.isInPOVSection=!1,R.fov=50,R.updateProjectionMatrix(),this.ghosts.pacman&&(this.ghosts.pacman.visible=!0)}resetState(e=!1){this.state.animationStarted=!1,this.state.rotationStarted=!1,this.state.cachedStartYAngle=null,this.state.startEndProgress=0,this.state.startedInitEndScreen=!1,this.state.endScreenPassed=!1,Object.entries(this.ghosts).forEach((([e,t])=>{"pacman"!==e&&(t.visible=!1)})),this.ghosts.pacman&&(this.ghosts.pacman.visible=!0),R.fov=50,R.updateProjectionMatrix()}destroy(){this.timeline&&(this.timeline.kill(),this.timeline=null)}}!async function(){r?L.setPixelRatio(Math.min(window.devicePixelRatio,2)):L.setPixelRatio(window.devicePixelRatio),L.shadowMap.enabled=!0,L.shadowMap.type=t.PCFSoftShadowMap,o.mazeContainer?(L.setSize(o.mazeContainer.clientWidth,o.mazeContainer.clientHeight),o.mazeContainer.appendChild(L.domElement)):(L.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(L.domElement)),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",I):I(),window.addEventListener("resize",I),L.render(G,R),function(){const e=new t.AmbientLight(16777215);G.add(e);const r=new t.DirectionalLight(16777215,.8);G.add(r),r.position.set(-5,15,10),r.shadow.mapSize.width=4096,r.shadow.mapSize.height=4096,r.shadow.camera.left=-20,r.shadow.camera.right=20,r.shadow.camera.top=20,r.shadow.camera.bottom=-20,r.shadow.camera.near=.1,r.shadow.camera.far=50,r.shadow.bias=-.001,r.shadow.radius=3,r.castShadow=!0}(),function(){const e=b(),t=x();R.position.set(e.x,e.y,e.z),R.lookAt(t.x,t.y,t.z)}(),await async function(e){return Object.values(K).forEach((t=>e.add(t))),e.add(Q),new Promise(((r,o)=>{W.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(o){const c=o.scene;console.log("=== 3D Model Hierarchy ==="),c.traverse((e=>{console.log(`[${e.type}] ${e.name}`)})),console.log("========================="),c.traverse((r=>{if("CAM-Pacman"===r.name){const e=[];r.traverse((t=>{if(t.isMesh&&"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name){const r=H[t.name]||H.default;t.material=r,e.push(t)}else"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name||(t.visible=!1)})),e.forEach((e=>K.pacman.add(e))),K.pacman.scale.set(.05,.05,.05),K.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),U=new t.AnimationMixer(K.pacman);const c={};o.animations.forEach((e=>{const t=U.clipAction(e);c[e.name]=t,t.setEffectiveWeight(1),t.play()}))}else if(r.name&&J[r.name]){const e=J[r.name],o=new t.Group;r.rotation.z=Math.PI,r.rotation.x=Math.PI/2,r.scale.set(.75,.75,.75);const c=[];r.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=Y:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),o.add(e)})),e?e.add(o):console.warn(`ghostContainer for ${r.name} is undefined!`)}if(r.isMesh)if("CAM-Arena_LowRes_Top"===r.name)r.material=q,r.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===r.name)r.material=j,r.castShadow=!0;else if("CAM-Floor"===r.name){const o=r.clone();r.position.y=-.1,r.position.x=0,r.position.z=0,r.material=new t.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:t.FrontSide}),r.receiveShadow=!1,r.castShadow=!0,r.scale.set(.5,.5,.5),o.material=F,o.position.y=-.5,o.receiveShadow=!0,e.add(o)}})),c.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(c),c.position.set(.5,.5,.5),r()}),(function(e){}),(function(e){o(e)}))}))}(G),le(),new Ve(K),function(){const e=()=>{N.forEach((e=>e())),L.render(G,R),requestAnimationFrame(e)};e()}(),window.addEventListener("scroll",(()=>{0!==window.scrollY&&ie&&(ie=!1,ye=ue%ae/ae,we={},he={},Object.entries(K).forEach((([e,t])=>{we[e]=t.position.clone(),he[e]=t.quaternion.clone()})),ne(we,he))}))}()})();
//# sourceMappingURL=script.js.map