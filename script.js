(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var c in t)e.o(t,c)&&!e.o(r,c)&&Object.defineProperty(r,c,{enumerable:!0,get:t[c]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=THREE,t=window.innerWidth<768,c={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},o=gsap;var p=e.n(o);const n=ScrollTrigger;var s=e.n(n);const u=new r.Vector3(.45175,.5,.55675),w={startMobile:new r.Vector3(.5,2.5,2.5),startDesktop:new r.Vector3(-2,2.5,2),secondMobile:new r.Vector3(.5,2.5,2),secondDesktop:new r.Vector3(-1.5,3,2),mobileLookAt:new r.Vector3(.5,.5,-1.5),desktopLookAt:new r.Vector3(-1.25,.5,.25)},y=t?w.startMobile:w.startDesktop,a=t?w.secondMobile:w.secondDesktop,v=t?w.mobileLookAt:w.desktopLookAt,i=[{pos:new r.Vector3(.25525,.55,.6025),type:"straight"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"straight"},{pos:new r.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new r.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.25525,.55,.6025),type:"straight"}],V=[{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,.8035),type:"straight"},{pos:new r.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.703),type:"straight"},{pos:new r.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],l=[{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new r.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.502),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new r.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"straight"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new r.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"}],A=[{pos:new r.Vector3(.85825,.55,.75325),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new r.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new r.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.2005),type:"straight"},{pos:new r.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.301),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"straight"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,1.105),type:"straight"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.75325),type:"straight"}],h=[{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new r.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.8035),type:"straight"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new r.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new r.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,.703),type:"straight"},{pos:new r.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,.2005),type:"straight"},{pos:new r.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,.1),type:"straight"},{pos:new r.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new r.Vector3(1.05925,.55,.4015),type:"straight"}],T=[{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new r.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new r.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new r.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new r.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new r.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new r.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new r.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new r.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new r.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new r.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.85825,.55,.1),type:"straight"},{pos:new r.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new r.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new r.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],d=[{pos:y,lookAt:v},{pos:a,lookAt:v},{pos:new r.Vector3(.55675,3,.45175),lookAt:v},{pos:u,lookAt:v}];function m(){return y}function g(){return v}new r.Vector3(.55675,-.5,.45175),new r.Vector3(.55675,.55,.6025),new r.Vector3(.607,.55,.703),new r.Vector3(.65725,.55,.75325),new r.Vector3(.7075,.55,.8035),new r.Vector3(.9085,.55,.8035),new r.Vector3(.95875,.55,.85375),new r.Vector3(.95875,.55,1.15525),new r.Vector3(.9085,.55,1.2055),new r.Vector3(.808,.55,1.2055),new r.Vector3(.75775,.55,1.15525),new r.Vector3(.75775,.55,1.05475),new r.Vector3(.7075,.55,1.0045),new r.Vector3(.205,.55,1.0045),new r.Vector3(.15475,.55,1.05475),new r.Vector3(.15475,.55,1.15525),new r.Vector3(.205,.55,1.2055),new r.Vector3(.5065,.55,1.2055),new r.Vector3(.55675,.55,1.306),new r.Vector3(-.44825,1,2.0095),new r.Vector3(1.05925,.55,.703),new r.Vector3(1.05925,.55,.75325),new r.Vector3(1.009,.55,.8035),new r.Vector3(.9085,.55,.8035),new r.Vector3(1.05925,.55,1.2055),new r.Vector3(1.009,.55,1.2055),new r.Vector3(.95875,.55,1.15525),new r.Vector3(.95875,.55,1.05475),new r.Vector3(.35575,.55,.904),new r.Vector3(.35575,.55,.95425),new r.Vector3(.406,.55,1.0045),new r.Vector3(.5065,.55,1.0045),new r.Vector3(.15475,.55,1.105),new r.Vector3(.15475,.55,1.05475),new r.Vector3(.205,.55,1.0045),new r.Vector3(.3055,.55,1.0045),new r.Vector3(.55675,.55,1.306),new r.Vector3(.55675,.55,1.25575),new r.Vector3(.5065,.55,1.2055),new r.Vector3(.406,.55,1.2055),new r.Vector3(.65725,.55,.75325),new r.Vector3(.7075,.55,.8035),new r.Vector3(.75775,.55,.8035),new r.Vector3(.85825,.55,.8035),new r.Vector3(.9085,.55,.8035),new r.Vector3(.95875,.55,.85375),new r.Vector3(.95875,.55,.904),new r.Vector3(.95875,.55,1.0045),new r.Vector3(.75775,.55,1.05475),new r.Vector3(.7075,.55,1.0045),new r.Vector3(.65725,.55,1.0045),new r.Vector3(.55675,.55,1.0045),new r.Vector3(.65725,.55,1.0045),new r.Vector3(.5065,.55,1.0045),new r.Vector3(.45625,.55,1.0045),new r.Vector3(.35575,.55,1.0045),new r.Vector3(.15475,.55,1.15525),new r.Vector3(.205,.55,1.2055),new r.Vector3(.25525,.55,1.2055),new r.Vector3(.35575,.55,1.2055);const f={pacman:i,ghost1:V,ghost2:l,ghost3:A,ghost4:h,ghost5:T};p().registerPlugin(s());const M=new r.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3);M.quaternion.clone(),(new r.Quaternion).setFromEuler(new r.Euler(-1.5708,0,0));const P=(new r.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),C=new r.MeshMatcapMaterial({matcap:P}),_=new r.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),S=new r.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.NormalBlending,side:r.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),b=new r.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),E={blue:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new r.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},z={CAM_Pacman_Backframe:E.blue,"CAM-Pacman_Bitcoin_1":E.white,"CAM-Pacman_Bitcoin_2":E.white,"CAM-Pacman_Bottom":E.blue,"CAM-Pacman_Top":E.blue,"CAM-Pacman_Eye":E.white,CAM_Pacman_Logo_1:E.white,CAM_Pacman_Logo_2:E.white,"CAM-Pacman_Shell_Boolean":E.blue,"CAM-Pacman_Shell":E.blue,"CAM-Pacman_Bottom_electronic":E.white,"CAM-Pacman_Top_electronic":E.white,"CAM-Pacman_Bottom_Text":E.white,"CAM-Pacman_Top_Text":E.white,default:E.blue},B=new r.GLTFLoader;let x;const L=new r.Group,k={pacman:L,ghost1:new r.Mesh(new r.BufferGeometry,S),ghost2:new r.Mesh(new r.BufferGeometry,S),ghost3:new r.Mesh(new r.BufferGeometry,S),ghost4:new r.Mesh(new r.BufferGeometry,S),ghost5:new r.Mesh(new r.BufferGeometry,S)},G={Ghost_EUR:k.ghost1,Ghost_CHF:k.ghost2,Ghost_YEN:k.ghost3,Ghost_USD:k.ghost4,Ghost_GBP:k.ghost5};function R(){const e=Math.min(window.devicePixelRatio,t?2:3);q.setPixelRatio(e),c.mazeContainer?q.setSize(c.mazeContainer.clientWidth,c.mazeContainer.clientHeight):q.setSize(window.innerWidth,window.innerHeight)}const I=new r.Scene,q=new r.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),W=new r.Clock,D=[];function O(e,t){if(e.curveType){const c=e.curveType;if("upperArc"===c)return new r.Vector3(e.pos.x,e.pos.y,t.pos.z);if("lowerArc"===c)return new r.Vector3(t.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===c)return new r.Vector3(e.pos.x,t.pos.y,e.pos.z)}return new r.Vector3(e.pos.x,e.pos.y,t.pos.z)}function j(e,r,t,c){const o=O(e,r),p=e.pos.clone().lerp(r.pos,.5);return o.clone().lerp(p,.12)}function F(e){const t=new r.CurvePath;if(4===e.length){const c=new r.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);t.add(c)}return t}function H(){const e={};return Object.entries(f).forEach((([t,c])=>{e[t]=function(e){const t=new r.CurvePath,c=e.filter((e=>"type"in e));for(let e=0;e<c.length-1;e++){const o=c[e],p=c[e+1];if("straight"===o.type)t.add(new r.LineCurve3(o.pos,p.pos));else if("curve"===o.type){const n=e>0&&"curve"===c[e-1].type,s=e<c.length-2&&"curve"===c[e+1].type,u=n||s?j(o,p):O(o,p);t.add(new r.QuadraticBezierCurve3(o.pos,u,p.pos))}}return t}(c)})),e}function U(e,t,c){const o=(new r.Quaternion).setFromEuler(new r.Euler(Math.PI/2,0,0)),p=(new r.Quaternion).setFromEuler(new r.Euler(-Math.PI/2,0,0)),n=t.angleTo(o)<t.angleTo(p)?o:p;e.quaternion.copy(t.clone().slerp(n,c))}function Q(e,t){const c=function(e){const t=function(e){const t={};return Object.entries(e).forEach((([e,c])=>{const o=new r.Vector3((c.x+u.x)/2,2,(c.z+u.z)/2);t[e]=[{pos:c.clone()},{pos:o},{pos:u}]})),t}(e),c={camera:F(d)};return Object.entries(t).forEach((([e,t])=>{c[e]=function(e){const t=new r.CurvePath;if(3===e.length){const c=new r.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);t.add(c)}return t}(t)})),c}(e);p().timeline({scrollTrigger:{trigger:".sc--home",start:"top top",end:"bottom top",scrub:5,onScrubComplete:()=>{re()}}}).to({progress:0},{progress:1,immediateRender:!1,onUpdate:function(){!function(e,r,t){if(r.camera){const t=r.camera.getPointAt(e);M.position.copy(t),M.updateProjectionMatrix()}if(r.pacman&&L){const c=r.pacman.getPointAt(e);c&&(L.position.copy(c),U(L,t.pacman,e))}Object.entries(k).forEach((([c,o])=>{const p=r[c];if(p){const r=p.getPointAt(e);r&&(o.position.copy(r),U(o,t[c],e))}}))}(this.targets()[0].progress,c,t)}})}const Y=40;let N=!0,$=!1,J=0,K=0,X={},Z={},ee=!1;function re(){var e;0===window.scrollY&&(console.log("startHomeLoop def"),N=!0,$=!0,J=K*Y,ee||(e=()=>function(e){if(!$)return;J+=e;const r=J%Y/Y,t=H();Object.entries(k).forEach((([e,c])=>{const o=t[e];if(o){const t=o.getPointAt(r),p=o.getTangentAt(r);t&&c.position.copy(t),p&&p.length()>0&&function(e,r,t="ghost"){if(!r||0===r.length())return;const c=Math.atan2(r.x,r.z);if("pacman"===t)e.rotation.set(Math.PI/2,Math.PI,c+Math.PI/2);else if("ghost"===t)e.rotation.set(0,c,0);else if("camera"===t){const t=e.position.clone().add(r);e.lookAt(t)}}(c,p,"pacman"===e?"pacman":"ghost")}}))}(W.getDelta()),D.push(e),ee=!0))}!async function(){t?q.setPixelRatio(Math.min(window.devicePixelRatio,2)):q.setPixelRatio(window.devicePixelRatio),q.shadowMap.enabled=!0,q.shadowMap.type=r.PCFSoftShadowMap,c.mazeContainer?(q.setSize(c.mazeContainer.clientWidth,c.mazeContainer.clientHeight),c.mazeContainer.appendChild(q.domElement)):(q.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(q.domElement)),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",R):R(),window.addEventListener("resize",R),q.render(I,M),function(){const e=new r.AmbientLight(16777215);I.add(e);const t=new r.DirectionalLight(16777215,.8);I.add(t),t.position.set(-5,15,10),t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t.shadow.camera.left=-20,t.shadow.camera.right=20,t.shadow.camera.top=20,t.shadow.camera.bottom=-20,t.shadow.camera.near=.1,t.shadow.camera.far=50,t.shadow.bias=-.001,t.shadow.radius=3,t.castShadow=!0}(),function(){const e=m(),r=g();M.position.set(e.x,e.y,e.z),M.lookAt(r.x,r.y,r.z)}(),await async function(e){return Object.values(k).forEach((r=>e.add(r))),e.add(L),new Promise(((t,c)=>{B.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(c){const o=c.scene;o.traverse((t=>{if("CAM-Pacman"===t.name){const e=[];t.traverse((r=>{if(r.isMesh&&"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name){const t=z[r.name]||z.default;r.material=t,e.push(r)}else"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name||(r.visible=!1)})),e.forEach((e=>k.pacman.add(e))),k.pacman.scale.set(.05,.05,.05),k.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),x=new r.AnimationMixer(k.pacman);const o={};c.animations.forEach((e=>{const r=x.clipAction(e);o[e.name]=r,r.setEffectiveWeight(1),r.play()}))}else if(t.name&&G[t.name]){const e=G[t.name],c=new r.Group;t.rotation.z=Math.PI,t.rotation.x=Math.PI/2,t.scale.set(.75,.75,.75);const o=[];t.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=S:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),o.push(e))})),o.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),c.add(e)})),e?e.add(c):console.warn(`ghostContainer for ${t.name} is undefined!`)}if(t.isMesh)if("CAM-Arena_LowRes_Top"===t.name)t.material=_,t.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===t.name)t.material=C,t.castShadow=!0;else if("CAM-Floor"===t.name){const c=t.clone();t.position.y=-.1,t.position.x=0,t.position.z=0,t.material=new r.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:r.FrontSide}),t.receiveShadow=!1,t.castShadow=!0,t.scale.set(.5,.5,.5),c.material=b,c.position.y=-.5,c.receiveShadow=!0,e.add(c)}})),o.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(o),o.position.set(.5,.5,.5),t()}),(function(e){}),(function(e){c(e)}))}))}(I),re(),function(){const e=()=>{D.forEach((e=>e())),q.render(I,M),requestAnimationFrame(e)};e()}(),window.addEventListener("scroll",(()=>{0!==window.scrollY&&(console.log("stopHomeLoop"),N&&($=!1,K=J%Y/Y,X={},Z={},Object.entries(k).forEach((([e,r])=>{X[e]=r.position.clone(),Z[e]=r.quaternion.clone()})),Q(X,Z),N=!1))}))}()})();
//# sourceMappingURL=script.js.map