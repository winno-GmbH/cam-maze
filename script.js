(()=>{"use strict";var e={352:e=>{e.exports=gsap},417:(e,r,t)=>{t.d(r,{Fr:()=>o,kf:()=>c});const o=window.innerWidth<768,c={mazeTexture:"https://c-am.b-cdn.net/CAM/matcap24.png",mazeModel:"https://c-am.b-cdn.net/CAM/c-am-assets-3.glb"}},771:(e,r,t)=>{t.r(r),t.d(r,{camera:()=>w,endQuaternion:()=>i,getCameraLookAtPoint:()=>v,setupCamera:()=>a,setupCameraAnimation:()=>l,setupCameraResize:()=>V,startQuaternion:()=>y});var o=t(909),c=t(352),p=t.n(c),n=t(774),s=t.n(n),u=t(835);p().registerPlugin(s());const w=new o.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3);function a(){const e=(0,u.k6)(),r=(0,u.IS)();w.position.set(e.x,e.y,e.z),w.lookAt(r.x,r.y,r.z)}const y=w.quaternion.clone(),i=(new o.Quaternion).setFromEuler(new o.Euler(-1.5708,0,0));function v(){const e=new o.Vector3(0,0,-1);e.applyQuaternion(w.quaternion);const r=new o.Vector3;return r.copy(w.position).add(e.multiplyScalar(10)),r}function V(){window.addEventListener("resize",(()=>{w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix()}))}function l(){const e=w.quaternion.clone(),r=new o.Vector3(-1.5,3,2),t=new o.Vector3(-1.5,3,2);let c=null;if(r&&t){const e=r.clone().add(t);w.position.copy(r),w.lookAt(e),c=w.quaternion.clone()}w.position.copy(new o.Vector3(-2,2.5,2)),w.quaternion.copy(e),p().timeline({scrollTrigger:{trigger:".sc--home",start:"top top",end:"bottom top",scrub:5}}).to({t:0},{t:1,immediateRender:!1,onUpdate:function(){const r=this.targets()[0].t,t=new o.Vector3(-2,2.5,2);if(w.position.copy(t),e&&c){const t=new o.Quaternion;t.slerpQuaternions(e,c,r),w.quaternion.copy(t)}w.updateProjectionMatrix()}})}},774:e=>{e.exports=ScrollTrigger},835:(e,r,t)=>{t.d(r,{IS:()=>T,Y:()=>g,_t:()=>d,h5:()=>m,k6:()=>h});var o=t(909),c=t(417);const p=new o.Vector3(.45175,.5,.55675),n={startMobile:new o.Vector3(.5,2.5,2.5),startDesktop:new o.Vector3(-2,2.5,2),secondMobile:new o.Vector3(.5,2.5,2),secondDesktop:new o.Vector3(-1.5,3,2),mobileLookAt:new o.Vector3(.5,.5,-1.5),desktopLookAt:new o.Vector3(-1.25,.5,.25)},s=c.Fr?n.startMobile:n.startDesktop,u=c.Fr?n.secondMobile:n.secondDesktop,w=c.Fr?n.mobileLookAt:n.desktopLookAt,a=[{pos:new o.Vector3(.25525,.55,.6025),type:"straight"},{pos:new o.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.1),type:"straight"},{pos:new o.Vector3(.45625,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new o.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new o.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new o.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new o.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new o.Vector3(-.04625,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.8035),type:"straight"},{pos:new o.Vector3(-.24725,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.34775,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.24725,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.25525,.55,.6025),type:"straight"}],y=[{pos:new o.Vector3(-.44825,.55,.703),type:"straight"},{pos:new o.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new o.Vector3(-.24725,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,-5e-4),type:"straight"},{pos:new o.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"straight"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,.8035),type:"straight"},{pos:new o.Vector3(.95875,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,.703),type:"straight"},{pos:new o.Vector3(1.46125,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.2005),type:"straight"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"straight"},{pos:new o.Vector3(.25525,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new o.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,.703),type:"straight"}],i=[{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.6025),type:"straight"},{pos:new o.Vector3(-.14675,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.4015),type:"straight"},{pos:new o.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.502),type:"straight"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.85825,.55,1.2055),type:"straight"},{pos:new o.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new o.Vector3(1.46125,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,-5e-4),type:"straight"},{pos:new o.Vector3(1.15975,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.1),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,-5e-4),type:"straight"},{pos:new o.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"straight"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.04625,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.0965,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.8035),type:"straight"},{pos:new o.Vector3(-.34775,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,.703),type:"straight"}],v=[{pos:new o.Vector3(.85825,.55,.75325),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,-.2015),type:"straight"},{pos:new o.Vector3(.15475,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,-5e-4),type:"straight"},{pos:new o.Vector3(.35575,.55,-5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.2005),type:"straight"},{pos:new o.Vector3(1.36075,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,.301),type:"straight"},{pos:new o.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.009,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.95875,.55,.904),type:"straight"},{pos:new o.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.85825,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,1.105),type:"straight"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.7075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.004,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.04625,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.808,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.75325),type:"straight"}],V=[{pos:new o.Vector3(1.05925,.55,.4015),type:"straight"},{pos:new o.Vector3(1.05925,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,.8035),type:"straight"},{pos:new o.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.65725,.55,1.0045),type:"straight"},{pos:new o.Vector3(.25525,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.15475,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.05425,.55,1.2055),type:"straight"},{pos:new o.Vector3(-.34775,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,.703),type:"straight"},{pos:new o.Vector3(-.44825,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.34775,.55,.2005),type:"straight"},{pos:new o.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.15475,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,.2005),type:"straight"},{pos:new o.Vector3(.75775,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.1),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,5e-4),type:"straight"},{pos:new o.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,.1),type:"straight"},{pos:new o.Vector3(1.46125,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.26025,.55,.75325),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.15975,.55,.703),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,.6025),type:"straight"},{pos:new o.Vector3(1.05925,.55,.4015),type:"straight"}],l=[{pos:new o.Vector3(.45625,.55,-.04975),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.35575,.55,5e-4),type:"straight"},{pos:new o.Vector3(-.04625,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.14675,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,-.2015),type:"straight"},{pos:new o.Vector3(-.34775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.44825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.398,.55,5e-4),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.34775,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.24725,.55,.2005),type:"straight"},{pos:new o.Vector3(-.04625,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.05425,.55,.301),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.04625,.55,.4015),type:"straight"},{pos:new o.Vector3(-.14675,.55,.4015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(-.24725,.55,.502),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(-.14675,.55,.6025),type:"straight"},{pos:new o.Vector3(.15475,.55,.6025),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.25525,.55,.703),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.3055,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.35575,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.45625,.55,1.0045),type:"straight"},{pos:new o.Vector3(.65725,.55,1.0045),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.75775,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.85825,.55,.8035),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.95875,.55,.904),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,1.105),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.05925,.55,1.2055),type:"straight"},{pos:new o.Vector3(1.36075,.55,1.2055),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.46125,.55,1.105),type:"straight"},{pos:new o.Vector3(1.46125,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(1.36075,.55,-.2015),type:"straight"},{pos:new o.Vector3(1.15975,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(1.05925,.55,-.101),type:"straight"},{pos:new o.Vector3(1.05925,.55,.1),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.95875,.55,.2005),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.85825,.55,.1),type:"straight"},{pos:new o.Vector3(.85825,.55,-.101),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.75775,.55,-.2015),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.65725,.55,-.15125),type:"curve",curveType:"upperArc"},{pos:new o.Vector3(.55675,.55,-.101),type:"curve",curveType:"lowerArc"},{pos:new o.Vector3(.45625,.55,-.04975),type:"curve",curveType:"lowerArc"}],A=[{pos:s,lookAt:w},{pos:u,lookAt:w},{pos:new o.Vector3(.55675,3,.45175),lookAt:w},{pos:p,lookAt:w}];function h(){return s}function T(){return w}new o.Vector3(.55675,-.5,.45175),new o.Vector3(.55675,.55,.6025),new o.Vector3(.607,.55,.703),new o.Vector3(.65725,.55,.75325),new o.Vector3(.7075,.55,.8035),new o.Vector3(.9085,.55,.8035),new o.Vector3(.95875,.55,.85375),new o.Vector3(.95875,.55,1.15525),new o.Vector3(.9085,.55,1.2055),new o.Vector3(.808,.55,1.2055),new o.Vector3(.75775,.55,1.15525),new o.Vector3(.75775,.55,1.05475),new o.Vector3(.7075,.55,1.0045),new o.Vector3(.205,.55,1.0045),new o.Vector3(.15475,.55,1.05475),new o.Vector3(.15475,.55,1.15525),new o.Vector3(.205,.55,1.2055),new o.Vector3(.5065,.55,1.2055),new o.Vector3(.55675,.55,1.306),new o.Vector3(-.44825,1,2.0095),new o.Vector3(1.05925,.55,.703),new o.Vector3(1.05925,.55,.75325),new o.Vector3(1.009,.55,.8035),new o.Vector3(.9085,.55,.8035),new o.Vector3(1.05925,.55,1.2055),new o.Vector3(1.009,.55,1.2055),new o.Vector3(.95875,.55,1.15525),new o.Vector3(.95875,.55,1.05475),new o.Vector3(.35575,.55,.904),new o.Vector3(.35575,.55,.95425),new o.Vector3(.406,.55,1.0045),new o.Vector3(.5065,.55,1.0045),new o.Vector3(.15475,.55,1.105),new o.Vector3(.15475,.55,1.05475),new o.Vector3(.205,.55,1.0045),new o.Vector3(.3055,.55,1.0045),new o.Vector3(.55675,.55,1.306),new o.Vector3(.55675,.55,1.25575),new o.Vector3(.5065,.55,1.2055),new o.Vector3(.406,.55,1.2055),new o.Vector3(.65725,.55,.75325),new o.Vector3(.7075,.55,.8035),new o.Vector3(.75775,.55,.8035),new o.Vector3(.85825,.55,.8035),new o.Vector3(.9085,.55,.8035),new o.Vector3(.95875,.55,.85375),new o.Vector3(.95875,.55,.904),new o.Vector3(.95875,.55,1.0045),new o.Vector3(.75775,.55,1.05475),new o.Vector3(.7075,.55,1.0045),new o.Vector3(.65725,.55,1.0045),new o.Vector3(.55675,.55,1.0045),new o.Vector3(.65725,.55,1.0045),new o.Vector3(.5065,.55,1.0045),new o.Vector3(.45625,.55,1.0045),new o.Vector3(.35575,.55,1.0045),new o.Vector3(.15475,.55,1.15525),new o.Vector3(.205,.55,1.2055),new o.Vector3(.25525,.55,1.2055),new o.Vector3(.35575,.55,1.2055);const d={pacman:a,ghost1:y,ghost2:i,ghost3:v,ghost4:V,ghost5:l};function m(e){const r={};return Object.entries(e).forEach((([e,t])=>{const c=new o.Vector3((t.x+p.x)/2,2,(t.z+p.z)/2);r[e]=[{pos:t.clone()},{pos:c},{pos:p}]})),r}function g(){return A}},909:e=>{e.exports=THREE}},r={};function t(o){var c=r[o];if(void 0!==c)return c.exports;var p=r[o]={exports:{}};return e[o](p,p.exports,t),p.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=t(909),c=t(417);const p={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--final.sc"),finalContainer:document.querySelector(".cr--final.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")};var n=t(771);const s=(new o.TextureLoader).load(c.kf.mazeTexture),u=new o.MeshMatcapMaterial({matcap:s}),w=new o.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),a=new o.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:o.NormalBlending,side:o.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),y=new o.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),i={blue:new o.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new o.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new o.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},v={CAM_Pacman_Backframe:i.blue,"CAM-Pacman_Bitcoin_1":i.white,"CAM-Pacman_Bitcoin_2":i.white,"CAM-Pacman_Bottom":i.blue,"CAM-Pacman_Top":i.blue,"CAM-Pacman_Eye":i.white,CAM_Pacman_Logo_1:i.white,CAM_Pacman_Logo_2:i.white,"CAM-Pacman_Shell_Boolean":i.blue,"CAM-Pacman_Shell":i.blue,"CAM-Pacman_Bottom_electronic":i.white,"CAM-Pacman_Top_electronic":i.white,"CAM-Pacman_Bottom_Text":i.white,"CAM-Pacman_Top_Text":i.white,default:i.blue},V=new o.GLTFLoader;let l;const A=new o.Group,h={pacman:A,ghost1:new o.Mesh(new o.BufferGeometry,a),ghost2:new o.Mesh(new o.BufferGeometry,a),ghost3:new o.Mesh(new o.BufferGeometry,a),ghost4:new o.Mesh(new o.BufferGeometry,a),ghost5:new o.Mesh(new o.BufferGeometry,a)},T={Ghost_EUR:h.ghost1,Ghost_CHF:h.ghost2,Ghost_YEN:h.ghost3,Ghost_USD:h.ghost4,Ghost_GBP:h.ghost5};function d(){const e=Math.min(window.devicePixelRatio,c.Fr?2:3);g.setPixelRatio(e),p.mazeContainer?g.setSize(p.mazeContainer.clientWidth,p.mazeContainer.clientHeight):g.setSize(window.innerWidth,window.innerHeight)}const m=new o.Scene,g=new o.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),f=new o.Clock,M=[];var P=t(835);function C(e,r){if(e.curveType){const t=e.curveType;if("upperArc"===t)return new o.Vector3(e.pos.x,e.pos.y,r.pos.z);if("lowerArc"===t)return new o.Vector3(r.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===t)return new o.Vector3(e.pos.x,r.pos.y,e.pos.z)}return new o.Vector3(e.pos.x,e.pos.y,r.pos.z)}function S(e,r,t,o){const c=C(e,r),p=e.pos.clone().lerp(r.pos,.5);return c.clone().lerp(p,.12)}function _(e){const r=new o.CurvePath;if(4===e.length){const t=new o.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);r.add(t)}return r}function b(e,r,t){const c=(new o.Quaternion).setFromEuler(new o.Euler(Math.PI/2,0,0)),p=(new o.Quaternion).setFromEuler(new o.Euler(-Math.PI/2,0,0)),n=r.angleTo(c)<r.angleTo(p)?c:p;e.quaternion.copy(r.clone().slerp(n,t))}var z=t(352),x=t.n(z);function E(e,r){const t=function(e){const r=(0,P.h5)(e),t={camera:_((0,P.Y)())};return Object.entries(r).forEach((([e,r])=>{t[e]=function(e){const r=new o.CurvePath;if(3===e.length){const t=new o.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);r.add(t)}return r}(r)})),t}(e);x().timeline({scrollTrigger:{trigger:".sc--home",start:"top top",end:"bottom top",scrub:5,onScrubComplete:()=>{O()}}}).to({progress:0},{progress:1,immediateRender:!1,onUpdate:function(){!function(e,r,t){if(r.camera){const t=r.camera.getPointAt(e);n.camera.position.copy(t),n.camera.updateProjectionMatrix()}if(r.pacman&&A){const o=r.pacman.getPointAt(e);o&&(A.position.copy(o),b(A,t.pacman,e))}console.log("[HomeLoop] Camera position:",n.camera.position.toArray()),Object.entries(h).forEach((([o,c])=>{const p=r[o];if(p){const r=p.getPointAt(e);r&&(c.position.copy(r),b(c,t[o],e))}}))}(this.targets()[0].progress,t,r)}})}var L=t(774),B=t.n(L);const k=40;let q=!1,G=0,H=0,F={},R={},I=!1;function j(){var e;q=!0,G=H*k,I||(e=()=>function(e){if(!q)return;G+=e;const r=G%k/k,t=function(){const e={};return Object.entries(P._t).forEach((([r,t])=>{e[r]=function(e){const r=new o.CurvePath,t=e.filter((e=>"type"in e));for(let e=0;e<t.length-1;e++){const c=t[e],p=t[e+1];if("straight"===c.type)r.add(new o.LineCurve3(c.pos,p.pos));else if("curve"===c.type){const n=e>0&&"curve"===t[e-1].type,s=e<t.length-2&&"curve"===t[e+1].type,u=n||s?S(c,p):C(c,p);r.add(new o.QuadraticBezierCurve3(c.pos,u,p.pos))}}return r}(t)})),e}();Object.entries(h).forEach((([e,o])=>{const c=t[e];if(c){const t=c.getPointAt(r),p=c.getTangentAt(r);t&&o.position.copy(t),p&&p.length()>0&&function(e,r,t="ghost"){if(!r||0===r.length())return;const o=Math.atan2(r.x,r.z);if("pacman"===t)e.rotation.set(Math.PI/2,Math.PI,o+Math.PI/2);else if("ghost"===t)e.rotation.set(0,o,0);else if("camera"===t){const t=e.position.clone().add(r);e.lookAt(t)}}(o,p,"pacman"===e?"pacman":"ghost")}}))}(f.getDelta()),M.push(e),I=!0)}function O(){0===window.scrollY&&(console.log("startHomeLoop def"),j())}!async function(){c.Fr?g.setPixelRatio(Math.min(window.devicePixelRatio,2)):g.setPixelRatio(window.devicePixelRatio),g.shadowMap.enabled=!0,g.shadowMap.type=o.PCFSoftShadowMap,p.mazeContainer?(g.setSize(p.mazeContainer.clientWidth,p.mazeContainer.clientHeight),p.mazeContainer.appendChild(g.domElement)):(g.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(g.domElement)),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d(),window.addEventListener("resize",d),g.render(m,n.camera),function(){const e=new o.AmbientLight(16777215);m.add(e);const r=new o.DirectionalLight(16777215,.8);m.add(r),r.position.set(-5,15,10),r.shadow.mapSize.width=4096,r.shadow.mapSize.height=4096,r.shadow.camera.left=-20,r.shadow.camera.right=20,r.shadow.camera.top=20,r.shadow.camera.bottom=-20,r.shadow.camera.near=.1,r.shadow.camera.far=50,r.shadow.bias=-.001,r.shadow.radius=3,r.castShadow=!0}(),(0,n.setupCamera)(),await async function(e){return Object.values(h).forEach((r=>e.add(r))),e.add(A),new Promise(((r,t)=>{V.load(c.kf.mazeModel,(function(t){const c=t.scene;c.traverse((r=>{if("CAM-Pacman"===r.name){const e=[];r.traverse((r=>{if(r.isMesh&&"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name){const t=v[r.name]||v.default;r.material=t,e.push(r)}else"CAM-Pacman_Shell"!==r.name&&"CAM-Pacman_Shell_Boolean"!==r.name||(r.visible=!1)})),e.forEach((e=>h.pacman.add(e))),h.pacman.scale.set(.05,.05,.05),h.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),l=new o.AnimationMixer(h.pacman);const c={};t.animations.forEach((e=>{const r=l.clipAction(e);c[e.name]=r,r.setEffectiveWeight(1),r.play()}))}else if(r.name&&T[r.name]){const e=T[r.name],t=new o.Group;r.rotation.z=Math.PI,r.rotation.x=Math.PI/2,r.scale.set(.75,.75,.75);const c=[];r.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=a:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),c.push(e))})),c.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),t.add(e)})),e?e.add(t):console.warn(`ghostContainer for ${r.name} is undefined!`)}if(r.isMesh)if("CAM-Arena_LowRes_Top"===r.name)r.material=w,r.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===r.name)r.material=u,r.castShadow=!0;else if("CAM-Floor"===r.name){const t=r.clone();r.position.y=-.1,r.position.x=0,r.position.z=0,r.material=new o.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:o.FrontSide}),r.receiveShadow=!1,r.castShadow=!0,r.scale.set(.5,.5,.5),t.material=y,t.position.y=-.5,t.receiveShadow=!0,e.add(t)}})),c.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(c),c.position.set(.5,.5,.5),r()}),(function(e){}),(function(e){t(e)}))}))}(m),O(),function(){const e=()=>{M.forEach((e=>e())),g.render(m,n.camera),requestAnimationFrame(e)};e()}(),window.addEventListener("scroll",(()=>{if(0!==window.scrollY){const{camera:e}=t(771);console.log("[Before stopHomeLoop] Camera position:",e.position.toArray()),console.log("[Before stopHomeLoop] animationTime:",G),function(){if(!q)return;q=!1,H=G%k/k,console.log("[stopHomeLoop] pausedT:",H),F={},R={},Object.entries(h).forEach((([e,r])=>{F[e]=r.position.clone(),R[e]=r.quaternion.clone()}));const e=document.querySelector(".sc--home");if(e){const r=e,t=r.offsetHeight-window.innerHeight,o=r.offsetTop+H*t;window.scrollTo(0,o),console.log("[Sync] Set scrollY to",o,"for pausedT",H),B().refresh(),requestAnimationFrame((()=>{E(F,R)}))}}(),console.log("[After stopHomeLoop] Camera position:",e.position.toArray()),console.log("[After stopHomeLoop] pausedT:",H)}}))}()})();
//# sourceMappingURL=script.js.map