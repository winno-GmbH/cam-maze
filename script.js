(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=THREE,o=window.innerWidth<768,r={mazeContainer:document.querySelector(".el--home-maze.el"),canvas:document.querySelector("canvas"),homeSection:document.querySelector(".sc--home.sc"),introSection:document.querySelector(".sc--intro.sc"),povSection:document.querySelector(".sc--pov.sc"),finalSection:document.querySelector(".sc--outro.sc"),finalContainer:document.querySelector(".cr--outro.cr"),parentElements:document.querySelectorAll(".cmp--pov.cmp")},n=gsap;var s=e.n(n);const a=ScrollTrigger;var c=e.n(a);const i={0:-.54875,.5:-.4985,1:-.44825,1.5:-.398,2:-.34775,2.5:-.2975,3:-.24725,3.5:-.197,4:-.14675,4.5:-.0965,5:-.04625,5.5:.004,6:.05425,6.5:.1045,7:.15475,7.5:.205,8:.25525,8.5:.3055,9:.35575,9.5:.406,10:.45625,10.5:.5065,11:.55675,11.5:.607,12:.65725,12.5:.7075,13:.75775,13.5:.808,14:.85825,14.5:.9085,15:.95875,15.5:1.009,16:1.05925,16.5:1.1095,17:1.15975,17.5:1.21,18:1.26025,18.5:1.3105,19:1.36075,19.5:1.411,20:1.46125},p={0:-.302,.5:-.25175,1:-.2015,1.5:-.15125,2:-.101,2.5:-.05075,3:-5e-4,3.5:.04975,4:.1,4.5:.15025,5:.2005,5.5:.25075,6:.301,6.5:.35125,7:.4015,7.5:.45175,8:.502,8.5:.55225,9:.6025,9.5:.65275,10:.703,10.5:.75325,11:.8035,11.5:.85375,12:.904,12.5:.95425,13:1.0045,13.5:1.05475,14:1.105,14.5:1.15525,15:1.2055,15.5:1.25575,16:1.306},l=(e,t)=>new THREE.Vector3(i[e],.55,p[t]),u=new t.Vector3(.55675,.35,.45175),d={startMobile:new t.Vector3(.5,2.5,2.5),startDesktop:new t.Vector3(-2,2.5,2),secondMobile:new t.Vector3(.5,2.5,2),secondDesktop:new t.Vector3(-1.5,3,.75),mobileLookAt:new t.Vector3(.5,.5,-1.5),desktopLookAt:new t.Vector3(-1.25,.5,.25),cameraLookAtSecondDesktop:new t.Vector3(-.75,.5,-.75),cameraLookAtSecondMobile:new t.Vector3(-.75,.5,-.75),cameraHomeScrollEndLookAt:new t.Vector3(.55675,-5,.35),thirdPosition:new t.Vector3(.55675,3,.45175),cameraHomeScrollEndPathPoint:new t.Vector3(.55675,.5,.45175)},h=o?d.startMobile:d.startDesktop,g=o?d.secondMobile:d.secondDesktop,y=o?d.mobileLookAt:d.desktopLookAt,m=o?d.cameraLookAtSecondMobile:d.cameraLookAtSecondDesktop,v=d.thirdPosition,w=d.cameraHomeScrollEndLookAt,A=d.cameraHomeScrollEndPathPoint,f=[{pos:l("8","9"),type:"straight"},{pos:l("8","6"),type:"curve",arc:"upperArc"},{pos:l("9","5"),type:"curve",arc:"lowerArc"},{pos:l("10","4"),type:"straight"},{pos:l("10","2"),type:"curve",arc:"upperArc"},{pos:l("9","1"),type:"straight"},{pos:l("7","1"),type:"curve",arc:"lowerArc"},{pos:l("6","2"),type:"curve",arc:"upperArc"},{pos:l("5","3"),type:"curve",arc:"lowerArc"},{pos:l("4","2"),type:"curve",arc:"upperArc"},{pos:l("3","1"),type:"straight",curveCheckPoints:[l("2","1"),l("1","2"),l("1","2.5"),l("1.5","3"),l("2","3.5")]},{pos:l("2","4"),type:"curve",arc:"upperArc"},{pos:l("3","5"),type:"straight"},{pos:l("5","5"),type:"curve",arc:"lowerArc"},{pos:l("6","6"),type:"curve",arc:"upperArc"},{pos:l("5","7"),type:"straight"},{pos:l("4","7"),type:"curve",arc:"lowerArc"},{pos:l("3","8"),type:"curve",arc:"upperArc"},{pos:l("4","9"),type:"straight"},{pos:l("5","9"),type:"curve",arc:"lowerArc"},{pos:l("6","10"),type:"curve",arc:"upperArc"},{pos:l("5","11"),type:"straight",curveCheckPoints:[l("3","11"),l("2","12"),l("1.5","13"),l("1","14"),l("2","15"),l("3","15"),l("4","14"),l("5","13")]},{pos:l("6","13"),type:"curve",arc:"lowerArc"},{pos:l("7","14"),type:"curve",arc:"upperArc"},{pos:l("6","15"),type:"straight"},{pos:l("5","15"),type:"curve",arc:"lowerArc"},{pos:l("4","14"),type:"curve",arc:"upperArc"},{pos:l("5","13"),type:"straight",curveCheckPoints:[l("12","13"),l("13","12"),l("12.5","11"),l("12","10.5"),l("11","10"),l("10","10.5"),l("9","11"),l("8","10"),l("8","9.5")]},{pos:l("8","9"),type:"straight"}],P=[{pos:l("1","10"),type:"straight"},{pos:l("1","6"),type:"curve",arc:"upperArc"},{pos:l("2","5"),type:"straight"},{pos:l("3","5"),type:"curve",arc:"lowerArc"},{pos:l("4","4"),type:"curve",arc:"upperArc"},{pos:l("5","3"),type:"straight"},{pos:l("9","3"),type:"curve",arc:"lowerArc"},{pos:l("10","4"),type:"curve",arc:"upperArc"},{pos:l("9","5"),type:"curve",arc:"lowerArc"},{pos:l("8","6"),type:"straight",curveCheckPoints:[l("8","10"),l("9","11"),l("10","10.5"),l("11","10"),l("12","10.5"),l("13","11"),l("15","11"),l("16","10.5"),l("17","10"),l("18","10.5"),l("19","11"),l("20","10")]},{pos:l("20","6"),type:"curve",arc:"upperArc"},{pos:l("19","5"),type:"straight"},{pos:l("9","5"),type:"curve",arc:"lowerArc"},{pos:l("8","6"),type:"straight",curveCheckPoints:[l("8","8"),l("7","9"),l("6","10"),l("5.5","11"),l("5","12"),l("6","13"),l("7","14"),l("6","15"),l("5","15"),l("4","14"),l("4.5","13"),l("5","12"),l("4","11")]},{pos:l("1","10"),type:"straight"}],b=[{pos:l("5","12"),type:"curve",arc:"upperArc",curveCheckPoints:[l("5.5","11")]},{pos:l("6","10"),type:"curve",arc:"upperArc"},{pos:l("5","9"),type:"straight"},{pos:l("4","9"),type:"curve",arc:"lowerArc"},{pos:l("3","8"),type:"curve",arc:"upperArc"},{pos:l("4","7"),type:"straight"},{pos:l("7","7"),type:"curve",arc:"lowerArc"},{pos:l("8","8"),type:"straight"},{pos:l("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[l("8.5","11"),l("9","12")]},{pos:l("10","13"),type:"straight"},{pos:l("12","13"),type:"curve",arc:"lowerArc"},{pos:l("13","14"),type:"curve",arc:"upperArc"},{pos:l("14","15"),type:"straight"},{pos:l("19","15"),type:"curve",arc:"lowerArc"},{pos:l("20","14"),type:"straight"},{pos:l("20","4"),type:"curve",arc:"upperArc"},{pos:l("19","3"),type:"straight"},{pos:l("17","3"),type:"curve",arc:"lowerArc"},{pos:l("16","4"),type:"curve",arc:"upperArc"},{pos:l("15","5"),type:"curve",arc:"lowerArc"},{pos:l("14","4"),type:"straight"},{pos:l("14","2"),type:"curve",arc:"upperArc"},{pos:l("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[l("12","1.5")]},{pos:l("11","2"),type:"curve",arc:"lowerArc"},{pos:l("10","3"),type:"straight"},{pos:l("10","4"),type:"curve",arc:"upperArc"},{pos:l("9","5"),type:"curve",arc:"lowerArc"},{pos:l("8","6"),type:"straight"},{pos:l("8","10"),type:"curve",arc:"upperArc",curveCheckPoints:[l("8.5","11")]},{pos:l("9","12"),type:"curve",arc:"upperArc"},{pos:l("8","13"),type:"curve",arc:"lowerArc"},{pos:l("7","14"),type:"curve",arc:"upperArc"},{pos:l("6","15"),type:"straight"},{pos:l("5","15"),type:"curve",arc:"lowerArc"},{pos:l("4","14"),type:"curve",arc:"upperArc",curveCheckPoints:[l("4.5","13"),l("5","12")]}],x=[{pos:l("14","10.5"),type:"straight"},{pos:l("14","2"),type:"curve",arc:"upperArc"},{pos:l("13","1"),type:"curve",arc:"lowerArc",curveCheckPoints:[l("12","1.5"),l("11","2"),l("10","1.5")]},{pos:l("9","1"),type:"straight"},{pos:l("7","1"),type:"curve",arc:"lowerArc"},{pos:l("6","2"),type:"curve",arc:"upperArc"},{pos:l("7","3"),type:"straight"},{pos:l("9","3"),type:"curve",arc:"lowerArc"},{pos:l("10","4"),type:"curve",arc:"upperArc"},{pos:l("11","5"),type:"straight"},{pos:l("19","5"),type:"curve",arc:"lowerArc"},{pos:l("20","6"),type:"straight"},{pos:l("20","10"),type:"curve",arc:"upperArc"},{pos:l("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[l("18","10.5"),l("17","10"),l("16","10.5"),l("15.5","11")]},{pos:l("15","12"),type:"straight"},{pos:l("15","14"),type:"curve",arc:"upperArc"},{pos:l("14","15"),type:"curve",arc:"lowerArc"},{pos:l("13","14"),type:"straight"},{pos:l("13","12"),type:"curve",arc:"upperArc",curveCheckPoints:[l("12.5","11"),l("12","10.5"),l("10","10.5")]},{pos:l("9","11"),type:"curve",arc:"lowerArc"},{pos:l("8","10"),type:"curve",arc:"upperArc"},{pos:l("7","9"),type:"curve",arc:"lowerArc"},{pos:l("6","10"),type:"curve",arc:"upperArc",curveCheckPoints:[l("5.5","11")]},{pos:l("5","12"),type:"curve",arc:"upperArc"},{pos:l("6","13"),type:"straight"},{pos:l("12","13"),type:"curve",arc:"lowerArc"},{pos:l("13","12"),type:"curve",arc:"upperArc"},{pos:l("13.5","11"),type:"curve",arc:"lowerArc"},{pos:l("14","10.5"),type:"straight"}],S=[{pos:l("16","7"),type:"straight"},{pos:l("16","10"),type:"curve",arc:"upperArc"},{pos:l("15","11"),type:"straight"},{pos:l("14","11"),type:"curve",arc:"lowerArc"},{pos:l("13","12"),type:"curve",arc:"upperArc"},{pos:l("12","13"),type:"straight"},{pos:l("8","13"),type:"curve",arc:"lowerArc"},{pos:l("7","14"),type:"curve",arc:"upperArc"},{pos:l("6","15"),type:"straight"},{pos:l("2","15"),type:"curve",arc:"lowerArc"},{pos:l("1","14"),type:"curve",arc:"upperArc",curveCheckPoints:[l("1.5","13"),l("2","12"),l("1.5","11")]},{pos:l("1","10"),type:"straight"},{pos:l("1","6"),type:"curve",arc:"upperArc"},{pos:l("2","5"),type:"straight"},{pos:l("5","5"),type:"curve",arc:"lowerArc"},{pos:l("6","6"),type:"curve",arc:"upperArc"},{pos:l("7","7"),type:"curve",arc:"lowerArc"},{pos:l("8","6"),type:"curve",arc:"upperArc"},{pos:l("9","5"),type:"straight"},{pos:l("13","5"),type:"curve",arc:"lowerArc"},{pos:l("14","4"),type:"straight"},{pos:l("14","2"),type:"curve",arc:"upperArc"},{pos:l("15","1"),type:"curve",arc:"lowerArc"},{pos:l("16","2"),type:"curve",arc:"upperArc"},{pos:l("17","3"),type:"straight"},{pos:l("19","3"),type:"curve",arc:"lowerArc"},{pos:l("20","2"),type:"curve",arc:"upperArc"},{pos:l("19","1"),type:"curve",arc:"lowerArc"},{pos:l("18","2"),type:"curve",arc:"upperArc"},{pos:l("19","3"),type:"curve",arc:"lowerArc"},{pos:l("20","4"),type:"straight"},{pos:l("20","10"),type:"curve",arc:"upperArc"},{pos:l("19","11"),type:"curve",arc:"lowerArc",curveCheckPoints:[l("18","10.5")]},{pos:l("17","10"),type:"curve",arc:"lowerArc"},{pos:l("16","9"),type:"straight"},{pos:l("16","7"),type:"straight"}],E=[{pos:l("10","3.5"),type:"curve",arc:"upperArc"},{pos:l("9","3"),type:"straight"},{pos:l("5","3"),type:"curve",arc:"lowerArc"},{pos:l("4","2"),type:"curve",arc:"upperArc"},{pos:l("3","1"),type:"straight"},{pos:l("2","1"),type:"curve",arc:"lowerArc"},{pos:l("1","2"),type:"curve",arc:"upperArc"},{pos:l("1.5","3"),type:"curve",arc:"lowerArc"},{pos:l("2","4"),type:"curve",arc:"upperArc"},{pos:l("3","5"),type:"straight"},{pos:l("5","5"),type:"curve",arc:"lowerArc"},{pos:l("6","6"),type:"curve",arc:"upperArc"},{pos:l("5","7"),type:"straight"},{pos:l("4","7"),type:"curve",arc:"lowerArc"},{pos:l("3","8"),type:"curve",arc:"upperArc"},{pos:l("4","9"),type:"straight"},{pos:l("7","9"),type:"curve",arc:"lowerArc"},{pos:l("8","10"),type:"curve",arc:"upperArc"},{pos:l("8.5","11"),type:"curve",arc:"lowerArc"},{pos:l("9","12"),type:"curve",arc:"upperArc"},{pos:l("10","13"),type:"straight"},{pos:l("12","13"),type:"curve",arc:"lowerArc"},{pos:l("13","12"),type:"curve",arc:"upperArc"},{pos:l("14","11"),type:"curve",arc:"lowerArc"},{pos:l("15","12"),type:"curve",arc:"upperArc"},{pos:l("15","14"),type:"curve",arc:"upperArc"},{pos:l("16","15"),type:"straight"},{pos:l("19","15"),type:"curve",arc:"lowerArc"},{pos:l("20","14"),type:"straight"},{pos:l("20","2"),type:"curve",arc:"upperArc"},{pos:l("19","1"),type:"straight"},{pos:l("17","1"),type:"curve",arc:"lowerArc"},{pos:l("16","2"),type:"straight"},{pos:l("16","4"),type:"curve",arc:"upperArc"},{pos:l("15","5"),type:"curve",arc:"lowerArc"},{pos:l("14","4"),type:"straight"},{pos:l("14","2"),type:"curve",arc:"upperArc"},{pos:l("13","1"),type:"curve",arc:"lowerArc"},{pos:l("12","1.5"),type:"curve",arc:"upperArc"},{pos:l("11","2"),type:"curve",arc:"lowerArc"},{pos:l("10","3.5"),type:"curve",arc:"lowerArc"}],F=[{pos:h,lookAt:y},{pos:g,lookAt:m},{pos:v,lookAt:w},{pos:A,lookAt:w}],M=[{pos:new t.Vector3(i[11],.40625,p[7.5]),type:"straight",lookAtSequence:[new t.Vector3(i[11],.2,p[8]),new t.Vector3(i[11],1.2,p[16]),new t.Vector3(i[11],.55,p[16])]},{pos:l("11","7.5"),type:"curve",arc:"lowerArc"},{pos:l("11","9"),type:"curve",arc:"upperArc",curveCheckPoints:[new t.Vector3(i[11],.55,.6525),l("11.5","10"),l("12","10.5"),l("12.5","11")]},{pos:l("13","11"),type:"straight"},{pos:l("14.5","11"),type:"curve",arc:"lowerArc"},{pos:l("15","11.5"),type:"straight"},{pos:l("15","14.5"),type:"curve",arc:"upperArc"},{pos:l("14.5","15"),type:"straight"},{pos:l("13.5","15"),type:"curve",arc:"lowerArc"},{pos:l("13","14.5"),type:"straight"},{pos:l("13","13.5"),type:"curve",arc:"upperArc"},{pos:l("12.5","13"),type:"straight"},{pos:l("7.5","13"),type:"curve",arc:"lowerArc"},{pos:l("7","13.5"),type:"straight"},{pos:l("7","14.5"),type:"curve",arc:"upperArc"},{pos:l("7.5","15"),type:"straight"},{pos:l("10.5","15"),type:"curve",arc:"lowerArc"},{pos:l("11","16"),type:"curve",arc:"upperArc"}],C=[{pos:l("16","10"),type:"straight"},{pos:l("16","10.5"),type:"curve",arc:"upperArc"},{pos:l("15.5","11"),type:"straight"},{pos:l("14.5","11"),type:"straight"}],k=[{pos:l("16","15"),type:"straight"},{pos:l("15.5","15"),type:"curve",arc:"lowerArc"},{pos:l("15","14.5"),type:"straight"},{pos:l("15","13.5"),type:"straight"}],V=[{pos:l("9","12"),type:"straight"},{pos:l("9","12.5"),type:"curve",arc:"upperArc"},{pos:l("9.5","13"),type:"straight"},{pos:l("10.5","13"),type:"straight"}],I=[{pos:l("7","14"),type:"straight"},{pos:l("7","13.5"),type:"curve",arc:"upperArc"},{pos:l("7.5","13"),type:"straight"},{pos:l("8.5","13"),type:"straight"}],z=[{pos:l("11","16"),type:"straight"},{pos:l("11","15.5"),type:"curve",arc:"upperArc"},{pos:l("10.5","15"),type:"straight"},{pos:l("9.5","15"),type:"straight"}],_={ghost1:{triggerPos:new t.Vector3(.65725,.55,.75325),ghostStartFadeIn:new t.Vector3(.7075,.55,.8035),ghostEndFadeIn:new t.Vector3(.725,.55,.8035),ghostStartFadeOut:new t.Vector3(.75,.55,.8035),camStartFadeIn:new t.Vector3(.75775,.55,.8035),camEndFadeIn:new t.Vector3(.775,.55,.8035),camStartFadeOut:new t.Vector3(.84,.55,.8035),endPosition:new t.Vector3(.85825,.55,.8035),forceEndProgress:{start:.1,end:.16}},ghost2:{triggerPos:new t.Vector3(.9085,.55,.8035),ghostStartFadeIn:new t.Vector3(.95875,.55,.85375),ghostEndFadeIn:new t.Vector3(.95875,.55,.875),ghostStartFadeOut:new t.Vector3(.95875,.55,.89),camStartFadeIn:new t.Vector3(.95875,.55,.904),camEndFadeIn:new t.Vector3(.95875,.55,.93),camStartFadeOut:new t.Vector3(.95875,.55,.9975),endPosition:new t.Vector3(.95875,.55,1.0045),forceEndProgress:{start:.17,end:.22}},ghost3:{triggerPos:new t.Vector3(.75775,.55,1.05475),ghostStartFadeIn:new t.Vector3(.7075,.55,1.0045),ghostEndFadeIn:new t.Vector3(.7075,.55,1.0045),ghostStartFadeOut:new t.Vector3(.6825,.55,1.0045),camStartFadeIn:new t.Vector3(.65725,.55,1.0045),camEndFadeIn:new t.Vector3(.65725,.55,1.0045),camStartFadeOut:new t.Vector3(.6065,.55,1.0045),endPosition:new t.Vector3(.55675,.55,1.0045),forceEndProgress:{start:.23,end:.33}},ghost4:{triggerPos:new t.Vector3(.65725,.55,1.0045),ghostStartFadeIn:new t.Vector3(.5565,.55,1.0045),ghostEndFadeIn:new t.Vector3(.5065,.55,1.0045),ghostStartFadeOut:new t.Vector3(.4815,.55,1.0045),camStartFadeIn:new t.Vector3(.45625,.55,1.0045),camEndFadeIn:new t.Vector3(.45625,.55,1.0045),camStartFadeOut:new t.Vector3(.4065,.55,1.0045),endPosition:new t.Vector3(.35575,.55,1.0045),forceEndProgress:{start:.38,end:.47}},ghost5:{triggerPos:new t.Vector3(.15475,.55,1.15525),ghostStartFadeIn:new t.Vector3(.1795,.55,1.18),ghostEndFadeIn:new t.Vector3(.205,.55,1.2055),ghostStartFadeOut:new t.Vector3(.23025,.55,1.2055),camStartFadeIn:new t.Vector3(.25525,.55,1.2055),camEndFadeIn:new t.Vector3(.25525,.55,1.2055),camStartFadeOut:new t.Vector3(.3055,.55,1.2055),endPosition:new t.Vector3(.35575,.55,1.2055),forceEndProgress:{start:.52,end:.59}}};function T(){return h}function B(){return y}const O={pacman:f,ghost1:P,ghost2:b,ghost3:x,ghost4:S,ghost5:E},L={camera:M,ghost1:C,ghost2:k,ghost3:V,ghost4:I,ghost5:z};function q(){return F}s().registerPlugin(c());const j=new t.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.001,100),R=new t.Scene,$=new t.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp"}),G=new t.Clock,D=[];function H(){const e=Math.min(window.devicePixelRatio,o?2:3);$.setPixelRatio(e),r.mazeContainer?($.setSize(r.mazeContainer.clientWidth,r.mazeContainer.clientHeight),j.aspect=r.mazeContainer.clientWidth/r.mazeContainer.clientHeight):($.setSize(window.innerWidth,window.innerHeight),j.aspect=window.innerWidth/window.innerHeight),j.updateProjectionMatrix()}const W=(new t.TextureLoader).load("https://c-am.b-cdn.net/CAM/matcap24.png"),U=new t.MeshMatcapMaterial({matcap:W}),N=new t.MeshStandardMaterial({color:15923705,metalness:.4,roughness:0,envMapIntensity:10}),Y=new t.MeshPhysicalMaterial({color:16777215,opacity:1,transparent:!0,depthWrite:!1,depthTest:!0,blending:t.NormalBlending,side:t.DoubleSide,roughness:.75,metalness:.2,transmission:.5}),Q=new t.MeshStandardMaterial({color:16777215,opacity:.8,transparent:!0,roughness:.5,metalness:.1}),X={blue:new t.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1}),white:new t.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),default:new t.MeshBasicMaterial({color:1337811,transparent:!0,opacity:1})},Z={CAM_Pacman_Backframe:X.blue,"CAM-Pacman_Bitcoin_1":X.white,"CAM-Pacman_Bitcoin_2":X.white,"CAM-Pacman_Bottom":X.blue,"CAM-Pacman_Top":X.blue,"CAM-Pacman_Eye":X.white,CAM_Pacman_Logo_1:X.white,CAM_Pacman_Logo_2:X.white,"CAM-Pacman_Shell_Boolean":X.blue,"CAM-Pacman_Shell":X.blue,"CAM-Pacman_Bottom_electronic":X.white,"CAM-Pacman_Top_electronic":X.white,"CAM-Pacman_Bottom_Text":X.white,"CAM-Pacman_Top_Text":X.white,default:X.blue},K=new t.GLTFLoader;let J;const ee=new t.Group,te={pacman:ee,ghost1:new t.Mesh(new t.BufferGeometry,Y),ghost2:new t.Mesh(new t.BufferGeometry,Y),ghost3:new t.Mesh(new t.BufferGeometry,Y),ghost4:new t.Mesh(new t.BufferGeometry,Y),ghost5:new t.Mesh(new t.BufferGeometry,Y)},oe={Ghost_EUR:te.ghost1,Ghost_CHF:te.ghost2,Ghost_YEN:te.ghost3,Ghost_USD:te.ghost4,Ghost_GBP:te.ghost5};new t.MeshBasicMaterial({color:65280,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0});const re=new Map;class ne{constructor(e,t=.06){this.currentTangent=e.clone(),this.smoothing=t}update(e){return this.currentTangent.lerp(e,this.smoothing),this.currentTangent.normalize()}reset(e){this.currentTangent.copy(e)}getCurrentTangent(){return this.currentTangent.clone()}setSmoothingFactor(e){this.smoothing=Math.max(.001,Math.min(1,e))}}function se(e,o){const r=e.map((e=>`${e.pos.x},${e.pos.y},${e.pos.z},${e.type},${e.arc||""}`)).join("|");if(re.has(r))return re.get(r);const n=new t.CurvePath;let s=0;for(;s<e.length-1;){const o=e[s],r=e[s+1];if(o.curveCheckPoints&&o.curveCheckPoints.length>0){const e=[o.pos,...o.curveCheckPoints,r.pos];n.add(new t.CatmullRomCurve3(e,!1,"centripetal",0))}else if("straight"===o.type)n.add(new t.LineCurve3(o.pos,r.pos));else{const e=ae(o,r);n.add(new t.QuadraticBezierCurve3(o.pos,e,r.pos))}s++}return re.set(r,n),n}function ae(e,o){if(e.arc){const r=e.arc;if("upperArc"===r)return new t.Vector3(e.pos.x,e.pos.y,o.pos.z);if("lowerArc"===r)return new t.Vector3(o.pos.x,e.pos.y,e.pos.z);if("forwardDownArc"===r)return new t.Vector3(e.pos.x,o.pos.y,e.pos.z)}return new t.Vector3(e.pos.x,e.pos.y,o.pos.z)}function ce(e){const o=new t.CurvePath;if(4===e.length){const r=new t.CubicBezierCurve3(e[0].pos,e[1].pos,e[2].pos,e[3].pos);o.add(r)}return o}function ie(){const e={};return Object.entries(O).forEach((([t,o])=>{e[t]=se(o)})),e}function pe(){const e={};return Object.entries(L).forEach((([t,o])=>{e[t]=se(o)})),e}function le(e,t,o="ghost"){if(!t||0===t.length())return;const r=Math.atan2(t.x,t.z);if("pacman"===o)e.rotation.set(-Math.PI/2,Math.PI,-(r+Math.PI/2));else if("ghost"===o)e.rotation.set(0,r,0);else if("camera"===o){const o=e.position.clone().add(t);e.lookAt(o)}}const ue=(new t.Quaternion).setFromEuler(new t.Euler(Math.PI/2,0,0)),de=(new t.Quaternion).setFromEuler(new t.Euler(-Math.PI/2,0,0));function he(e,t,o){const r=t.angleTo(ue)<t.angleTo(de)?ue:de;e.quaternion.copy(t.clone().slerp(r,o))}let ge=null;const ye={pacman:.9,ghost1:1,ghost2:1.1,ghost3:1.2,ghost4:1.3,ghost5:1.4};function me(e,o){ge&&(ge.kill(),ge=null);const r=function(e){const o=function(e){const o={};return Object.entries(e).forEach((([e,r])=>{const n=new t.Vector3(r.x*(1/4)+u.x*(3/4),1.5,r.z*(1/4)+u.z*(3/4));o[e]=[{pos:r.clone()},{pos:n},{pos:u}]})),o}(e),r={camera:ce(q())};return Object.entries(o).forEach((([e,o])=>{r[e]=function(e){const o=new t.CurvePath;if(3===e.length){const r=new t.QuadraticBezierCurve3(e[0].pos,e[1].pos,e[2].pos);o.add(r)}return o}(o)})),r}(e),n=q();ge=s().timeline({scrollTrigger:{id:"homeScroll",trigger:".sc--home",start:"top top",end:"bottom top",scrub:.5,onScrubComplete:()=>{ke()}}}).to({progress:0},{progress:1,immediateRender:!1,onUpdate:function(){const e=this.targets()[0].progress;j.fov=50,j.updateProjectionMatrix(),function(e,o,r,n){if(o.camera){const r=o.camera.getPointAt(e);j.position.copy(r);const s=new t.CubicBezierCurve3(n[0].lookAt,n[1].lookAt,n[2].lookAt,n[3].lookAt).getPoint(e);j.lookAt(s),j.updateProjectionMatrix()}const s=.85,a=e<s?1:e>.95?0:1-(e-s)/.09999999999999998,c=Math.pow(e,1.5);if(o.pacman&&ee){const t=ye.pacman??1,n=Math.min(e*t,1),s=Math.pow(n,1.25),i=o.pacman.getPointAt(s);i&&(ee.position.copy(i),he(ee,r.pacman,c),ee.traverse((e=>{e.isMesh&&e.material&&(e.material.opacity=a)})))}Object.entries(te).forEach((([t,n])=>{const s=o[t];if(s){const o=ye[t]??1,i=Math.min(e*o,1),p=Math.pow(i,1.25),l=s.getPointAt(p);l&&(n.position.copy(l),he(n,r[t],c),n.material&&(n.material.opacity=a))}}))}(e,r,o,n)}})}const ve=50,we=1.5;let Ae=!0,fe=0,Pe=0,be={},xe={},Se=!1,Ee=0,Fe={},Me=!1;const Ce={};function ke(){0===window.scrollY&&function(){Ae=!0,fe=Pe*ve,Ee=0,Fe={},Ce.pacman=new ne(new t.Vector3(1,0,0),.06),Ce.ghost1=new ne(new t.Vector3(1,0,0),.06),Ce.ghost2=new ne(new t.Vector3(1,0,0),.06),Ce.ghost3=new ne(new t.Vector3(1,0,0),.06),Ce.ghost4=new ne(new t.Vector3(1,0,0),.06),Ce.ghost5=new ne(new t.Vector3(1,0,0),.06);const e=ie();var o;Object.entries(te).forEach((([t,o])=>{const r=e[t];if(r){Me&&(Fe[t]=o.quaternion.clone());const e=r.getPointAt(0);if(e&&o.position.copy(e),"pacman"!==t&&(o.visible=!0,o.scale.set(1,1,1)),Ce[t]){const e=r.getTangentAt(0);e&&Ce[t].reset(e)}}})),Se||(o=()=>function(e){if(!Ae)return;fe+=e,Ee+=e;const o=fe%ve/ve,r=ie();J&&J.update(e);const n=Math.min(Ee/we,1),s=Me&&n<1;Object.entries(te).forEach((([e,a])=>{const c=r[e];if(c){const r=c.getPointAt(o);r&&a.position.copy(r);const i=new t.Quaternion;if(Ce[e]&&o>0){const r=c.getTangentAt(o);if(r&&r.length()>0){const o=Ce[e].update(r),n="pacman"===e?"pacman":"ghost",s=new t.Object3D;le(s,o,n),i.copy(s.quaternion)}}if(s&&Fe[e]){const t=n*n*(3-2*n);a.quaternion.copy(Fe[e].clone().slerp(i,t))}else a.quaternion.copy(i)}}))}(G.getDelta()),D.push(o),Se=!0)}()}let Ve=null,Ie=null,ze=!1,_e=!1,Te=!1;const Be=new t.Vector3(.55675,.55,1.306),Oe=new t.Vector3(-.14675,1,1.8085);new t.Vector3(-.14675,0,1.8085);let Le=null;const qe={},je={};function Re(){Ve&&(Ve.kill(),Ve=null),je.camera=new ne(new t.Vector3(0,0,-1),.08),je.ghost1=new ne(new t.Vector3(1,0,0),.08),je.ghost2=new ne(new t.Vector3(1,0,0),.08),je.ghost3=new ne(new t.Vector3(1,0,0),.08),je.ghost4=new ne(new t.Vector3(1,0,0),.08),je.ghost5=new ne(new t.Vector3(1,0,0),.08),Object.keys(_).forEach((e=>{qe[e]={hasBeenTriggered:!1,hasBeenDeactivated:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0,ghostTextOpacity:0,camTextOpacity:0,lastProgress:0}})),Ve=s().timeline({scrollTrigger:{id:"povScroll",trigger:r.povSection,start:"top bottom",end:"bottom top",markers:!0,scrub:.5,toggleActions:"play none none reverse"}}).to({progress:0},{progress:1,immediateRender:!1,onStart:$e,onUpdate:function(){Ge.call(this)},onReverseComplete:()=>{De(),He()},onComplete:()=>{De(),He()}})}function $e(){const e=pe();if(je.camera&&e.camera){const t=e.camera.getTangentAt(0);t&&je.camera.reset(t)}Object.entries(te).forEach((([t,o])=>{if(e[t]&&"pacman"!==t){const r=e[t].getPointAt(0);o.position.copy(r);const n=e[t].getTangentAt(0).normalize();o.lookAt(r.clone().add(n)),o.visible=!1,o.scale.set(.5,.5,.5)}})),te.pacman&&(te.pacman.visible=!1)}function Ge(){const e=this.targets()[0].progress,o=pe();if(!o.camera)return;const r=o.camera.getPointAt(e);Ie?(function(e,o,r){j.position.copy(r),j.fov=80;const n=function(e,o){const r=L.camera,n=.05;if(e<=n){const t=r[0];if("lookAtSequence"in t&&t.lookAtSequence&&t.lookAtSequence.length>0){const o=e/n,r=t.lookAtSequence.length,s=1/r,a=Math.floor(o/s),c=o%s/s,i=Math.min(a,r-1),p=Math.min(a+1,r-1);if(i===p)return t.lookAtSequence[i];{const e=t.lookAtSequence[i],o=t.lookAtSequence[p];return e.clone().lerp(o,c)}}}else if(e<=.07){const s=r[0];if("lookAtSequence"in s&&s.lookAtSequence&&s.lookAtSequence.length>0){const r=s.lookAtSequence[s.lookAtSequence.length-1],a=o.camera.getPointAt(e),c=o.camera.getTangentAt(e).normalize(),i=new t.Vector3(c.x,0,c.z).normalize(),p=a.clone().add(i),l=(e-n)/.020000000000000004;return r.clone().lerp(p,l)}}return null}(e,o);if(n)return j.lookAt(n),void j.updateProjectionMatrix();const s=o.camera.getTangentAt(e).normalize();let a=s;je.camera&&e>0&&(a=je.camera.update(s)),e<=.15&&(a=new t.Vector3(a.x,0,a.z).normalize());(function(e,t){const o=We(pe().camera,Be),r=We(pe().camera,Oe);(e<o||e>r)&&!_e&&(Le=null,ze=!1,Te=!1,_e=!1),ze||_e||j.lookAt(t)})(e,r.clone().add(a)),j.updateProjectionMatrix()}(e,o,r),function(e,t,o){Object.entries(_).forEach((([r,n])=>{const s=te[r],a=o[r];if(!s||!a||"pacman"===r)return;const c=t>n.forceEndProgress.start&&t<n.forceEndProgress.end;!function(e,t,o,r,n,s){const{triggerPos:a,ghostStartFadeIn:c,ghostEndFadeIn:i,ghostStartFadeOut:p,camStartFadeIn:l,camEndFadeIn:u,camStartFadeOut:d,endPosition:h}=n,g=qe[e],y=document.querySelectorAll(".cmp--pov.cmp")[parseInt(e.replace("ghost",""))-1];if(!y)return;const m=y.querySelectorAll(".pov"),v=y.querySelectorAll(".cam");if(!m||!v||0===m.length||0===v.length)return;null===g.triggerCameraProgress&&(g.triggerCameraProgress=We(pe().camera,a,800),g.ghostStartFadeInProgress=We(pe().camera,c,800),g.ghostEndFadeInProgress=We(pe().camera,i,800),g.ghostStartFadeOutProgress=We(pe().camera,p,800),g.camStartFadeInProgress=We(pe().camera,l,800),g.camEndFadeInProgress=We(pe().camera,u,800),g.camStartFadeOutProgress=We(pe().camera,d,800),g.endCameraProgress=We(pe().camera,h,800));const w=We(pe().camera,r,800);if(w>=g.triggerCameraProgress&&w<=g.endCameraProgress){if(!t.visible&&(t.visible=!0,g.hasBeenTriggered=!0,je[e])){const t=o.getTangentAt(0);t&&je[e].reset(t)}const r=(w-g.triggerCameraProgress)/(g.endCameraProgress-g.triggerCameraProgress);let n=Math.max(0,Math.min(1,r));if(void 0===g.currentPathT)g.currentPathT=n;else{const e=.1;g.currentPathT+=(n-g.currentPathT)*e}n=g.currentPathT;const s=o.getPointAt(n);if(t.position.copy(s),je[e]&&n>0){const r=o.getTangentAt(n);r&&r.length()>0&&le(t,je[e].update(r),"ghost")}if(n>.9){const e=t;e.material&&"opacity"in e.material&&(e.material.opacity=1-(n-.9)/.1)}else{const e=t;e.material&&"opacity"in e.material&&(e.material.opacity=1)}}else t.visible=!1,g.hasBeenTriggered=!1;!function(e,t,o,r,n,s,a=!1){if(a)return r.style.opacity="0",r.classList.add("no-visibility"),n.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"})),void s.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"}));let c=0,i=0;if(t>=o.ghostStartFadeInProgress&&t<=o.ghostEndFadeInProgress){const e=(t-o.ghostStartFadeInProgress)/(o.ghostEndFadeInProgress-o.ghostStartFadeInProgress);c=Math.min(1,e),r.style.opacity=c.toString()}else if(t>o.ghostEndFadeInProgress&&t<o.ghostStartFadeOutProgress)c=1;else if(t>=o.ghostStartFadeOutProgress&&t<=o.camStartFadeInProgress){const e=(t-o.ghostStartFadeOutProgress)/(o.camStartFadeInProgress-o.ghostStartFadeOutProgress);c=Math.max(0,1-e)}if(t>=o.camStartFadeInProgress&&t<=o.camEndFadeInProgress){const e=(t-o.camStartFadeInProgress)/(o.camEndFadeInProgress-o.camStartFadeInProgress);i=Math.min(1,e)}else if(t>o.camEndFadeInProgress&&t<o.camStartFadeOutProgress)i=1;else if(t>=o.camStartFadeOutProgress&&t<=o.endCameraProgress){const e=(t-o.camStartFadeOutProgress)/(o.endCameraProgress-o.camStartFadeOutProgress);i=Math.max(0,1-e),r.style.opacity=i.toString()}i>.01&&c>.01?r.classList.contains("no-visibility")||r.classList.add("no-visibility"):r.classList.contains("no-visibility")||r.classList.remove("no-visibility"),n.forEach((e=>{const t=e;c>.01?(t.classList.remove("no-visibility"),t.style.opacity=c.toString()):c<=.01&&!t.classList.contains("no-visibility")&&(t.classList.add("no-visibility"),t.style.opacity="0")})),s.forEach((e=>{const t=e;i>.01?(t.classList.remove("no-visibility"),t.style.opacity=i.toString()):i<=.01&&!t.classList.contains("no-visibility")&&(t.classList.add("no-visibility"),t.style.opacity="0")}))}(0,w,g,y,m,v,s)}(r,s,a,e,n,c)}))}(r,e,o),Ie.copy(r)):Ie=r.clone()}function De(){Object.entries(te).forEach((([e,t])=>{if("pacman"!==e){t.visible=!1;const o=parseInt(e.replace("ghost",""))-1,r=document.querySelectorAll(".cmp--pov.cmp")[o];if(r){const e=document.querySelectorAll(".pov"),t=document.querySelectorAll(".cam");e.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"})),t.forEach((e=>{const t=e;t.classList.add("no-visibility"),t.style.opacity="0"}))}r.classList.contains("no-visibility")||r.classList.add("no-visibility");const n=t;n.material&&"opacity"in n.material&&(n.material.opacity=1)}})),te.pacman&&(te.pacman.visible=!0),Object.keys(je).forEach((e=>{if(je[e]){const o="camera"===e?new t.Vector3(0,0,-1):new t.Vector3(1,0,0);je[e].reset(o)}}))}function He(){te.pacman&&(te.pacman.visible=!0),ze=!1,Le=null,_e=!1,Object.keys(qe).forEach((e=>{qe[e]={hasBeenTriggered:!1,hasBeenDeactivated:!1,triggerCameraProgress:null,ghostStartFadeInProgress:null,ghostEndFadeInProgress:null,ghostStartFadeOutProgress:null,camStartFadeInProgress:null,camEndFadeInProgress:null,camStartFadeOutProgress:null,endCameraProgress:null,currentPathT:0,ghostTextOpacity:0,camTextOpacity:0,lastProgress:0},je[e]&&je[e].reset(new t.Vector3(1,0,0))})),je.camera&&je.camera.reset(new t.Vector3(0,0,-1))}function We(e,t,o=2e3){if(!e||!t)return 0;let r=0,n=1/0;for(let s=0;s<o;s++)try{const a=s/(o-1),c=e.getPointAt(a);if(!c)continue;const i=c.distanceTo(t);i<n&&(n=i,r=a)}catch(e){}return r}let Ue=null,Ne={x:0,y:-100,z:-50};function Ye(){console.log("üéõÔ∏è Current Ghost Positions:"),["pacman","ghost1","ghost2","ghost3"].forEach((e=>{const t=te[e];t?console.log(`  ${e}:`,{x:t.position.x.toFixed(2),y:t.position.y.toFixed(2),z:t.position.z.toFixed(2),visible:t.visible,scale:`${t.scale.x.toFixed(2)}, ${t.scale.y.toFixed(2)}, ${t.scale.z.toFixed(2)}`}):console.log(`  ${e}: NOT FOUND`)})),console.log("üéõÔ∏è Adjuster values:",Ne),console.log("üéõÔ∏è Camera position:",{x:j.position.x.toFixed(2),y:j.position.y.toFixed(2),z:j.position.z.toFixed(2)})}function Qe(){console.log("üé¨ resetGhostsForIntro called");const e=["pacman","ghost1","ghost2","ghost3"];Object.entries(te).forEach((([t,o])=>{if(e.includes(t)){o.visible=!0,o.scale.set(.1,.1,.1);const e={ghost1:16711680,ghost2:65280,ghost3:255};o.traverse((o=>{if(o.isMesh&&o.material){const r=o,n=o.name||"";if(["EUR","CHF","YEN","USD","GBP"].includes(n))return void(r.visible=!1);if("pacman"!==t&&!n.startsWith("Ghost_Mesh"))return void(r.visible=!1);if("pacman"===t&&(n.includes("Shell")||n.includes("Bitcoin_1")||n.includes("Bitcoin_2")))return void(r.visible=!1);if(r.visible=!0,e[t]&&n.startsWith("Ghost_Mesh")){const o=e[t];Array.isArray(r.material)?r.material.forEach((e=>{e.color.setHex(o),e.opacity=1})):(r.material.color.setHex(o),r.material.opacity=1)}else Array.isArray(r.material)?r.material.forEach((e=>{e.opacity=1})):r.material.opacity=1}}))}}))}let Xe=null;!async function(){o?$.setPixelRatio(Math.min(window.devicePixelRatio,2)):$.setPixelRatio(window.devicePixelRatio),$.shadowMap.enabled=!0,$.shadowMap.type=t.PCFSoftShadowMap,r.mazeContainer?($.setSize(r.mazeContainer.clientWidth,r.mazeContainer.clientHeight),r.mazeContainer.appendChild($.domElement)):($.setSize(window.innerWidth,window.innerHeight),document.body.appendChild($.domElement)),H(),window.addEventListener("resize",H),$.render(R,j),function(){const e=new t.AmbientLight(16777215);R.add(e);const o=new t.DirectionalLight(16777215,.8);R.add(o),o.position.set(-5,15,10),o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.camera.left=-20,o.shadow.camera.right=20,o.shadow.camera.top=20,o.shadow.camera.bottom=-20,o.shadow.camera.near=.1,o.shadow.camera.far=50,o.shadow.bias=-.001,o.shadow.radius=3,o.castShadow=!0}(),function(){const e=T(),t=B();j.position.set(e.x,e.y,e.z),j.lookAt(t.x,t.y,t.z)}(),await async function(e){return Object.values(te).forEach((t=>e.add(t))),e.add(ee),new Promise(((o,r)=>{K.load("https://c-am.b-cdn.net/CAM/c-am-assets-3.glb",(function(r){const n=r.scene;n.traverse((e=>{})),n.traverse((o=>{if("CAM-Pacman"===o.name){const e=[];o.traverse((t=>{if(t.isMesh&&"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name){const o=Z[t.name]||Z.default;t.material=o,e.push(t)}else"CAM-Pacman_Shell"!==t.name&&"CAM-Pacman_Shell_Boolean"!==t.name&&"CAM-Pacman_Bitcoin_1"!==t.name&&"CAM-Pacman_Bitcoin_2"!==t.name||(t.visible=!1)})),e.forEach((e=>te.pacman.add(e))),te.pacman.scale.set(.05,.05,.05),te.pacman.rotation.set(Math.PI/2,Math.PI/2,Math.PI/4),J=new t.AnimationMixer(te.pacman);const n={};r.animations.forEach((e=>{const t=J.clipAction(e);t.getMixer().addEventListener("loop",(function(e){e.action.getRoot().traverse((function(e){e.userData&&e.userData.skipAnimation&&(e.updateMorphTargets=function(){})}))})),n[e.name]=t,t.setEffectiveWeight(0),t.play()})),Object.values(n).forEach((e=>{e.setEffectiveWeight(1)}))}else if(o.name&&oe[o.name]){const e=oe[o.name],r=new t.Group;o.rotation.z=Math.PI,o.rotation.x=Math.PI/2,o.scale.set(.75,.75,.75);const n=[];o.traverse((e=>{e.isMesh&&(e.name&&e.name.startsWith("Ghost_Mesh")?e.material=Y:e.name&&["EUR","CHF","YEN","USD","GBP"].includes(e.name)&&(e.visible=!1),n.push(e))})),n.forEach((e=>{e.name&&(e.name.includes("EUR")||e.name.startsWith("Ghost_Mesh"))?(e.rotation.z=Math.PI,e.rotation.x=Math.PI/2):e.rotation.set(0,0,0),r.add(e)})),e?e.add(r):console.warn(`ghostContainer for ${o.name} is undefined!`)}if(o.isMesh)if("CAM-Arena_LowRes_Top"===o.name)o.material=N,o.castShadow=!0;else if("CAM-Arena_LowRes_Bottom"===o.name)o.material=U,o.castShadow=!0;else if("CAM-Floor"===o.name){const r=o.clone();o.position.y=-.1,o.position.x=0,o.position.z=0,o.material=new t.MeshBasicMaterial({color:16777215,opacity:1,transparent:!1,depthWrite:!0,depthTest:!0,side:t.FrontSide}),o.receiveShadow=!1,o.castShadow=!0,o.scale.set(.5,.5,.5),r.material=Q,r.position.y=-.5,r.receiveShadow=!0,e.add(r)}else o.visible=!1})),n.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(n),n.position.set(.5,.5,.5),o()}),(function(e){}),(function(e){r(e)}))}))}(R),ke(),window.addEventListener("scroll",(()=>{0!==window.scrollY&&function(){if(!Ae)return;Ae=!1,Me=!0,Pe=fe%ve/ve,be={},xe={};const e=ie();Object.entries(te).forEach((([o,r])=>{be[o]=r.position.clone();const n=e[o];if(n&&Ce[o]){const e=n.getTangentAt(Pe);if(e&&e.length()>0){const e=Ce[o].getCurrentTangent(),r="pacman"===o?"pacman":"ghost",n=new t.Object3D;le(n,e,r),xe[o]=n.quaternion.clone()}else xe[o]=r.quaternion.clone()}else xe[o]=r.quaternion.clone()})),me(be,xe)}()})),Re(),document.getElementById("ghost-position-overlay")||function(){const e=document.getElementById("ghost-position-overlay");e&&e.remove();const t=document.createElement("div");t.id="ghost-position-overlay",t.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: rgba(20, 20, 20, 0.95);\n    color: white;\n    padding: 20px;\n    border-radius: 10px;\n    font-family: 'Arial', sans-serif;\n    font-size: 14px;\n    z-index: 10000;\n    min-width: 280px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n    border: 2px solid #444;\n  ",t.innerHTML=`\n    <h3 style="margin: 0 0 20px 0; color: #00ff00; font-size: 18px; text-align: center;">üéõÔ∏è Ghost Position Adjuster</h3>\n    \n    <div style="margin-bottom: 20px;">\n      <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">\n        <label style="font-weight: bold; color: #ff6b6b;">X Axis:</label>\n        <span id="x-value-display" style="color: #ff6b6b; font-weight: bold;">${Ne.x.toFixed(2)}</span>\n      </div>\n      <input \n        type="range" \n        id="ghost-x-slider" \n        min="-20" \n        max="20" \n        value="${Ne.x}" \n        step="0.1" \n        style="width: 100%; height: 8px; cursor: pointer;">\n    </div>\n\n    <div style="margin-bottom: 20px;">\n      <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">\n        <label style="font-weight: bold; color: #4ecdc4;">Y Axis:</label>\n        <span id="y-value-display" style="color: #4ecdc4; font-weight: bold;">${Ne.y.toFixed(2)}</span>\n      </div>\n      <input \n        type="range" \n        id="ghost-y-slider" \n        min="-200" \n        max="0" \n        value="${Ne.y}" \n        step="1" \n        style="width: 100%; height: 8px; cursor: pointer;">\n    </div>\n\n    <div style="margin-bottom: 20px;">\n      <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">\n        <label style="font-weight: bold; color: #95e1d3;">Z Axis:</label>\n        <span id="z-value-display" style="color: #95e1d3; font-weight: bold;">${Ne.z.toFixed(2)}</span>\n      </div>\n      <input \n        type="range" \n        id="ghost-z-slider" \n        min="-100" \n        max="0" \n        value="${Ne.z}" \n        step="1" \n        style="width: 100%; height: 8px; cursor: pointer;">\n    </div>\n\n    <button \n      id="reset-ghost-positions" \n      style="width: 100%; padding: 10px; margin-top: 10px; background: #333; color: white; border: 2px solid #555; cursor: pointer; border-radius: 5px; font-weight: bold;">\n      Reset to Default\n    </button>\n\n    <div style="margin-top: 15px; padding: 10px; background: #111; border-radius: 5px; font-size: 12px;">\n      <div style="margin-bottom: 5px;"><strong>Camera Position:</strong></div>\n      <div id="camera-pos-display" style="color: #aaa;">Loading...</div>\n    </div>\n  `,document.body.appendChild(t),console.log("üéõÔ∏è Position Adjuster Overlay Created"),Ye();const o=document.getElementById("ghost-x-slider"),r=document.getElementById("ghost-y-slider"),n=document.getElementById("ghost-z-slider");o?.addEventListener("input",(e=>{Ne.x=parseFloat(e.target.value),document.getElementById("x-value-display").textContent=Ne.x.toFixed(2),console.log(`üéõÔ∏è X Position changed to: ${Ne.x.toFixed(2)}`),Ye()})),r?.addEventListener("input",(e=>{Ne.y=parseFloat(e.target.value),document.getElementById("y-value-display").textContent=Ne.y.toFixed(2),console.log(`üéõÔ∏è Y Position changed to: ${Ne.y.toFixed(2)}`),Ye()})),n?.addEventListener("input",(e=>{Ne.z=parseFloat(e.target.value),document.getElementById("z-value-display").textContent=Ne.z.toFixed(2),console.log(`üéõÔ∏è Z Position changed to: ${Ne.z.toFixed(2)}`),Ye()})),document.getElementById("reset-ghost-positions")?.addEventListener("click",(()=>{console.log("üéõÔ∏è Reset button clicked - Resetting to defaults"),Ne={x:0,y:-100,z:-50},o.value=Ne.x.toString(),r.value=Ne.y.toString(),n.value=Ne.z.toString(),document.getElementById("x-value-display").textContent=Ne.x.toFixed(2),document.getElementById("y-value-display").textContent=Ne.y.toFixed(2),document.getElementById("z-value-display").textContent=Ne.z.toFixed(2),Ye()})),setInterval((()=>{const e=j.position,t=document.getElementById("camera-pos-display");t&&(t.innerHTML=`\n        X: <span style="color: #ff6b6b;">${e.x.toFixed(2)}</span><br>\n        Y: <span style="color: #4ecdc4;">${e.y.toFixed(2)}</span><br>\n        Z: <span style="color: #95e1d3;">${e.z.toFixed(2)}</span>\n      `)}),100)}(),Ue=s().timeline({scrollTrigger:{trigger:".sc--intro",start:"top top",end:"bottom bottom",scrub:.5,onEnter:()=>{console.log("üé¨ Intro section ENTERED!"),Qe()},onEnterBack:()=>{console.log("üé¨ Intro section ENTERED BACK!"),Qe()}}}).fromTo(".sc_h--intro",{scale:.5,opacity:0},{keyframes:[{scale:.5,opacity:0,duration:0},{scale:.8,opacity:1,duration:.3},{scale:1.2,opacity:1,duration:.4},{scale:1.5,opacity:0,duration:.3}]}).fromTo(".sc_b--intro",{scale:.5,opacity:0},{keyframes:[{scale:.5,opacity:0,duration:0},{scale:.8,opacity:1,duration:.3},{scale:1.2,opacity:1,duration:.4},{scale:1.5,opacity:0,duration:.3}]}).to({progress:0},{progress:1,duration:1,immediateRender:!1,onUpdate:function(){const e=this.targets()[0].progress;e>0&&e<.1&&console.log("üé¨ Timeline update - Progress:",e.toFixed(3)),function(e){e<.1&&console.log("üé¨ Animation update - Progress:",e.toFixed(3),"Camera:",j.position);const o=new t.Vector3(j.position.x+Ne.x,j.position.y+Ne.y,j.position.z+Ne.z),r=o.x-5,n=o.x;e<.05&&console.log("üé¨ Center point:",o,"Walk:",r,"to",n);const s=[{key:"pacman",offset:0},{key:"ghost1",offset:.25},{key:"ghost2",offset:.5},{key:"ghost3",offset:.75}];e<.05&&s.forEach((({key:e})=>{const t=te[e];console.log(`üé¨ ${e} exists:`,!!t,"position:",t?.position)})),s.forEach((({key:t,offset:s})=>{const a=te[t];if(!a)return void(e<.05&&console.warn(`‚ö†Ô∏è ${t} not found!`));const c=e+s;if(c>1.2)return void(a.visible=!1);const i=Math.max(0,Math.min(1,c)),p=r+(n-r)*i;a.position.set(p,o.y,o.z),a.visible=!0,e<.1&&console.log(`üé¨ ${t} - Progress: ${c.toFixed(3)}, Normalized: ${i.toFixed(3)}, Position:`,a.position);const l={ghost1:16711680,ghost2:65280,ghost3:255};a.traverse((e=>{if(e.isMesh&&e.material){const o=e,r=e.name||"";if(["EUR","CHF","YEN","USD","GBP"].includes(r))return void(o.visible=!1);if("pacman"!==t&&!r.startsWith("Ghost_Mesh"))return void(o.visible=!1);if("pacman"===t&&(r.includes("Shell")||r.includes("Bitcoin_1")||r.includes("Bitcoin_2")))return void(o.visible=!1);if(o.visible=!0,l[t]&&r.startsWith("Ghost_Mesh")){const e=l[t];Array.isArray(o.material)?o.material.forEach((t=>{t.color.setHex(e),t.opacity=1})):(o.material.color.setHex(e),o.material.opacity=1)}else Array.isArray(o.material)?o.material.forEach((e=>{e.opacity=1})):o.material.opacity=1}}))}))}(e)},onStart:function(){console.log("üé¨ Animation timeline STARTED!")}},0),Xe=gsap.timeline({scrollTrigger:{trigger:".sc--outro",start:"top center",end:"bottom bottom",scrub:.5}}).fromTo(".sc_b--outro",{scale:.5,opacity:0},{keyframes:[{scale:.5,opacity:0,duration:0},{scale:.8,opacity:1,duration:.3},{scale:1.2,opacity:1,duration:.4},{scale:1.5,opacity:0,duration:.3}]}),function(){const e=document.querySelector(".wr_p--skip.wr_p");if(e){const t=document.querySelector(".sc--testimonials");t&&e.addEventListener("click",(()=>{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))}}(),function(){const e=()=>{D.forEach((e=>e())),$.render(R,j),requestAnimationFrame(e)};e()}()}()})();
//# sourceMappingURL=script.js.map